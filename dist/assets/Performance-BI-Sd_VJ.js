import{r as e,j as t,B as n,I as a}from"./index-CuvnVpKY.js";import{H as s,S as o,a as i,E as l,u as r,C as p,b as x,B as c,c as d,d as u,e as g,f as h,g as S,F as m,P as f,V as y,h as j,R as b,i as w,M as D}from"./PositionHeader-vb4LkKpy.js";import{b as v,z as C,f as z,u as _,X as U,R as P,c as T,d as B,D as k,G as A,e as I,g as $,t as L,h as R,i as W,j as E,k as F,S as O,a as M}from"./suiClient-C6ybf6rl.js";import{u as H,H as V,C as N}from"./useSize-Csgc4NpZ.js";import{a as Y,b as G,u as X}from"./usePerformance-CoyQvZOW.js";import{T as q,V as J,S as K}from"./v-stack-CxNb6nMy.js";import"./toaster-BQtTXhrk.js";import"./button-Bh1Rvwzi.js";function Q({total:e,currentPage:n,pageSize:a,onPageChange:o}){const i=Math.ceil(e/a);return t.jsxs(V,{gap:"8px",w:"100%",justifyContent:"center",children:[t.jsx(s,{w:"40px",h:"28px",borderRadius:"0px",onClick:()=>o(1),disabled:1===n,children:t.jsx(N,{name:"icon-icon_download",boxSize:"14px",rotate:"90deg",_hover:{fill:1===n?"second_text":"primary"}})}),t.jsx(s,{w:"40px",h:"28px",borderRadius:"0px",onClick:()=>o(n-1),disabled:1===n,children:t.jsx(N,{name:"icon-icon_arrow",boxSize:"16px",rotate:"225deg",_hover:{fill:1===n?"second_text":"primary"}})}),t.jsxs(q,{fontSize:"12px",color:"primary_text",children:["1-",i," of ",n]}),t.jsx(s,{w:"40px",h:"28px",borderRadius:"0px",onClick:()=>o(n+1),disabled:n===i,children:t.jsx(N,{name:"icon-icon_arrow",boxSize:"16px",rotate:"45deg",_hover:{fill:n===i?"second_text":"primary"}})}),t.jsx(s,{w:"40px",h:"28px",borderRadius:"0px",onClick:()=>o(i),disabled:n===i,children:t.jsx(N,{name:"icon-icon_download",boxSize:"14px",rotate:"270deg",_hover:{fill:n===i?"second_text":"primary"}})})]})}function Z(){const{suiClient:e}=_(),{addTokens:t,getToken:n}=G();return{getToken:async a=>{try{if(!a)return;const s=n(a);if(s)return s;const o=U(a,!1),i=await(async n=>{try{const a=await e.fetchCoinMetadata(n);if(a){P.isSuiCoin(n)&&(a.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const e=T(a,n);return t([e]),e}}catch(a){}})(o);return i}catch(s){return}}}}function ee(){const{searchLoading:n,getPositionLoading:a}=Y(),{total:s,currentPage:o,handlePageChange:i,pageSize:l,data:r}=function(){const{fetchByApi:t}=B(),{positionData:n,setGetPositionLoading:a}=Y(),{addTokens:s}=G(),[o,i]=e.useState(),[l,r]=e.useState(0),[p,x]=e.useState(1),c=e.useRef(5),d=e.useEffectEvent(async(e,n=1)=>{a(!0);try{const o=await t(k,"GET",{position_id:e,offset:(n-1)*c?.current,limit:c?.current});if(o?.pool){const e=o?.showReverse?o?.coinB:o?.coinA,t=o?.showReverse?o?.coinA:o?.coinB,n=n=>n.coinType===e?.coinType?0:n.coinType===t?.coinType?1:2,a={...o,history:o?.history?.map(e=>({...e,eventData:e?.eventData?.sort((e,t)=>n(e)-n(t))??[]}))};i(a),r(o.totalEvent),s([o?.coinA,o?.coinB])}else i(void 0);a(!1)}catch(o){i(void 0),a(!1)}});e.useEffect(()=>{d(n?.positionID||"",p)},[n?.positionID,p]);const u=o?.history?.filter(e=>!["OpenPosition","ClosePosition"].includes(e?.eventType));return{total:l,eventRecord:o,currentPage:p,handlePageChange:e=>{x(e)},pageSize:c.current,data:u}}();return t.jsxs(J,{w:"100%",alignItems:"start",gap:"0px",mt:{base:"8px",lg:"0px"},children:[t.jsx(q,{color:"primary_text",fontSize:"14px",children:"Events"}),n||a?t.jsx(te,{}):r?.map((e,n)=>t.jsx(ne,{item:e,showBorder:n!==r.length-1},`${e?.tx}-${e?.eventType}`)),!n&&!!s&&s>0&&s>l&&t.jsx(Q,{total:s??0,currentPage:o,pageSize:l,onPageChange:i})]})}function te(){return t.jsx(J,{w:"100%",alignItems:"start",gap:"0px",children:[1,2,3,4,5].map(e=>t.jsxs(J,{pt:"16px",pb:"16px",w:"100%",gap:"12px",borderBottom:"1px solid",borderColor:"primary.10",children:[t.jsxs(V,{w:"100%",justifyContent:"space-between",children:[t.jsx(o,{h:"20px",noOfLines:1,w:"100px"}),t.jsx(V,{gap:"2px",children:t.jsx(o,{h:"20px",noOfLines:1,w:"100px"})})]}),t.jsx(V,{w:"100%",children:t.jsxs(V,{gap:"16px",children:[t.jsxs(V,{children:[t.jsx(i,{size:"24px"}),t.jsx(o,{h:"32px",noOfLines:1,w:"60px"})]}),t.jsx(n,{w:"1px",h:"32px",bg:"primary.10"}),t.jsxs(V,{children:[t.jsx(i,{size:"24px"}),t.jsx(o,{h:"32px",noOfLines:1,w:"60px"})]})]})})]},e))})}function ne(e){const{item:a,showBorder:o}=e,{getExplorerUrl:i}=r(),p=a.eventData?.filter(e=>e&&C(e?.rewardAmount).gt(0));return t.jsxs(J,{pt:"16px",pb:"16px",w:"100%",gap:"12px",borderBottom:o?"1px solid":"none",borderColor:"primary.20",children:[t.jsxs(V,{w:"100%",justifyContent:"space-between",children:[t.jsx(q,{bg:"second_text.10",pl:"8px",pr:"8px",h:"20px",lineHeight:"20px",color:"primary",fontSize:"12px",children:l[a?.eventType]}),t.jsx(A,{children:t.jsxs(s,{gap:"2px",onClick:()=>{window.open(i(a.tx,"tx"),"_blank")},bg:"transparent",h:"20px",_hover:{bg:"transparent","& p":{color:"primary"},"& svg":{fill:"primary"}},children:[t.jsx(q,{color:"second_text",fontSize:"12px",children:I(a.timestamp)}),t.jsx(N,{name:"icon-icon_arrow",boxSize:"12px",_groupHover:{fill:"primary"}})]})})]}),t.jsx(V,{w:"100%",gap:"16px",children:p?.map((e,a)=>t.jsx(ae,{rewardItem:e,children:p&&p.length-1!==a&&t.jsx(n,{w:"1px",h:"32px",bg:"primary.10"})},e.coinType))})]})}const ae=({rewardItem:n,children:a})=>{const{getToken:s}=Z(),[o,i]=e.useState(),l=e.useEffectEvent(async e=>{try{const t=await s(e);t&&i(t)}catch(t){}});return e.useEffect(()=>{l(n?.coinType)},[n?.coinType]),t.jsxs(t.Fragment,{children:[t.jsxs(V,{gap:"8px",pb:"4px",children:[t.jsx(p,{src:o?.logoURL,size:"24px"}),t.jsxs(J,{alignItems:"start",gap:"4px",children:[t.jsxs(q,{fontSize:"12px",color:"primary_text",children:[$(n?.rewardAmount)," ",L(o?.symbol)]}),t.jsxs(q,{fontSize:"12px",color:"second_text",children:["(~$",$(n?.rewardUSD),")"]})]})]}),a]})};function se({bgImageUrl:e,showOnCard:s,positionData:o,displayTokenA:i,displayTokenB:l,mainDisplay:r,color:p,pnlUSD:c,pnlPercentage:d,totalDepositUSD:u,showBaseFee:g}){return t.jsxs(J,{id:"performance_card",w:"1280px",p:"50px",h:"720px",aspectRatio:"16 / 9",alignItems:"start",gap:"0px",justifyContent:"start",pos:"absolute",left:"-9999px",top:"-9999px",children:[t.jsx(a,{pos:"absolute",src:e,w:"100%",h:"100%",zIndex:"-11",top:"0",left:"0"}),t.jsxs(V,{w:"100%",justifyContent:"space-between",mb:"52px",children:[t.jsx(a,{src:"/images/share/dlmm_logo.png",h:"58px",w:"auto"}),t.jsxs(J,{alignItems:"end",justifyContent:"start",gap:"0px",children:[t.jsx(q,{color:"primary_text",fontSize:"26px",letterSpacing:"2",lineHeight:"38px",children:"Snapshot by cetusbox.zone"}),t.jsx(q,{color:"primary_text",fontSize:"26px",letterSpacing:"2",lineHeight:"38px",children:R()})]})]}),s.includes("Duration")?t.jsxs(V,{justifyContent:"start",gap:"10px",mb:"24px",display:"flex",children:[t.jsx(q,{color:"card_text",fontWeight:"500",fontSize:"33px",letterSpacing:"2",children:"Duration"}),t.jsx(q,{color:"primary_text",fontSize:"33px",fontWeight:"500",letterSpacing:"2",children:W(o?.openPositionTimestamp||0,o?.closePositionTimestamp)})]}):t.jsx(n,{h:"33px",mb:"24px"}),t.jsxs(q,{fontSize:"84px",color:"primary_text",fontWeight:"500",letterSpacing:"4",children:[L(i?.symbol),"-",L(l?.symbol)]}),t.jsx(q,{fontSize:"33px",color:"card_text",mt:"58px",fontWeight:"500",letterSpacing:"2",children:"amount"===r?"Profit (USD)":"Profit (%)"}),t.jsx(q,{fontWeight:"700",fontSize:"118px",letterSpacing:"7",color:p,mt:"20px",children:"amount"===r?c:d}),t.jsxs(V,{display:"flex",flexWrap:"wrap",w:"100%",justifyContent:"space-between",position:"absolute",bottom:"0",left:"0",p:"0 50px 50px",children:[s.includes("Total Deposit")&&t.jsx(x,{label:"Deposit",value:`$${$(u)}`,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:"33px",letterSpacing:"2"},valueStyle:{fontSize:"33px",letterSpacing:"2"},skeletonStyle:{h:"33px",w:"200px"}}),g&&t.jsx(x,{label:"Base fee",value:E(C(o?.baseFeeRate).mul(100).toNumber()),wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:"33px",letterSpacing:"2"},valueStyle:{fontSize:"33px",letterSpacing:"2"},skeletonStyle:{h:"33px",w:"200px"}}),g&&t.jsx(x,{label:"Bin Step",value:o?.binStep||0,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:"33px",letterSpacing:"2"},valueStyle:{fontSize:"33px",letterSpacing:"2"},skeletonStyle:{h:"33px",w:"200px"}}),s.includes("pnl & amount")&&"amount"===r&&t.jsx(x,{label:"PNL",value:d,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:"33px",letterSpacing:"2"},valueStyle:{fontSize:"33px",letterSpacing:"2"},skeletonStyle:{h:"33px",w:"200px"}}),s.includes("pnl & amount")&&"pnl"===r&&t.jsx(x,{label:"Amount",value:c,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:"33px",letterSpacing:"2"},valueStyle:{fontSize:"33px",letterSpacing:"2"},skeletonStyle:{h:"33px",w:"200px"}})]})]})}function oe({totalDepositUSD:s,pnlUSD:o,pnlPercentage:i}){const{searchLoading:l,performanceData:r,positionData:p}=Y(),[S,m]=e.useState("pnl"),[f,y]=e.useState(["Total Deposit","BaseFee & BinStep","Duration","pnl & amount"]),[j,b]=e.useState(),w=f.includes("BaseFee & BinStep"),D=[{label:"Total Deposit",value:"Total Deposit"},{label:"BaseFee & BinStep",value:"BaseFee & BinStep"},{label:"Duration",value:"Duration"},{label:"amount"===S?"%PnL":"$Amount",value:"pnl & amount"}],v=p?.showReverse?p?.coinB:p?.coinA,z=p?.showReverse?p?.coinA:p?.coinB,_=C(p?.pnlUSD).gte(0)?"primary":"primary_red",U=F(C(p?.roi).mul(100).toNumber()),P=["flat","strong_loss"].includes(U)?[`/images/share/${U}_1.png`,`/images/share/${U}_2.png`,`/images/share/${U}_3.png`,`/images/share/${U}_4.png`]:[`/images/share/${U}_1.png`,`/images/share/${U}_2.png`,`/images/share/${U}_3.png`];return e.useEffect(()=>{b(`/images/share/${U}_1.png`)},[U]),t.jsxs(c,{p:{base:"0px",lg:"22px 20px 20px"},border:"1px solid",borderColor:{base:"transparent",lg:"primary.10"},flex:"1",children:[t.jsxs(J,{gap:"0px",w:"100%",children:[t.jsx(d,{w:"100%",aspectRatio:"16 / 9",h:{base:"auto",lg:"280px"},loading:l,children:t.jsxs(J,{w:"100%",p:{base:"8px",lg:"20px"},h:{base:"auto",lg:"280px"},aspectRatio:"16 / 9",alignItems:"start",gap:"0px",justifyContent:"start",pos:"relative",children:[t.jsx(a,{pos:"absolute",src:j,w:"100%",h:"100%",zIndex:"-11",top:"0",left:"0"}),t.jsxs(V,{display:"flex",w:"100%",justifyContent:"space-between",mb:{base:"6px",lg:"24px"},children:[t.jsx(a,{h:"23px",w:"auto",src:"/images/share/dlmm_logo.png"}),t.jsxs(J,{alignItems:"end",justifyContent:"start",gap:"0px",children:[t.jsx(q,{color:"primary_text",fontSize:"10px",lineHeight:"15px",children:"Snapshot by cetusbox.zone"}),t.jsx(q,{color:"primary_text",fontSize:"10px",lineHeight:"15px",children:R()})]})]}),f.includes("Duration")?t.jsxs(V,{justifyContent:"start",gap:"8px",mb:{base:"6px",lg:"12px"},display:"flex",children:[t.jsx(q,{color:"card_text",fontWeight:"500",fontSize:"12px",children:"Duration"}),t.jsx(q,{color:"primary_text",fontSize:"12px",fontWeight:"500",children:W(p?.openPositionTimestamp||0,p?.closePositionTimestamp)})]}):t.jsx(n,{h:"12px",mb:{base:"6px",lg:"20px"}}),t.jsxs(q,{fontSize:"24px",color:"primary_text",fontWeight:"500",letterSpacing:"1",children:[L(v?.symbol),"-",L(z?.symbol)]}),t.jsx(q,{fontSize:"12px",color:"card_text",mt:{base:"8px",lg:"24px"},fontWeight:"500",letterSpacing:"1",children:"amount"===S?"Profit (USD)":"Profit (%)"}),t.jsx(q,{fontWeight:"700",fontSize:{base:"32px",lg:"46px"},color:_,mt:{base:"4px",lg:"8px"},children:"amount"===S?o:i}),t.jsxs(V,{display:"flex",flexWrap:"wrap",w:"100%",justifyContent:"space-between",position:"absolute",bottom:"0",left:"0",p:{base:"0 8px 8px",lg:"0 20px 20px"},children:[f.includes("Total Deposit")&&t.jsx(x,{label:"Deposit",value:`$${$(s)}`,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:{base:"10px",lg:"12px"}},valueStyle:{fontSize:{base:"10px",lg:"12px"}},skeletonStyle:{h:{base:"10px",lg:"20px"},w:{base:"36px",lg:"48px"}}}),w&&t.jsx(x,{label:"Base fee",value:E(C(p?.baseFeeRate).mul(100).toNumber()),wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:{base:"10px",lg:"12px"}},valueStyle:{fontSize:{base:"10px",lg:"12px"}},skeletonStyle:{h:{base:"10px",lg:"20px"},w:{base:"36px",lg:"48px"}}}),w&&t.jsx(x,{label:"Bin Step",value:p?.binStep||0,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:{base:"10px",lg:"12px"}},valueStyle:{fontSize:{base:"10px",lg:"12px"}},skeletonStyle:{h:{base:"10px",lg:"20px"},w:{base:"36px",lg:"48px"}}}),f.includes("pnl & amount")&&"amount"===S&&t.jsx(x,{label:"PNL",value:i,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:{base:"10px",lg:"12px"}},valueStyle:{fontSize:{base:"10px",lg:"12px"}},skeletonStyle:{h:{base:"10px",lg:"20px"},w:{base:"36px",lg:"48px"}}}),f.includes("pnl & amount")&&"pnl"===S&&t.jsx(x,{label:"Amount",value:o,wrapStyle:{display:"flex",justifyContent:"center",w:"unset"},labelStyle:{fontSize:{base:"10px",lg:"12px"}},valueStyle:{fontSize:{base:"10px",lg:"12px"}},skeletonStyle:{h:{base:"10px",lg:"20px"},w:{base:"36px",lg:"48px"}}})]})]})}),t.jsxs(J,{w:"100%",mt:"20px",gap:"16px",children:[t.jsx(ie,{currType:S,handleMainDisplayChange:m}),t.jsx(u,{data:D,selected:f,handleSelectedChange:e=>{y(e)}}),j&&t.jsx(g,{imageUrls:P,currImageUrl:j,handleSelectedChange:b,loading:l})]}),t.jsx(h,{style:{mt:"28px"},card_id:"performance_card",filename:`dlmm_${v?.symbol}_${z?.symbol}`})]}),t.jsx(se,{bgImageUrl:j,showOnCard:f,positionData:p,displayTokenA:v,displayTokenB:z,mainDisplay:S,color:_,pnlUSD:o,pnlPercentage:i,totalDepositUSD:s,showBaseFee:w})]})}function ie(e){const{currType:n,handleMainDisplayChange:a}=e;return t.jsxs(V,{w:"100%",justifyContent:"space-between",children:[t.jsx(q,{fontSize:"12px",color:"second_text",children:"Main Display"}),t.jsxs(V,{justifyContent:"end",children:[t.jsx(q,{cursor:"pointer",fontSize:"12px",color:"amount"===n?"primary":"second_text",onClick:()=>a("amount"),children:"$Amount"}),t.jsx(S,{orientation:"vertical",height:"8px",borderColor:"second_text.50"}),t.jsx(q,{cursor:"pointer",fontSize:"12px",color:"pnl"===n?"primary":"second_text",onClick:()=>a("pnl"),children:"%PnL"})]})]})}function le(){const{positionData:t}=Y(),{suiClient:n}=_(),[a,s]=e.useState("");e.useEffect(()=>{(async e=>{if(t?.user)s(t.user);else try{const t=await n._client.getObject({id:e,options:{showOwner:!0}});t?.data&&s(t.data.owner?.AddressOwner||"")}catch(a){}})(t?.positionID||"")},[t?.positionID]);const o=void 0!==t?.openActivateID&&void 0!==t?.binStep&&void 0!==t?.coinA?.decimals&&void 0!==t?.coinB?.decimals?m.getPriceFromBinId(t.openActivateID,t.binStep,t.coinA.decimals,t.coinB.decimals):void 0,i=t?.showReverse?t?.coinB:t?.coinA,l=t?.showReverse?t?.coinA:t?.coinB;return{addressOwner:a,openPrice:void 0!==o?t?.showReverse?m?.getReversePrice(o):o:void 0,displayTokenA:i,displayTokenB:l,positionData:t}}function re(){const{searchLoading:e}=Y(),{addressOwner:n,openPrice:a,displayTokenA:s,displayTokenB:o,positionData:i}=le();return t.jsx(f,{loading:e,addressOwner:n,data:i,openPrice:a,displayTokenA:s,displayTokenB:o})}function pe({totalDepositUSD:e,totalYieldUSD:n,totalWithdrawUSD:a,currentPositionUSD:s,pnlUSD:o,pnlPercentage:i}){const{searchLoading:l,positionData:r}=Y(),p=C(r?.pnlUSD).gte(0)?"primary":"primary_red";return t.jsx(c,{p:{base:"16px",lg:"20px"},children:t.jsxs(J,{w:"100%",alignItems:"start",gap:"10px",children:[t.jsx(q,{color:"primary_text",fontSize:"14px",children:"Profit and Loss"}),t.jsx(c,{p:"0px",mt:"4px",bg:"secondary_background.10",borderColor:"transparent",children:t.jsxs(V,{h:"76px",w:"100%",justifyContent:"space-between",children:[t.jsx(V,{justifyContent:"center",w:"50%",children:t.jsx(y,{label:"$Amount",value:o,wrapStyle:{alignItems:"center",gap:"4px"},valueStyle:{fontSize:"16px",color:p},isLoading:l})}),t.jsx(V,{justifyContent:"center",w:"50%",children:t.jsx(y,{label:"%PnL",value:i,wrapStyle:{alignItems:"center",gap:"4px"},valueStyle:{fontSize:"16px",color:p},isLoading:l})})]})}),t.jsx(x,{label:"Current Position",value:`$${$(s)}`,wrapStyle:{mt:"6px"},isLoading:l}),t.jsx(x,{label:"Total Deposit",value:`$${$(e)}`,isLoading:l}),t.jsx(x,{label:"Total Yield",value:`$${$(n)}`,isLoading:l}),t.jsx(x,{label:"Total Withdrawal",value:`$${$(a)}`,isLoading:l})]})})}function xe(){const{totalDepositUSD:e,totalYieldUSD:n,totalWithdrawUSD:a,currentPositionUSD:s,pnlUSD:o,pnlPercentage:i}=function(){const{positionData:e}=Y(),t=C(e?.historicalData?.totalDepositAUSD).plus(e?.historicalData?.totalDepositBUSD).toString(),n=C(e?.historicalData?.totalClaimedFeeAUSD).plus(e?.historicalData?.totalClaimedFeeBUSD).plus(e?.historicalData?.totalClaimedRewards?.reduce((e,t)=>e.plus(t?.rewardUSD),C(0))).plus(e?.currentData?.unclaimedFeeAUSD)?.plus(e?.currentData?.unclaimedFeeBUSD)?.plus(e?.currentData?.unclaimedRewardsUSD?.reduce((e,t)=>e.plus(t?.unClaimedUSD),C(0))).toString();return{totalDepositUSD:t,totalYieldUSD:n,totalWithdrawUSD:C(e?.historicalData?.totalWithdrawAUSD).plus(e?.historicalData?.totalWithdrawBUSD).toString(),currentPositionUSD:C(e?.currentData?.coinAUSD).plus(e?.currentData?.coinBUSD).toString(),pnlUSD:z(e?.pnlUSD),pnlPercentage:z(C(e?.roi||0).times(100).toNumber(),"percentage")}}(),{isApp:l}=H();return t.jsxs(J,{gap:"0px",w:"100%",mt:"20px",children:[t.jsx(re,{}),t.jsxs(K,{flexDir:{base:"column",lg:"row"},mt:{base:"28px",lg:"18px"},gap:{base:"16px",lg:"20px"},w:"100%",justifyContent:{base:"center",lg:"space-between"},alignItems:{base:"center",lg:"start"},children:[t.jsxs(J,{w:{base:"100%",lg:"380px"},minW:{base:"100%",lg:"380px"},gap:"20px",children:[t.jsx(pe,{totalDepositUSD:e,totalYieldUSD:n,totalWithdrawUSD:a,currentPositionUSD:s,pnlUSD:o,pnlPercentage:i}),!l&&t.jsx(ee,{})]}),t.jsx(oe,{totalDepositUSD:e,pnlUSD:o,pnlPercentage:i}),l&&t.jsx(ee,{})]})]})}function ce(){const{activeTab:n,tabs:a,handleTabChange:s}=function(){const{performanceData:t,setPositionData:n}=Y(),[a,s]=e.useState(),{isApp:o}=H(),i=t,l=i?.list?.map(e=>({label:o?`#${v(e?.positionID)}`:`Position #${v(e?.positionID)}`,value:e?.positionID}));return e.useEffect(()=>{l&&l.length>0&&!a&&(s(l[0]),n(i.list[0]))},[l]),{activeTab:a,tabs:l,handleTabChange:e=>{s(e);const t=i?.list.find(t=>t.positionID===e.value);t&&n(t)}}}();return t.jsx(j,{activeTab:n,tabs:a,handleTabChange:s,children:t.jsx(xe,{},n?.value)})}function de(){const{searchValue:n,setSearchValue:a,handleSearch:s,inputErrorString:o,searchLoading:i,handleValueClick:l,hasPerformanceData:r}=X(),{performanceData:p,recentSearchValues:x,clearRecentSearchValues:c,removeRecentSearchValue:d,resetInput:u}=Y();e.useEffect(()=>()=>{u()},[u]);const{isApp:g}=H();return t.jsxs(J,{gap:"12px",w:{base:"100%",lg:r?"940px":"520px"},mt:{base:r?"20px":"80px",lg:r?"32px":"147px"},children:[t.jsx(q,{alignSelf:r?"start":"center",color:"primary_text",fontSize:"20px",fontWeight:"500",children:"DLMM Performance"}),t.jsx(q,{mb:"8px",color:"second_text",fontSize:"12px",lineHeight:"20px",children:"Track your Cetus DLMM profits in style. Enter an NFT address, or any related transaction such as deposit, remove, or claim to view and share your performance."}),t.jsx(O,{errorSting:o,placeholder:"DLMM position or transaction address hereâ€¦",value:n,onEnter:()=>s(n),onInputChange:a,isLoading:i}),t.jsx(b,{style:{mt:r?"0px":"16px"},direction:g?"column":r?"row":"column",values:x,handleClearAll:c,handleValueClick:l,handleDeleteValue:d}),i&&t.jsx(w,{h:"138px",children:t.jsx(M,{w:"16px",h:"16px",color:"primary",_hover:{"& svg":{fill:"primary"}}})}),r&&!i&&t.jsx(ce,{}),p&&"error_message"in p&&!i&&t.jsx(D,{style:{mt:"16px"},type:"performance"})]})}export{de as default};
