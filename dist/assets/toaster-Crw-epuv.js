import{l as e,s as t,n as s,p as n,q as o,t as r,v as i,w as a,x as c,r as l,y as u,z as d,A as p,M as m,C as g,D as f,E as h,F as v,G as y,H as x,J as E,m as T,j as N,K as b,L as P,N as C,Q as S,S as R,T as M,U as k,V as O,W as w,X as D,Y as I,Z as j,_ as A,$ as U,a0 as F,a1 as L,a2 as V,a3 as $,a4 as W,e as G,i as H,a5 as B}from"./index-DjgbpSHW.js";import{c as q,a as z,b as _}from"./useSize-By1lzbFp.js";import{E as K,S as Z}from"./v-stack-wpQ1XMEo.js";import{S as J}from"./button-BeJ_08Mj.js";const[Y,X]=q({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),[Q,ee]=q({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),te=()=>(e,t)=>t.reduce((e,t)=>{const[s,n]=e,o=t;return void 0!==n[o]&&(s[o]=n[o]),delete n[o],[s,n]},[{},{...e}]),se=e=>((e,t)=>t.reduce((e,t)=>{const[s,n]=e,o=t;return void 0!==n[o]&&(s[o]=n[o]),delete n[o],[s,n]},[{},{...e}]))(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);var ne=e({props:({props:e})=>({...e,present:!!e.present}),initialState:({prop:e})=>e("present")?"mounted":"unmounted",refs:()=>({node:null,styles:null}),context:({bindable:e})=>({unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}),exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:s}){e([()=>t("present")],()=>{s({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e,refs:t})=>{e("onExitComplete")?.();const s=t.get("node");if(!s)return;const n=new(r(s).CustomEvent)("exitcomplete",{bubbles:!1});s.dispatchEvent(n)},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",o(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:s,prop:o})=>{const r=o("present");if(r)return s({type:"MOUNT",src:"presence.changed"});const i=t.get("node");if(!r&&"hidden"===i?.ownerDocument.visibilityState)return s({type:"UNMOUNT",src:"visibilitychange"});n(()=>{const n=oe(t.get("styles"));e.set("unmountAnimationName",n),"none"===n||n===e.get("prevAnimationName")||"none"===t.get("styles")?.display||"0s"===t.get("styles")?.animationDuration?s({type:"UNMOUNT",src:"presence.changed"}):s({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{n(()=>{e.set("prevAnimationName",oe(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:n,send:o,prop:r})=>{const a=n.get("node");if(!a)return;const c=t=>{(t.composedPath?.()?.[0]??t.target)===a&&e.set("prevAnimationName",oe(n.get("styles")))},l=t=>{const s=oe(n.get("styles"));i(t)!==a||s!==e.get("unmountAnimationName")||r("present")||o({type:"UNMOUNT",src:"animationend"})},u=e=>{i(e)!==a||r("present")||o({type:"UNMOUNT",src:"animationcancel"})};a.addEventListener("animationstart",c),a.addEventListener("animationcancel",u),a.addEventListener("animationend",l);const d=t(a,{animationFillMode:"forwards"});return()=>{a.removeEventListener("animationstart",c),a.removeEventListener("animationcancel",u),a.removeEventListener("animationend",l),s(()=>d())}}}}});function oe(e){return e?.animationName||"none"}a()(["onExitComplete","present","immediate"]);var re=c(),ie=void 0!==globalThis.document?l.useLayoutEffect:l.useEffect;function ae(e){const t=e().value??e().defaultValue,s=e().isEqual??Object.is,[n]=l.useState(t),[o,r]=l.useState(n),i=void 0!==e().value,a=l.useRef(o);a.current=i?e().value:o;const c=l.useRef(a.current);ie(()=>{c.current=a.current},[o,e().value]);return{initial:n,ref:a,get:function(){return i?e().value:o},set(t){(e().sync?re.flushSync:h)(()=>(t=>{const n=c.current,o=v(t)?t(n):t;e().debug,i||r(o),s(o,n)||e().onChange?.(o,n)})(t))},invoke(t,s){e().onChange?.(t,s)},hash:t=>e().hash?.(t)??String(t)}}ae.cleanup=e=>{l.useEffect(()=>e,[])},ae.ref=e=>{const t=l.useRef(e);return{get:()=>t.current,set:e=>{t.current=e}}};var ce=(e,t)=>{const s=l.useRef(!1),n=l.useRef(!1);l.useEffect(()=>{if(s.current&&n.current)return t();n.current=!0},[...(e??[]).map(e=>"function"==typeof e?e():e)]),l.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[])};function le(e,t={}){const s=l.useMemo(()=>{const{id:e,ids:s,getRootNode:n}=t;return u({id:e,ids:s,getRootNode:n})},[t]),n=(...t)=>{e.debug},o=function(e){const t=ue(e);return function(e){return t.current[e]}}(e.props?.({props:d(t),scope:s})??t),r=e.context?.({prop:o,bindable:ae,scope:s,flush:de,getContext:()=>a,getComputed:()=>O,getRefs:()=>P,getEvent:()=>N()}),i=ue(r),a={get:e=>i.current?.[e].ref.current,set(e,t){i.current?.[e].set(t)},initial:e=>i.current?.[e].initial,hash(e){const t=i.current?.[e].get();return i.current?.[e].hash(t)}},c=l.useRef(new Map),f=l.useRef(null),h=l.useRef(null),T=l.useRef({type:""}),N=()=>({...T.current,current:()=>T.current,previous:()=>h.current}),b=()=>({...w,matches:(...e)=>e.includes(w.ref.current),hasTag:t=>!!e.states[w.ref.current]?.tags?.includes(t)}),P=function(e){const t=l.useRef(e);return{get:e=>t.current[e],set(e,s){t.current[e]=s}}}(e.refs?.({prop:o,context:a})??{}),C=()=>({state:b(),context:a,event:N(),prop:o,send:j,action:S,guard:R,track:ce,refs:P,computed:O,flush:de,scope:s,choose:k}),S=t=>{const s=v(t)?t(C()):t;if(!s)return;const n=s.map(t=>{const s=e.implementations?.actions?.[t];return s||y(`[zag-js] No implementation found for action "${JSON.stringify(t)}"`),s});for(const e of n)e?.(C())},R=t=>v(t)?t(C()):e.implementations?.guards?.[t](C()),M=t=>{const s=v(t)?t(C()):t;if(!s)return;const n=s.map(t=>{const s=e.implementations?.effects?.[t];return s||y(`[zag-js] No implementation found for effect "${JSON.stringify(t)}"`),s}),o=[];for(const e of n){const t=e?.(C());t&&o.push(t)}return()=>o.forEach(e=>e?.())},k=e=>x(e).find(e=>{let t=!e.guard;return E(e.guard)?t=!!R(e.guard):v(e.guard)&&(t=e.guard(C())),t}),O=t=>{p(e.computed,()=>"[zag-js] No computed object found on machine");return(0,e.computed[t])({context:a,event:N(),prop:o,refs:P,scope:s,computed:O})},w=ae(()=>({defaultValue:e.initialState({prop:o}),onChange(t,s){if(s){const e=c.current.get(s);e?.(),c.current.delete(s)}s&&S(e.states[s]?.exit),S(f.current?.actions);const n=M(e.states[t]?.effects);if(n&&c.current.set(t,n),s===g){S(e.entry);const t=M(e.effects);t&&c.current.set(g,t)}S(e.states[t]?.entry)}})),D=l.useRef(void 0),I=l.useRef(m.NotStarted);ie(()=>{queueMicrotask(()=>{const e=I.current===m.Started;I.current=m.Started,n();const t=D.current??w.initial;w.invoke(t,e?w.get():g)});const t=c.current,s=w.ref.current;return()=>{n(),D.current=s,I.current=m.Stopped,t.forEach(e=>e?.()),c.current=new Map,f.current=null,queueMicrotask(()=>{S(e.exit)})}},[]);const j=t=>{queueMicrotask(()=>{if(I.current!==m.Started)return;h.current=T.current,T.current=t;let s="ref"in w?w.ref.current:w.get();const o=e.states[s].on?.[t.type]??e.on?.[t.type],r=k(o);if(!r)return;f.current=r;const i=r.target??s;n(t.type,r.target,r.actions);const a=i!==s;a?re.flushSync(()=>w.set(i)):r.reenter&&!a?w.invoke(s,s):S(r.actions??[])})};return e.watch?.(C()),{state:b(),send:j,context:a,prop:o,scope:s,refs:P,computed:O,event:N(),getStatus:()=>I.current}}function ue(e){const t=l.useRef(e);return t.current=e,t}function de(e){queueMicrotask(()=>{re.flushSync(()=>e())})}var pe=f(e=>e);function me(e,t={}){const{sync:s=!1}=t,n=function(e){const t=l.useRef(e);return t.current=e,t}(e);return l.useCallback((...e)=>s?queueMicrotask(()=>n.current?.(...e)):n.current?.(...e),[s,n])}const ge=(e={})=>{const{lazyMount:t,unmountOnExit:s,present:n,skipAnimationOnMount:o=!1,...r}=e,i=l.useRef(!1),a={...r,present:n,onExitComplete:me(e.onExitComplete)},c=function(e){const{state:t,send:s,context:n}=e,o=t.matches("mounted","unmountSuspended");return{skip:!n.get("initial"),present:o,setNode(e){e&&s({type:"NODE.SET",node:e})},unmount(){s({type:"UNMOUNT"})}}}(le(ne,a));c.present&&(i.current=!0);const u=!c.present&&!i.current&&t||s&&!c.present&&i.current;return{ref:c.setNode,getPresenceProps:()=>({"data-state":c.skip&&o?void 0:n?"open":"closed",hidden:!c.present}),present:c.present,unmounted:u}},[fe,he]=q({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),[ve,ye]=q({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),xe=e=>((e,t)=>t.reduce((e,t)=>{const[s,n]=e,o=t;return void 0!==n[o]&&(s[o]=n[o]),delete n[o],[s,n]},[{},{...e}]))(e,["lazyMount","unmountOnExit"]),[Ee,Te]=q({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),Ne=l.forwardRef((e,t)=>{const s=Te(),n=ye(),o=ge({...n,present:s.open}),r=T(s.getBackdropProps(),o.getPresenceProps(),e);return o.unmounted?null:N.jsx(z.div,{...r,ref:_(o.ref,t)})});Ne.displayName="DialogBackdrop";const be=l.forwardRef((e,t)=>{const s=Te(),n=T(s.getCloseTriggerProps(),e);return N.jsx(z.button,{...n,ref:t})});be.displayName="DialogCloseTrigger";const Pe=l.forwardRef((e,t)=>{const s=Te(),n=he(),o=T(s.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:N.jsx(z.div,{...o,ref:_(n.ref,t)})});Pe.displayName="DialogContent";const Ce=l.forwardRef((e,t)=>{const s=Te(),n=T(s.getDescriptionProps(),e);return N.jsx(z.div,{...n,ref:t})});Ce.displayName="DialogDescription";const Se=l.forwardRef((e,t)=>{const s=Te(),n=T(s.getPositionerProps(),e);return he().unmounted?null:N.jsx(z.div,{...n,ref:t})});Se.displayName="DialogPositioner";const Re=e=>{const[t,{children:s,...n}]=se(e),[o]=xe(t),r=(e=>{const t=l.useId(),{getRootNode:s}=X(),{dir:n}=ee(),o={id:t,getRootNode:s,dir:n,...e},r=le(P,o);return b(r,pe)})(n),i=ge(T({present:r.open},t));return N.jsx(Ee,{value:r,children:N.jsx(ve,{value:o,children:N.jsx(fe,{value:i,children:s})})})},Me=e=>{const[t,{value:s,children:n}]=se(e),[o]=xe(t),r=ge(T({present:s.open},t));return N.jsx(Ee,{value:s,children:N.jsx(ve,{value:o,children:N.jsx(fe,{value:r,children:n})})})},ke=l.forwardRef((e,t)=>{const s=Te(),n=T(s.getTitleProps(),e);return N.jsx(z.h2,{...n,ref:t})});ke.displayName="DialogTitle";const Oe=l.forwardRef((e,t)=>{const s=Te(),n=he(),o=T({...s.getTriggerProps(),"aria-controls":n.unmounted?void 0:s.getTriggerProps()["aria-controls"]},e);return N.jsx(z.button,{...o,ref:t})});Oe.displayName="DialogTrigger";const we=e=>{const{children:t,disabled:s}=e,[n,o]=l.useState(e.container?.current),r=l.useSyncExternalStore(Ie,()=>!1,()=>!0),{getRootNode:i}=X();if(l.useEffect(()=>{o(()=>e.container?.current)},[e.container]),r||s)return N.jsx(N.Fragment,{children:t});const a=n??De(i);return N.jsx(N.Fragment,{children:l.Children.map(t,e=>re.createPortal(e,a))})},De=e=>{const t=e?.(),s=t.getRootNode();return C(s)?s:S(t).body},Ie=()=>()=>{};var je=D("toast").parts("group","root","title","description","actionTrigger","closeTrigger").build(),Ae=e=>`toast-group:${e}`,Ue=(e,t)=>e.getById(`toast-group:${t}`),Fe=e=>`toast:${e.id}`,Le=e=>e.getById(Fe(e)),Ve=e=>`toast:${e.id}:title`,$e=e=>`toast:${e.id}:description`,We={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function Ge(e,t){return e??We[t]??We.DEFAULT}function He(e,t){const{prop:s,computed:n,context:o}=e,{offsets:r,gap:i}=s("store").attrs,a=o.get("heights"),c=(e=>"string"==typeof e?{left:e,right:e,bottom:e,top:e}:e)(r),l="rtl"===s("dir"),u=t.replace("-start",l?"-right":"-left").replace("-end",l?"-left":"-right"),d=u.includes("right"),p=u.includes("left"),m={position:"fixed",pointerEvents:n("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${i}px`,"--first-height":`${a[0]?.height||0}px`,"--viewport-offset-left":c.left,"--viewport-offset-right":c.right,"--viewport-offset-top":c.top,"--viewport-offset-bottom":c.bottom,zIndex:A};let g="center";if(d&&(g="flex-end"),p&&(g="flex-start"),m.alignItems=g,u.includes("top")){const e=c.top;m.top=`max(env(safe-area-inset-top, 0px), ${e})`}if(u.includes("bottom")){const e=c.bottom;m.bottom=`max(env(safe-area-inset-bottom, 0px), ${e})`}if(!u.includes("left")){const e=c.right;m.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${e})`}if(!u.includes("right")){const e=c.left;m.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${e})`}return m}function Be(e,t){const{prop:s,context:n,computed:o}=e,r=s("parent"),i=r.computed("placement"),{gap:a}=r.prop("store").attrs,[c]=i.split("-"),l=n.get("mounted"),u=n.get("remainingTime"),d=o("height"),p=o("frontmost"),m=!p,g=!s("stacked"),f=s("stacked"),h="loading"===s("type")?Number.MAX_SAFE_INTEGER:u,v=o("heightIndex")*a+o("heightBefore"),y={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${s("removeDelay")}ms`,"--duration":`${h}ms`,"--initial-height":`${d}px`,"--offset":`${v}px`,"--index":s("index"),"--z-index":o("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},x=e=>Object.assign(y,e);return"top"===c?x({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):"bottom"===c&&x({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),l&&(x({"--y":"0","--opacity":"1"}),f&&x({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||x({"--opacity":"0",pointerEvents:"none"}),m&&g&&(x({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||x({"--y":"calc(var(--sign) * 40%)"})),m&&f&&!t&&x({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),p&&!t&&x({"--y":"calc(var(--lift) * -100%)"}),y}function qe(e,t){const{computed:s}=e,n={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"};var o;return s("frontmost")&&!t&&(o={height:"calc(var(--initial-height) + 80%)"},Object.assign(n,o)),n}var{guards:ze,createMachine:_e}=R(),{and:Ke}=ze,Ze=_e({props:({props:e})=>({dir:"ltr",id:w(),...e,store:e.store}),initialState:({prop:e})=>e("store").attrs.overlap?"overlap":"stack",refs:()=>({lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:O.create(),dismissableCleanup:void 0}),context:({bindable:e})=>({toasts:e(()=>({defaultValue:[],sync:!0,hash:e=>e.map(e=>e.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}),computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:s}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{s(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:Ke("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore:({context:e,prop:t})=>t("store").subscribe(t=>{t.dismiss?e.set("toasts",e=>e.filter(e=>e.id!==t.id)):e.set("toasts",e=>{const s=e.findIndex(e=>e.id===t.id);return-1!==s?[...e.slice(0,s),{...e[s],...t},...e.slice(s+1)]:[t,...e]})}),trackHotKeyPress:({prop:e,send:t})=>k(document,"keydown",s=>{const{hotkey:n}=e("store").attrs;n.every(e=>s[e]||s.code===e)&&t({type:"DOC.HOTKEY"})},{capture:!0}),trackDocumentVisibility({prop:e,send:t,scope:s}){const{pauseOnPageIdle:n}=e("store").attrs;if(!n)return;const o=s.getDoc();return k(o,"visibilitychange",()=>{const e="hidden"===o.visibilityState;t({type:e?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:s,scope:n}){const o=t.get("toasts"),r=s("placement"),i=o.length>0;if(!i)return void e.get("dismissableCleanup")?.();if(i&&e.get("dismissableCleanup"))return;const a=M(()=>Ue(n,r),{defer:!0});e.set("dismissableCleanup",a)},clearDismissableBranch({refs:e}){e.get("dismissableCleanup")?.()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{Ue(e,t("placement"))?.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){null!=e?.id&&queueMicrotask(()=>{t.set("heights",t=>t.filter(t=>t.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){!e.get("isFocusWithin")&&t.target&&(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){e.get("lastFocusedEl")&&!e.get("isPointerWithin")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});var{not:Je}=U(),Ye=e({props:({props:e})=>(L(e,["id","type","parent","removeDelay"],"toast"),{closable:!0,...e,duration:Ge(e.duration,e.type)}),initialState:({prop:e})=>"loading"===e("type")||e("duration")===1/0?"visible:persist":"visible",context:({prop:e,bindable:t})=>({remainingTime:t(()=>({defaultValue:Ge(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}),refs:()=>({closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}),computed:{zIndex:({prop:e})=>{const t=e("parent").context.get("toasts"),s=t.findIndex(t=>t.id===e("id"));return t.length-s},height:({prop:e})=>{const t=e("parent").context.get("heights").find(t=>t.id===e("id"));return t?.height??0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(t=>t.id===e("id")),frontmost:({prop:e})=>0===e("index"),heightBefore:({prop:e})=>{const t=e("parent").context.get("heights"),s=t.findIndex(t=>t.id===e("id"));return t.reduce((e,t,n)=>n>=s?e:e+t.height,0)},shouldPersist:({prop:e})=>"loading"===e("type")||e("duration")===1/0},watch({track:e,prop:t,send:s}){e([()=>t("message")],()=>{const e=t("message");e&&s({type:e,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{s({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:Je("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay:({prop:e,send:t})=>F(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay")),waitForDuration({send:e,context:t,computed:s}){if(!s("shouldPersist"))return F(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick:({send:e})=>F(()=>{e({type:"SHOW",src:"timer"})},0),trackHeight({scope:e,prop:t}){let s;return n(()=>{const n=Le(e);if(!n)return;const o=new(e.getWin().MutationObserver)(()=>{const e=n.style.height;n.style.height="auto";const s=n.getBoundingClientRect().height;n.style.height=e;const o={id:t("id"),height:s};Xe(t("parent"),o)});o.observe(n,{childList:!0,subtree:!0,characterData:!0}),s=()=>o.disconnect()}),()=>s?.()}},guards:{isLoadingType:({prop:e})=>"loading"===e("type"),shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){n(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:s}){queueMicrotask(()=>{const n=Le(e);if(!n)return;const o=n.style.height;n.style.height="auto";const r=n.getBoundingClientRect().height;n.style.height=o,s.set("initialHeight",r);const i={id:t("id"),height:r};Xe(t("parent"),i)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:s}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",Ge(s("duration"),s("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",e=>{const s=t.get("closeTimerStartTime"),n=Date.now()-s;return t.set("lastCloseStartTimerStartTime",Date.now()),e-n})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){e("onStatusChange")?.({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){e("onStatusChange")?.({status:"unmounted"})},invokeOnVisible({prop:e}){e("onStatusChange")?.({status:"visible"})}}}});function Xe(e,t){const{id:s,height:n}=t;e.context.set("heights",e=>e.find(e=>e.id===s)?e.map(e=>e.id===s?{...e,height:n}:e):[{id:s,height:n},...e])}function Qe(e={}){const t=(s=e,n={placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0},{...n,...d(s)});var s,n;let o=[],r=[],i=new Set,a=[];const c=e=>(o.forEach(t=>t(e)),e),l=e=>{const s=e.id??`toast:${w()}`,n=r.find(e=>e.id===s);return i.has(s)&&i.delete(s),n?r=r.map(t=>t.id===s?c({...t,...e,id:s}):t):(e=>{r.length>=t.max?a.push(e):(c(e),r.unshift(e))})({id:s,duration:t.duration,removeDelay:t.removeDelay,type:"info",...e,stacked:!t.overlap,gap:t.gap}),s},u=e=>(i.add(e),e?(o.forEach(t=>t({id:e,dismiss:!0})),r=r.filter(t=>t.id!==e),(()=>{for(;a.length>0&&r.length<t.max;){const e=a.shift();e&&(c(e),r.unshift(e))}})()):(r.forEach(e=>{o.forEach(t=>t({id:e.id,dismiss:!0}))}),r=[],a=[]),e);return{attrs:t,subscribe:e=>(o.push(e),()=>{const t=o.indexOf(e);o.splice(t,1)}),create:l,update:(e,t)=>l({id:e,...t}),remove:u,dismiss:e=>{r=null!=e?r.map(t=>t.id===e?c({...t,message:"DISMISS"}):t):r.map(e=>c({...e,message:"DISMISS"}))},error:e=>l({...e,type:"error"}),success:e=>l({...e,type:"success"}),info:e=>l({...e,type:"info"}),warning:e=>l({...e,type:"warning"}),loading:e=>l({...e,type:"loading"}),getVisibleToasts:()=>r.filter(e=>!i.has(e.id)),getCount:()=>r.length,promise:(e,t,s={})=>{if(!t||!t.loading)return void y("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");const n=l({...s,...t.loading,promise:e,type:"loading"});let o,r=!0;const i=j(e).then(async e=>{if(o=["resolve",e],et(e)&&!e.ok){r=!1;const o=j(t.error,`HTTP Error! status: ${e.status}`);l({...s,...o,id:n,type:"error"})}else if(void 0!==t.success){r=!1;const o=j(t.success,e);l({...s,...o,id:n,type:"success"})}}).catch(async e=>{if(o=["reject",e],void 0!==t.error){r=!1;const o=j(t.error,e);l({...s,...o,id:n,type:"error"})}}).finally(()=>{r&&u(n),t.finally?.()});return{id:n,unwrap:()=>new Promise((e,t)=>i.then(()=>"reject"===o[0]?t(o[1]):e(o[1])).catch(t))}},pause:e=>{r=null!=e?r.map(t=>t.id===e?c({...t,message:"PAUSE"}):t):r.map(e=>c({...e,message:"PAUSE"}))},resume:e=>{r=null!=e?r.map(t=>t.id===e?c({...t,message:"RESUME"}):t):r.map(e=>c({...e,message:"RESUME"}))},isVisible:e=>!i.has(e)&&!!r.find(t=>t.id===e),isDismissed:e=>i.has(e),expand:()=>{r=r.map(e=>c({...e,stacked:!0}))},collapse:()=>{r=r.map(e=>c({...e,stacked:!1}))}}}var et=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,tt={connect:function(e,t){const{context:s,prop:n,send:o,refs:r,computed:i}=e;return{getCount:()=>s.get("toasts").length,getToasts:()=>s.get("toasts"),getGroupProps(s={}){const{label:a="Notifications"}=s,{hotkey:c}=n("store").attrs,l=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),u=i("placement"),[d,p="center"]=u.split("-");return t.element({...je.group.attrs,dir:n("dir"),tabIndex:-1,"aria-label":`${u} ${a} ${l}`,id:Ae(u),"data-placement":u,"data-side":d,"data-align":p,"aria-live":"polite",role:"region",style:He(e,u),onMouseEnter(){r.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:u})},onMouseMove(){r.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:u})},onMouseLeave(){r.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_LEAVE",placement:u})},onFocus(e){o({type:"REGION.FOCUS",target:e.relatedTarget})},onBlur(e){r.get("isFocusWithin")&&!I(e.currentTarget,e.relatedTarget)&&queueMicrotask(()=>o({type:"REGION.BLUR"}))}})},subscribe:e=>n("store").subscribe(()=>e(s.get("toasts")))}},machine:Ze};const[st,nt]=q({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),ot=l.forwardRef((e,t)=>{const s=nt(),n=T(s.getActionTriggerProps(),e);return N.jsx(z.button,{...n,ref:t})});ot.displayName="ToastActionTrigger";const rt=l.forwardRef((e,t)=>{const s=nt(),n=T(s.getCloseTriggerProps(),e);return N.jsx(z.button,{...n,ref:t})});rt.displayName="ToastCloseTrigger";const it=l.forwardRef((e,t)=>{const s=nt(),n=T(s.getDescriptionProps(),e);return N.jsx(z.div,{...n,ref:t})});it.displayName="ToastDescription";const at=l.forwardRef((e,t)=>{const s=nt(),n=T(s.getRootProps(),e);return N.jsxs("div",{...n,ref:t,children:[N.jsx("div",{...s.getGhostBeforeProps()}),e.children,N.jsx("div",{...s.getGhostAfterProps()})]})});at.displayName="ToastRoot";const ct=l.forwardRef((e,t)=>{const s=nt(),n=T(s.getTitleProps(),e);return N.jsx(z.div,{...n,ref:t})});ct.displayName="ToastTitle";const lt=l.forwardRef((e,t)=>{const{toaster:s,children:n,...o}=e,r=ee(),i=X(),a=le(tt.machine,{store:s,id:l.useId(),dir:r?.dir,getRootNode:i?.getRootNode}),c=tt.connect(a,pe),u=T(c.getGroupProps(),o);return N.jsx(z.div,{...u,ref:t,children:c.getToasts().map((e,t)=>N.jsx(ut,{value:e,parent:a,index:t,children:e=>n(e)},e.id))})});lt.displayName="Toaster";const ut=e=>{const t=X(),s={...e.value,parent:e.parent,index:e.index,getRootNode:t.getRootNode},n=function(e,t){const{state:s,send:n,prop:o,scope:r,context:i,computed:a}=e,c=s.hasTag("visible"),l=s.hasTag("paused"),u=i.get("mounted"),d=a("frontmost"),p=o("parent").computed("placement"),m=o("type"),g=o("stacked"),f=o("title"),h=o("description"),v=o("action"),[y,x="center"]=p.split("-");return{type:m,title:f,description:h,placement:p,visible:c,paused:l,closable:!!o("closable"),pause(){n({type:"PAUSE"})},resume(){n({type:"RESUME"})},dismiss(){n({type:"DISMISS",src:"programmatic"})},getRootProps:()=>t.element({...je.root.attrs,dir:o("dir"),id:Fe(r),"data-state":c?"open":"closed","data-type":m,"data-placement":p,"data-align":x,"data-side":y,"data-mounted":V(u),"data-paused":V(l),"data-first":V(d),"data-sibling":V(!d),"data-stack":V(g),"data-overlap":V(!g),role:"status","aria-atomic":"true","aria-describedby":h?$e(r):void 0,"aria-labelledby":f?Ve(r):void 0,tabIndex:0,style:Be(e,c),onKeyDown(e){e.defaultPrevented||"Escape"==e.key&&(n({type:"DISMISS",src:"keyboard"}),e.preventDefault())}}),getGhostBeforeProps:()=>t.element({"data-ghost":"before",style:qe(e,c)}),getGhostAfterProps:()=>t.element({"data-ghost":"after",style:{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}),getTitleProps:()=>t.element({...je.title.attrs,id:Ve(r)}),getDescriptionProps:()=>t.element({...je.description.attrs,id:$e(r)}),getActionTriggerProps:()=>t.button({...je.actionTrigger.attrs,type:"button",onClick(e){e.defaultPrevented||(v?.onClick?.(),n({type:"DISMISS",src:"user"}))}}),getCloseTriggerProps(){return t.button({id:(e=r,`toast${e.id}:close`),...je.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(e){e.defaultPrevented||n({type:"DISMISS",src:"user"})}});var e}}}(le(Ye,{...s}),pe);return N.jsx(st,{value:n,children:e.children(e.value)})};function dt(e){const{key:t,recipe:s}=e,n=$();return l.useMemo(()=>{const e=s||(null!=t?n.getSlotRecipe(t):{});return n.sva(structuredClone(e))},[t,s,n])}ut.displayName="ToastActor";const pt=e=>{const{key:t,recipe:s}=e,n=(o=t||s.className||"Component").charAt(0).toUpperCase()+o.slice(1);var o;const[r,i]=W({name:`${n}StylesContext`,errorMessage:`use${n}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${n}.Root />" `}),[a,c]=W({name:`${n}ClassNameContext`,errorMessage:`use${n}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${n}.Root />" `,strict:!1}),[u,d]=W({strict:!1,name:`${n}PropsContext`,providerName:`${n}PropsContext`,defaultValue:{}});function p(e){const{unstyled:n,...o}=e,r=dt({key:t,recipe:o.recipe||s}),[i,a]=l.useMemo(()=>r.splitVariantProps(o),[o,r]);return{styles:l.useMemo(()=>n?K:r(i),[n,i,r]),classNames:r.classNameMap,props:a}}return{StylesProvider:r,ClassNamesProvider:a,PropsProvider:u,usePropsContext:d,useRecipeResult:p,withProvider:(e,t,s)=>{const{defaultProps:n,...o}=s??{},i=G(e,{},o),c=l.forwardRef((e,o)=>{const c=d(),u=l.useMemo(()=>B(n??{},c,e),[c,e]),{styles:m,props:g,classNames:f}=p(u),h=f[t],v=N.jsx(r,{value:m,children:N.jsx(a,{value:f,children:N.jsx(i,{ref:o,...g,css:[m[t],u.css],className:H(u.className,h)})})});return s?.wrapElement?.(v,u)??v});return c.displayName=e.displayName||e.name,c},withContext:(e,t,s)=>{const n=G(e,{},s),o=l.forwardRef((e,s)=>{const{unstyled:o,...r}=e,a=i(),l=c(),u=l?.[t];return N.jsx(n,{...r,css:[!o&&t?a[t]:void 0,e.css],ref:s,className:H(e.className,u)})});return o.displayName=e.displayName||e.name,o},withRootProvider:function(e,t={}){const{defaultProps:s}=t,n=t=>{const n=d(),o=l.useMemo(()=>B(s,n,t),[n,t]),{styles:i,classNames:c,props:u}=p(o);return N.jsx(r,{value:i,children:N.jsx(a,{value:c,children:N.jsx(e,{...u})})})};return n.displayName=e.displayName||e.name,n},useStyles:i,useClassNames:c}},mt=e=>N.jsx(G.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...e,children:N.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),gt=e=>N.jsx(G.svg,{viewBox:"0 0 24 24",fill:"currentColor",...e,children:N.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),{withProvider:ft,withContext:ht,useStyles:vt}=pt({key:"toast"}),yt=G(lt,{},{forwardAsChild:!0}),xt=ft(at,"root",{forwardAsChild:!0}),Et=ht(rt,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:N.jsx(gt,{})}}),Tt=ht(ct,"title",{forwardAsChild:!0}),Nt=ht(it,"description",{forwardAsChild:!0}),bt=ht(ot,"actionTrigger",{forwardAsChild:!0}),Pt={warning:mt,success:e=>N.jsx(G.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...e,children:N.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),error:mt},Ct=l.forwardRef(function(e,t){const{unstyled:s,...n}=e,o=nt(),r=vt(),i=Pt[o.type];return i?N.jsx(i,{ref:t,...n,css:[s?void 0:r.indicator,e.css]}):null}),St=Qe({placement:"top",pauseOnPageIdle:!0});const Rt=()=>N.jsx(we,{children:N.jsx(yt,{toaster:St,insetInline:{mdDown:"4"},children:e=>N.jsxs(xt,{width:{md:"sm"},bg:"#000000",border:"1px solid",borderColor:"primary_text.10",children:["loading"===e.type?N.jsx(J,{size:"sm",color:"blue.solid"}):N.jsx(Ct,{color:"primary_text"}),N.jsxs(Z,{gap:"1",flex:"1",maxWidth:"100%",children:[e.title&&N.jsx(Tt,{color:"primary_text",children:e.title}),e.description&&N.jsx(Nt,{children:e.description})]}),e.action&&N.jsx(bt,{children:e.action.label}),e.closable&&N.jsx(Et,{})]})})});export{Re as D,fe as P,Rt as T,X as a,ee as b,le as c,ge as d,pt as e,Oe as f,Ne as g,Se as h,Pe as i,Me as j,Ce as k,ke as l,be as m,pe as n,Te as o,we as p,te as q,dt as r,se as s,St as t,he as u};
