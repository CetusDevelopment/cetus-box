var e,t;import{e as n,m as r,j as i,p as s,w as a,R as o}from"./index-ybds6jRs.js";import{c as u,a as c,C as l,H as d}from"./useSize-Dvc3rk6B.js";import{d as h,c as p,u as f,E as m,S as g,T as y}from"./v-stack-BY_1ISyr.js";const[v,w]=u({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),b=n.forwardRef((e,t)=>{const n=w(),s=r(n?.getInputProps(),e);return i.jsx(c.input,{...s,ref:t})});b.displayName="FieldInput";const M=s("div",{base:{display:"inline-flex",gap:"var(--group-gap, 0.5rem)",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),O=n.memo(n.forwardRef(function(e,t){const{align:r="center",justify:s="flex-start",children:o,wrap:u,skip:c,...l}=e,d=n.useMemo(()=>{let e=n.Children.toArray(o).filter(n.isValidElement);if(1===e.length)return e;const t=e.filter(e=>!c?.(e)),r=t.length;return 1===t.length?e:e.map(e=>{const i=e.props;if(c?.(e))return e;const s=t.indexOf(e);return n.cloneElement(e,{...i,"data-group-item":"","data-first":h(0===s),"data-last":h(s===r-1),"data-between":h(s>0&&s<r-1),style:{"--group-count":r,"--group-index":s,...i?.style??{}}})})},[o,c]);return i.jsx(M,{ref:t,alignItems:r,justifyContent:s,flexWrap:u,...l,className:a("chakra-group",e.className),children:d})}));O.displayName="Group";const{withContext:k}=p({key:"input"}),S=k(b),E=n.forwardRef(function({unstyled:e,...t},n){const r=f({key:"inputAddon",recipe:t.recipe}),[a,o]=r.splitVariantProps(t),u=e?m:r(a);return i.jsx(s.div,{ref:n,...o,css:[u,t.css]})}),j=s("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:2,color:"fg.muted",height:"full",fontSize:"sm",px:"3"},variants:{placement:{start:{insetInlineStart:"0"},end:{insetInlineEnd:"0"}}}}),I=n.forwardRef(function(e,t){const{startElement:r,startElementProps:s,endElement:a,endElementProps:o,startAddon:u,startAddonProps:c,endAddon:l,endAddonProps:d,children:h,startOffset:p="0px",endOffset:f="0px",...m}=e,g=n.Children.only(h),y=Boolean(u||l);return i.jsxs(O,{width:"full",ref:t,attached:y,skip:e=>e.type===j,...m,children:[u&&i.jsx(E,{...c,children:u}),r&&i.jsx(j,{pointerEvents:"none",...s,children:r}),n.cloneElement(g,{...r&&{ps:`calc(var(--input-height) - ${p})`},...a&&{pe:`calc(var(--input-height) - ${f})`},...h.props}),a&&i.jsx(j,{placement:"end",...o,children:a}),l&&i.jsx(E,{...d,children:l})]})});function T(e){return i.jsx(l,{name:"icon-icon_loading",boxSize:"12px",animation:"spin 1s linear infinite",color:"primary_bg",_hover:{"& svg":{fill:"primary_bg"}},...e})}function x({onEnter:e,value:t,onInputChange:n,placeholder:r,showEnter:s=!0,errorSting:a,wrapStyle:o={},isLoading:u=!1,onFocus:c,onBlur:h}){const p=u||!t,f=()=>{p||e()};return i.jsxs(g,{gap:"4px",w:"full",...o,children:[i.jsx(I,{h:"44px",bg:"input_bg",borderRadius:"0px",endElement:s?i.jsxs(d,{mr:"-3.5px",children:[i.jsx(l,{name:"icon-icon_enter",boxSize:"11px"}),i.jsx(y,{fontSize:"12px",lineHeight:"20px",color:"second_text",children:"Enter"}),i.jsx(d,{onClick:f,cursor:p?"not-allowed":"pointer",bg:"primary.60",_hover:p?void 0:{bg:"primary"},opacity:p?.6:1,w:"32px",h:"32px",justify:"center",align:"center",borderRadius:"0px",children:u?i.jsx(T,{}):i.jsx(l,{name:"icon-icon_search",boxSize:"12px",color:"primary_bg",_hover:{fill:"primary_bg"}})})]}):null,children:i.jsx(S,{value:t,backdropFilter:"blur(50px)",onChange:e=>{const t=e.target.value.replace(/[^a-zA-Z0-9]/g,"");n(t)},onFocus:c&&(()=>c()),onBlur:h&&(()=>h()),onKeyDown:e=>{"Enter"===e.key&&f()},placeholder:r,border:a?"1px solid var(--chakra-colors-primary_red)":"1px solid var(--chakra-colors-primary_text-10)",color:"primary_text",_placeholder:{color:"second_text"},css:{"--focus-color":a?"transparent":"var(--chakra-colors-primary-40)","&:focus-visible":{borderColor:"var(--chakra-colors-primary-40)"}},borderRadius:"0px",pe:s?"106px":void 0,h:"44px"})}),a?i.jsx(y,{fontSize:"12px",lineHeight:"16px",color:"primary_red",children:a}):null]})}function C(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function _(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function N(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function A(e){if(!Array.isArray(e))throw new Error("array expected")}function $(e,t){if(!C(!0,t))throw new Error(`${e}: array of strings expected`)}function D(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function P(e){const t="string"==typeof e?e.split(""):e,n=t.length;$("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(A(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(A(t),t.map(t=>{_("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function B(e=""){return _("join",e),{encode:t=>($("join.decode",t),t.join(e)),decode:t=>(_("join.decode",t),t.split(e))}}function R(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(A(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(N(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),a=s.length;for(;;){let e=0,o=!0;for(let i=r;i<a;i++){const a=s[i],u=t*e,c=u+a;if(!Number.isSafeInteger(c)||u/t!==e||c-a!==u)throw new Error("convertRadix: carry overflow");const l=c/n;e=c%n;const d=Math.floor(l);if(s[i]=d,!Number.isSafeInteger(d)||d*n+e!==c)throw new Error("convertRadix: carry overflow");o&&(d?o=!1:r=i)}if(i.push(e),o)break}for(let o=0;o<e.length-1&&0===e[o];o++)i.push(0);return i.reverse()}function U(e){N(e);return{encode:t=>{if(!((n=t)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("radix.encode input should be Uint8Array");var n;return R(Array.from(t),256,e)},decode:t=>(function(e,t){if(!C(!1,t))throw new Error(`${e}: array of numbers expected`)}("radix.decode",t),Uint8Array.from(R(t,e,256)))}}const V=(e=>D(U(58),P(e),B("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),F=e=>V.encode(e),z=e=>V.decode(e);function q(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}const L=8192;function W(e){if(e.length<L)return btoa(String.fromCharCode(...e));let t="";for(var n=0;n<e.length;n+=L){const r=e.slice(n,n+L);t+=String.fromCharCode(...r)}return btoa(t)}function G(e){const t=e.startsWith("0x")?e.slice(2):e,n=t.length%2==0?t:`0${t}`,r=n.match(/[0-9a-fA-F]{2}/g)?.map(e=>parseInt(e,16))??[];if(r.length!==n.length/2)throw new Error(`Invalid hex string ${e}`);return Uint8Array.from(r)}function Z(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function J(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,(r+1)*t))}class K{constructor(e,t){if("function"!=typeof e)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: ${e}.`);this._batchLoadFn=e,this._maxBatchSize=function(e){const t=!e||!1!==e.batch;if(!t)return 1;const n=e&&e.maxBatchSize;if(void 0===n)return 1/0;if("number"!=typeof n||n<1)throw new TypeError(`maxBatchSize must be a positive number: ${n}`);return n}(t),this._batchScheduleFn=function(e){const t=e&&e.batchScheduleFn;if(void 0===t)return H;if("function"!=typeof t)throw new TypeError(`batchScheduleFn must be a function: ${t}`);return t}(t),this._cacheKeyFn=function(e){const t=e&&e.cacheKeyFn;if(void 0===t)return e=>e;if("function"!=typeof t)throw new TypeError(`cacheKeyFn must be a function: ${t}`);return t}(t),this._cacheMap=function(e){const t=!e||!1!==e.cache;if(!t)return null;const n=e&&e.cacheMap;if(void 0===n)return new Map;if(null!==n){const e=["get","set","delete","clear"].filter(e=>n&&"function"!=typeof n[e]);if(0!==e.length)throw new TypeError("Custom cacheMap missing methods: "+e.join(", "))}return n}(t),this._batch=null,this.name=function(e){if(e&&e.name)return e.name;return null}(t)}load(e){if(null==e)throw new TypeError(`The loader.load() function must be called with a value, but got: ${String(e)}.`);const t=function(e){const t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;const n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(()=>{!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void Q(t);let n;try{n=e._batchLoadFn(t.keys)}catch(Ho){return X(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: ${String(Ho)}.`))}if(!n||"function"!=typeof n.then)return X(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: ${String(n)}.`));Promise.resolve(n).then(e=>{if(!ee(e))throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: ${String(e)}.`);if(e.length!==t.keys.length)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n${String(t.keys)}\n\nValues:\n${String(e)}`);Q(t);for(let n=0;n<t.callbacks.length;n++){const r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}}).catch(n=>{X(e,t,n)})}(e,n)}),n}(this),n=this._cacheMap;let r;if(n){r=this._cacheKeyFn(e);const i=n.get(r);if(i){const e=t.cacheHits||(t.cacheHits=[]);return new Promise(t=>{e.push(()=>{t(i)})})}}t.keys.push(e);const i=new Promise((e,n)=>{t.callbacks.push({resolve:e,reject:n})});return n&&n.set(r,i),i}loadMany(e){if(!ee(e))throw new TypeError(`The loader.loadMany() function must be called with Array<key>, but got: ${e}.`);const t=[];for(let n=0;n<e.length;n++)t.push(this.load(e[n]).catch(e=>e));return Promise.all(t)}clear(e){const t=this._cacheMap;if(t){const n=this._cacheKeyFn(e);t.delete(n)}return this}clearAll(){const e=this._cacheMap;return e&&e.clear(),this}prime(e,t){const n=this._cacheMap;if(n){const r=this._cacheKeyFn(e);if(void 0===n.get(r)){let e;t instanceof Error?(e=Promise.reject(t),e.catch(()=>{})):e=Promise.resolve(t),n.set(r,e)}}return this}}const H="object"==typeof process&&"function"==typeof process.nextTick?function(e){Y||(Y=Promise.resolve()),Y.then(()=>{process.nextTick(e)})}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};let Y;function X(e,t,n){Q(t);for(let r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function Q(e){if(e.cacheHits)for(let t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function ee(e){return"object"==typeof e&&null!==e&&"length"in e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}function te(e){let t=BigInt(e);const n=[];let r=0;if(0n===t)return[0];for(;t>0;)n[r]=Number(0x7fn&t),t>>=7n,t>0n&&(n[r]|=128),r+=1;return n}class ne{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}shift(e){return this.bytePosition+=e,this}read8(){const e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){const e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){const e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){const e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){const e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){const e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){const t=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),n}readULEB(){const e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:n,length:r}=function(e){let t=0n,n=0n,r=0;for(;;){if(r>=e.length)throw new Error("ULEB decode error: buffer overflow");const i=e[r];if(r+=1,t+=BigInt(127&i)<<n,!(128&i))break;n+=7n}if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("ULEB decode error: value exceeds MAX_SAFE_INTEGER");return{value:Number(t),length:r}}(t);return this.shift(r),n}readVec(e){const t=this.readULEB(),n=[];for(let r=0;r<t;r++)n.push(e(this,r,t));return n}}function re(e,t=["<",">"]){const[n,r]=t,i=[];let s="",a=0;for(let o=0;o<e.length;o++){const t=e[o];t===n&&a++,t===r&&a--,0!==a||","!==t?s+=t:(i.push(s.trim()),s="")}return i.push(s.trim()),i}class ie{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,Math.max(this.size+t,this.size+this.allocateSize));if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const n=new ArrayBuffer(this.size);new Uint8Array(n).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(n)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}writeBytes(e){this.ensureSizeOrGrow(e.length);for(let t=0;t<e.length;t++)this.dataView.setUint8(this.bytePosition+t,e[t]);return this.shift(e.length)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return se(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return se(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return se(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return te(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((n,r)=>t(this,n,r,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return F(e);case"base64":return W(e);case"hex":return Z(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function se(e,t){const n=new Uint8Array(t);let r=0;for(;e>0;)n[r]=Number(e%BigInt(256)),e/=BigInt(256),r+=1;return n}var ae,oe,ue,ce,le=e=>{throw TypeError(e)},de=(e,t,n)=>t.has(e)||le("Cannot "+n),he=(e,t,n)=>(de(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?le("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),fe=(e,t,n,r)=>(de(e,t,"write to private field"),t.set(e,n),n);ae=new WeakMap,oe=new WeakMap;let me=class e{constructor(e){pe(this,ae),pe(this,oe),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),fe(this,ae,e.write),fe(this,oe,e.serialize??((e,t)=>{const n=new ie({initialSize:this.serializedSize(e)??void 0,...t});return he(this,ae).call(this,e,n),n.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),he(this,ae).call(this,e,t)}serialize(e,t){return this.validate(e),new ve(this,he(this,oe).call(this,e,t))}parse(e){const t=new ne(e);return this.read(t)}fromHex(e){return this.parse(G(e))}fromBase58(e){return this.parse(z(e))}fromBase64(e){return this.parse(q(e))}transform({name:t,input:n,output:r,validate:i}){return new e({name:t??this.name,read:e=>r?r(this.read(e)):this.read(e),write:(e,t)=>he(this,ae).call(this,n?n(e):e,t),serializedSize:e=>this.serializedSize(n?n(e):e),serialize:(e,t)=>he(this,oe).call(this,n?n(e):e,t),validate:e=>{i?.(e),this.validate(n?n(e):e)}})}};const ge=Symbol.for("@mysten/serialized-bcs");function ye(e){return!!e&&"object"==typeof e&&!0===e[ge]}class ve{constructor(e,t){pe(this,ue),pe(this,ce),fe(this,ue,e),fe(this,ce,t)}get[ge](){return!0}toBytes(){return he(this,ce)}toHex(){return Z(he(this,ce))}toBase64(){return W(he(this,ce))}toBase58(){return F(he(this,ce))}parse(){return he(this,ue).parse(he(this,ce))}}function we({size:e,...t}){return new me({...t,serializedSize:()=>e})}function be({readMethod:e,writeMethod:t,...n}){return we({...n,read:t=>t[e](),write:(e,n)=>n[t](e),validate:e=>{if(e<0||e>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${e}. Expected value in range 0-${n.maxValue}`);n.validate?.(e)}})}function Me({readMethod:e,writeMethod:t,...n}){return we({...n,read:t=>t[e](),write:(e,n)=>n[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${t}. Expected value in range 0-${n.maxValue}`);n.validate?.(t)}})}ue=new WeakMap,ce=new WeakMap;class Oe extends me{constructor({name:e,fields:t,...n}){const r=Object.entries(t);super({name:e,serializedSize:e=>{let t=0;for(const[n,i]of r){const r=i.serializedSize(e[n]);if(null==r)return null;t+=r}return t},read:e=>{const t={};for(const[n,i]of r)t[n]=i.read(e);return t},write:(e,t)=>{for(const[n,i]of r)i.write(e[n],t)},...n,validate:e=>{if(n?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})}}class ke extends me{constructor({fields:e,...t}){const n=Object.entries(e);super({read:e=>{const r=e.readULEB(),i=n[r];if(!i)throw new TypeError(`Unknown value ${r} for enum ${t.name}`);const[s,a]=i;return{[s]:a?.read(e)??!0,$kind:s}},write:(t,r)=>{const[i,s]=Object.entries(t).filter(([t])=>Object.hasOwn(e,t))[0];for(let e=0;e<n.length;e++){const[t,a]=n[e];if(t===i)return r.writeULEB(e),void a?.write(s,r)}},...t,validate:n=>{if(t?.validate?.(n),"object"!=typeof n||null==n)throw new TypeError("Expected object, found "+typeof n);const r=Object.keys(n).filter(t=>void 0!==n[t]&&Object.hasOwn(e,t));if(1!==r.length)throw new TypeError(`Expected object with one key, but found ${r.length} for type ${t.name}}`);const[i]=r;if(!Object.hasOwn(e,i))throw new TypeError(`Invalid enum variant ${i}`)}})}}class Se extends me{constructor({fields:e,name:t,...n}){super({name:t??`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let n=0;for(let r=0;r<e.length;r++){const i=e[r].serializedSize(t[r]);if(null==i)return null;n+=i}return n},read:t=>{const n=[];for(const r of e)n.push(r.read(t));return n},write:(t,n)=>{for(let r=0;r<e.length;r++)e[r].write(t[r],n)},...n,validate:t=>{if(n?.validate?.(t),!Array.isArray(t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${t.length}`)}})}}const Ee={u8:e=>be({readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e,name:e?.name??"u8"}),u16:e=>be({readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e,name:e?.name??"u16"}),u32:e=>be({readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e,name:e?.name??"u32"}),u64:e=>Me({readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e,name:e?.name??"u64"}),u128:e=>Me({readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e,name:e?.name??"u128"}),u256:e=>Me({readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e,name:e?.name??"u256"}),bool:e=>we({size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,name:e?.name??"bool",validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const n=new me({...t,serialize:e,write:(e,t)=>{for(const r of n.serialize(e).toBytes())t.write8(r)}});return n}({read:e=>e.readULEB(),serialize:e=>Uint8Array.from(te(e)),...e,name:e?.name??"uleb128"}),bytes:(e,t)=>we({size:e,read:t=>t.readBytes(e),write:(e,t)=>{t.writeBytes(new Uint8Array(e))},...t,name:t?.name??`bytes[${e}]`,validate:n=>{if(t?.validate?.(n),!n||"object"!=typeof n||!("length"in n))throw new TypeError("Expected array, found "+typeof n);if(n.length!==e)throw new TypeError(`Expected array of length ${e}, found ${n.length}`)}}),byteVector:e=>new me({read:e=>{const t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{const n=new Uint8Array(e);t.writeULEB(n.length),t.writeBytes(n)},...e,name:e?.name??"vector<u8>",serializedSize:e=>{const t="length"in e?e.length:null;return null==t?null:te(t).length+t},validate:t=>{if(e?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t)}}),string:e=>function({toBytes:e,fromBytes:t,...n}){return new me({...n,read:e=>{const n=e.readULEB(),r=e.readBytes(n);return t(r)},write:(t,n)=>{const r=e(t);n.writeULEB(r.length);for(let e=0;e<r.length;e++)n.write8(r[e])},serialize:t=>{const n=e(t),r=te(n.length),i=new Uint8Array(r.length+n.length);return i.set(r,0),i.set(n,r.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${n.name} value: ${e}. Expected string`);n.validate?.(e)}})}({toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e,name:e?.name??"string"}),fixedArray:function(e,t,n){return new me({read:n=>{const r=new Array(e);for(let i=0;i<e;i++)r[i]=t.read(n);return r},write:(e,n)=>{for(const r of e)t.write(r,n)},...n,name:n?.name??`${t.name}[${e}]`,validate:t=>{if(n?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}})},option:function(e){return Ee.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null})},vector:function(e,t){return new me({read:t=>{const n=t.readULEB(),r=new Array(n);for(let i=0;i<n;i++)r[i]=e.read(t);return r},write:(t,n)=>{n.writeULEB(t.length);for(const r of t)e.write(r,n)},...t,name:t?.name??`vector<${e.name}>`,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}})},tuple:(e,t)=>new Se({fields:e,...t}),struct:(e,t,n)=>new Oe({name:e,fields:t,...n}),enum:(e,t,n)=>new ke({name:e,fields:t,...n}),map:function(e,t){return Ee.vector(Ee.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[n,r]of e)t.set(n,r);return t}})},lazy:e=>function(e){let t=null;function n(){return t||(t=e()),t}return new me({name:"lazy",read:e=>n().read(e),serializedSize:e=>n().serializedSize(e),write:(e,t)=>n().write(e,t),serialize:(e,t)=>n().serialize(e,t).toBytes()})}(e)},je=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,Ie=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;const Te=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,xe=/^\d+$/,Ce=e=>{const t=e.split("/");if(t.length<2||t.length>3)return!1;const[n,r,i]=t;return!(void 0!==i&&!xe.test(i))&&(!!function(e){return!(e.length>235)&&(e.includes("@")?je.test(e):Ie.test(e))}(n)&&(Te.test(r)&&r.length<64))},_e=e=>{const t=e.split(/::|<|>|,/);for(const n of t)if(n.includes("/")&&!Ce(n))return!1;return!0};function Ne(e){try{return 32===z(e).length}catch{return!1}}function Ae(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&32===function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)}function $e(e){return Ae(e)}function De(e){const[t,n]=e.split("::"),r=Ce(t),i=e.slice(t.length+n.length+4),s=i.includes("<")?i.slice(0,i.indexOf("<")):i,a=i.includes("<")?re(i.slice(i.indexOf("<")+1,i.lastIndexOf(">"))).map(e=>function(e){return e.includes("::")?De(e):e}(e.trim())):[];return{address:r?t:Be(t),module:n,name:s,typeParams:a}}function Pe(e){const{address:t,module:n,name:r,typeParams:i}="string"==typeof e?De(e):e;return`${t}::${n}::${r}${i?.length>0?`<${i.map(e=>"string"==typeof e?e:Pe(e)).join(",")}>`:""}`}function Be(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(64,"0")}`}function Re(e,t=!1){return Be(e,t)}BigInt(1e9);Re("0x6");const Ue="0x2::sui::SUI";function Ve(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Fe(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ze(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Le(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}Re("0x5"),Re("0x8");const We=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function Ge(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ze=We?e=>e:e=>Ge(e);const Je=We?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Ge(e[t]);return e};function Ke(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Fe(e),e}class He{}function Ye(e){const t=(t,n)=>e(n).update(Ke(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}const Xe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Qe=BigInt(2**32-1),et=BigInt(32);const tt=(e,t,n)=>e>>>n|t<<32-n,nt=(e,t,n)=>e<<32-n|t>>>n,rt=(e,t,n)=>e>>>n-32|t<<64-n;function it(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const st=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),at=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ot=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ut=new Uint32Array(32);function ct(e,t,n,r,i,s){const a=i[s],o=i[s+1];let u=ut[2*e],c=ut[2*e+1],l=ut[2*t],d=ut[2*t+1],h=ut[2*n],p=ut[2*n+1],f=ut[2*r],m=ut[2*r+1],g=st(u,l,a);var y,v;c=at(g,c,d,o),u=0|g,({Dh:m,Dl:f}={Dh:m^c,Dl:f^u}),({Dh:m,Dl:f}={Dh:(v=f,v),Dl:(y=m,y)}),({h:p,l:h}=it(p,h,m,f)),({Bh:d,Bl:l}={Bh:d^p,Bl:l^h}),({Bh:d,Bl:l}={Bh:tt(d,l,24),Bl:nt(d,l,24)}),ut[2*e]=u,ut[2*e+1]=c,ut[2*t]=l,ut[2*t+1]=d,ut[2*n]=h,ut[2*n+1]=p,ut[2*r]=f,ut[2*r+1]=m}function lt(e,t,n,r,i,s){const a=i[s],o=i[s+1];let u=ut[2*e],c=ut[2*e+1],l=ut[2*t],d=ut[2*t+1],h=ut[2*n],p=ut[2*n+1],f=ut[2*r],m=ut[2*r+1],g=st(u,l,a);var y,v,w;c=at(g,c,d,o),u=0|g,({Dh:m,Dl:f}={Dh:m^c,Dl:f^u}),({Dh:m,Dl:f}={Dh:tt(m,f,16),Dl:nt(m,f,16)}),({h:p,l:h}=it(p,h,m,f)),({Bh:d,Bl:l}={Bh:d^p,Bl:l^h}),({Bh:d,Bl:l}={Bh:(y=d,v=l,w=63,y<<64-w|v>>>w-32),Bl:rt(d,l,63)}),ut[2*e]=u,ut[2*e+1]=c,ut[2*t]=l,ut[2*t+1]=d,ut[2*n]=h,ut[2*n+1]=p,ut[2*r]=f,ut[2*r+1]=m}class dt extends He{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ve(e),Ve(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=qe(this.buffer)}update(e){ze(this),Fe(e=Ke(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,a=e.buffer;for(let o=0;o<i;){this.pos===t&&(Je(r),this.compress(r,0,!1),Je(r),this.pos=0);const u=Math.min(t-this.pos,i-o),c=s+o;if(u===t&&!(c%4)&&o+u<i){const e=new Uint32Array(a,c,Math.floor((i-o)/4));Je(e);for(let n=0;o+t<i;n+=r.length,o+=t)this.length+=t,this.compress(e,n,!1);Je(e);continue}n.set(e.subarray(o,o+u),this.pos),this.pos+=u,this.length+=u,o+=u}return this}digestInto(e){ze(this),function(e,t){Fe(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,Le(this.buffer.subarray(t)),Je(n),this.compress(n,0,!0),Je(n);const r=qe(e);this.get().forEach((e,t)=>r[t]=Ze(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=a,e.outputLen=s,e}clone(){return this._cloneInto()}}class ht extends dt{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|ot[0],this.v0h=0|ot[1],this.v1l=0|ot[2],this.v1h=0|ot[3],this.v2l=0|ot[4],this.v2h=0|ot[5],this.v3l=0|ot[6],this.v3h=0|ot[7],this.v4l=0|ot[8],this.v4h=0|ot[9],this.v5l=0|ot[10],this.v5h=0|ot[11],this.v6l=0|ot[12],this.v6h=0|ot[13],this.v7l=0|ot[14],this.v7h=0|ot[15],function(e,t={},n,r,i){if(Ve(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:o}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==a&&a.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==o&&o.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=Ke(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=Ke(i);const e=qe(i);this.v4l^=Ze(e[0]),this.v4h^=Ze(e[1]),this.v5l^=Ze(e[2]),this.v5h^=Ze(e[3])}if(void 0!==r){r=Ke(r);const e=qe(r);this.v6l^=Ze(e[0]),this.v6h^=Ze(e[1]),this.v7l^=Ze(e[2]),this.v7h^=Ze(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:a,v3h:o,v4l:u,v4h:c,v5l:l,v5h:d,v6l:h,v6h:p,v7l:f,v7h:m}=this;return[e,t,n,r,i,s,a,o,u,c,l,d,h,p,f,m]}set(e,t,n,r,i,s,a,o,u,c,l,d,h,p,f,m){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|u,this.v4h=0|c,this.v5l=0|l,this.v5h=0|d,this.v6l=0|h,this.v6h=0|p,this.v7l=0|f,this.v7h=0|m}compress(e,t,n){this.get().forEach((e,t)=>ut[t]=e),ut.set(ot,16);let{h:r,l:i}=function(e,t=!1){return t?{h:Number(e&Qe),l:Number(e>>et&Qe)}:{h:0|Number(e>>et&Qe),l:0|Number(e&Qe)}}(BigInt(this.length));ut[24]=ot[8]^i,ut[25]=ot[9]^r,n&&(ut[28]=~ut[28],ut[29]=~ut[29]);let s=0;const a=Xe;for(let o=0;o<12;o++)ct(0,4,8,12,e,t+2*a[s++]),lt(0,4,8,12,e,t+2*a[s++]),ct(1,5,9,13,e,t+2*a[s++]),lt(1,5,9,13,e,t+2*a[s++]),ct(2,6,10,14,e,t+2*a[s++]),lt(2,6,10,14,e,t+2*a[s++]),ct(3,7,11,15,e,t+2*a[s++]),lt(3,7,11,15,e,t+2*a[s++]),ct(0,5,10,15,e,t+2*a[s++]),lt(0,5,10,15,e,t+2*a[s++]),ct(1,6,11,12,e,t+2*a[s++]),lt(1,6,11,12,e,t+2*a[s++]),ct(2,7,8,13,e,t+2*a[s++]),lt(2,7,8,13,e,t+2*a[s++]),ct(3,4,9,14,e,t+2*a[s++]),lt(3,4,9,14,e,t+2*a[s++]);this.v0l^=ut[0]^ut[16],this.v0h^=ut[1]^ut[17],this.v1l^=ut[2]^ut[18],this.v1h^=ut[3]^ut[19],this.v2l^=ut[4]^ut[20],this.v2h^=ut[5]^ut[21],this.v3l^=ut[6]^ut[22],this.v3h^=ut[7]^ut[23],this.v4l^=ut[8]^ut[24],this.v4h^=ut[9]^ut[25],this.v5l^=ut[10]^ut[26],this.v5h^=ut[11]^ut[27],this.v6l^=ut[12]^ut[28],this.v6h^=ut[13]^ut[29],this.v7l^=ut[14]^ut[30],this.v7h^=ut[15]^ut[31],Le(ut)}destroy(){this.destroyed=!0,Le(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const pt=Ye(e=>new ht(e)),ft=/^vector<(.+)>$/,mt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class gt{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const n=e.match(ft);if(n)return{vector:gt.parseFromStr(n[1],t)};const r=e.match(mt);if(r){return{struct:{address:t?Be(r[1]):r[1],module:r[2],name:r[3],typeParams:void 0===r[5]?[]:gt.parseStructTypeArgs(r[5],t)}}}throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return re(e).map(e=>gt.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${gt.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,n=t.typeParams.map(gt.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}}const yt=Ee.bytes(32).transform({validate:e=>{const t="string"==typeof e?e:Z(e);if(!t||!Ae(Be(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?G(Be(e)):e,output:e=>Be(Z(e))}),vt=Ee.byteVector().transform({name:"ObjectDigest",input:e=>z(e),output:e=>F(new Uint8Array(e)),validate:e=>{if(32!==z(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),wt=Ee.struct("SuiObjectRef",{objectId:yt,version:Ee.u64(),digest:vt}),bt=Ee.struct("SharedObjectRef",{objectId:yt,initialSharedVersion:Ee.u64(),mutable:Ee.bool()}),Mt=Ee.enum("ObjectArg",{ImmOrOwnedObject:wt,SharedObject:bt,Receiving:wt}),Ot=Ee.enum("Owner",{AddressOwner:yt,ObjectOwner:yt,Shared:Ee.struct("Shared",{initialSharedVersion:Ee.u64()}),Immutable:null,ConsensusAddressOwner:Ee.struct("ConsensusAddressOwner",{owner:yt,startVersion:Ee.u64()})}),kt=Ee.enum("CallArg",{Pure:Ee.struct("Pure",{bytes:Ee.byteVector().transform({input:e=>"string"==typeof e?q(e):e,output:e=>W(new Uint8Array(e))})}),Object:Mt}),St=Ee.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Ee.lazy(()=>St),struct:Ee.lazy(()=>$t),u16:null,u32:null,u256:null}),Et=St.transform({input:e=>"string"==typeof e?gt.parseFromStr(e,!0):e,output:e=>gt.tagToString(e)}),jt=Ee.enum("Argument",{GasCoin:null,Input:Ee.u16(),Result:Ee.u16(),NestedResult:Ee.tuple([Ee.u16(),Ee.u16()])}),It=Ee.struct("ProgrammableMoveCall",{package:yt,module:Ee.string(),function:Ee.string(),typeArguments:Ee.vector(Et),arguments:Ee.vector(jt)}),Tt=Ee.enum("Command",{MoveCall:It,TransferObjects:Ee.struct("TransferObjects",{objects:Ee.vector(jt),address:jt}),SplitCoins:Ee.struct("SplitCoins",{coin:jt,amounts:Ee.vector(jt)}),MergeCoins:Ee.struct("MergeCoins",{destination:jt,sources:Ee.vector(jt)}),Publish:Ee.struct("Publish",{modules:Ee.vector(Ee.byteVector().transform({input:e=>"string"==typeof e?q(e):e,output:e=>W(new Uint8Array(e))})),dependencies:Ee.vector(yt)}),MakeMoveVec:Ee.struct("MakeMoveVec",{type:(xt=Et,Ee.enum("Option",{None:null,Some:xt})).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:Ee.vector(jt)}),Upgrade:Ee.struct("Upgrade",{modules:Ee.vector(Ee.byteVector().transform({input:e=>"string"==typeof e?q(e):e,output:e=>W(new Uint8Array(e))})),dependencies:Ee.vector(yt),package:yt,ticket:jt})});var xt;const Ct=Ee.struct("ProgrammableTransaction",{inputs:Ee.vector(kt),commands:Ee.vector(Tt)}),_t=Ee.enum("TransactionKind",{ProgrammableTransaction:Ct,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Nt=Ee.enum("TransactionExpiration",{None:null,Epoch:Ee.u64({name:"unsafe_u64",...At}).transform({input:e=>e,output:e=>Number(e)})});var At;const $t=Ee.struct("StructTag",{address:yt,module:Ee.string(),name:Ee.string(),typeParams:Ee.vector(St)}),Dt=Ee.struct("GasData",{payment:Ee.vector(wt),owner:yt,price:Ee.u64(),budget:Ee.u64()}),Pt=Ee.struct("TransactionDataV1",{kind:_t,sender:yt,gasData:Dt,expiration:Nt}),Bt=Ee.enum("TransactionData",{V1:Pt}),Rt=Ee.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Ut=Ee.enum("IntentVersion",{V0:null}),Vt=Ee.enum("AppId",{Sui:null}),Ft=Ee.struct("Intent",{scope:Rt,version:Ut,appId:Vt});function zt(e){return Ee.struct(`IntentMessage<${e.name}>`,{intent:Ft,value:e})}const qt=Ee.enum("CompressedSignature",{ED25519:Ee.bytes(64),Secp256k1:Ee.bytes(64),Secp256r1:Ee.bytes(64),ZkLogin:Ee.byteVector(),Passkey:Ee.byteVector()}),Lt=Ee.enum("PublicKey",{ED25519:Ee.bytes(32),Secp256k1:Ee.bytes(33),Secp256r1:Ee.bytes(33),ZkLogin:Ee.byteVector(),Passkey:Ee.bytes(33)}),Wt=Ee.struct("MultiSigPkMap",{pubKey:Lt,weight:Ee.u8()}),Gt=Ee.struct("MultiSigPublicKey",{pk_map:Ee.vector(Wt),threshold:Ee.u16()}),Zt=Ee.struct("MultiSig",{sigs:Ee.vector(qt),bitmap:Ee.u16(),multisig_pk:Gt}),Jt=Ee.byteVector().transform({input:e=>"string"==typeof e?q(e):e,output:e=>W(new Uint8Array(e))}),Kt=Ee.struct("SenderSignedTransaction",{intentMessage:zt(Bt),txSignatures:Ee.vector(Jt)}),Ht=Ee.vector(Kt,{name:"SenderSignedData"}),Yt=Ee.struct("PasskeyAuthenticator",{authenticatorData:Ee.byteVector(),clientDataJson:Ee.string(),userSignature:Ee.byteVector()}),Xt=Ee.enum("PackageUpgradeError",{UnableToFetchPackage:Ee.struct("UnableToFetchPackage",{packageId:yt}),NotAPackage:Ee.struct("NotAPackage",{objectId:yt}),IncompatibleUpgrade:null,DigestDoesNotMatch:Ee.struct("DigestDoesNotMatch",{digest:Ee.byteVector()}),UnknownUpgradePolicy:Ee.struct("UnknownUpgradePolicy",{policy:Ee.u8()}),PackageIDDoesNotMatch:Ee.struct("PackageIDDoesNotMatch",{packageId:yt,ticketId:yt})}),Qt=Ee.struct("ModuleId",{address:yt,name:Ee.string()}),en=Ee.struct("MoveLocation",{module:Qt,function:Ee.u16(),instruction:Ee.u16(),functionName:Ee.option(Ee.string())}),tn=Ee.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Ee.struct("IndexOutOfBounds",{idx:Ee.u16()}),SecondaryIndexOutOfBounds:Ee.struct("SecondaryIndexOutOfBounds",{resultIdx:Ee.u16(),secondaryIdx:Ee.u16()}),InvalidResultArity:Ee.struct("InvalidResultArity",{resultIdx:Ee.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),nn=Ee.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),rn=Ee.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Ee.struct("MoveObjectTooBig",{objectSize:Ee.u64(),maxObjectSize:Ee.u64()}),MovePackageTooBig:Ee.struct("MovePackageTooBig",{objectSize:Ee.u64(),maxObjectSize:Ee.u64()}),CircularObjectOwnership:Ee.struct("CircularObjectOwnership",{object:yt}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Ee.option(en),MoveAbort:Ee.tuple([en,Ee.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Ee.struct("CommandArgumentError",{argIdx:Ee.u16(),kind:tn}),TypeArgumentError:Ee.struct("TypeArgumentError",{argumentIdx:Ee.u16(),kind:nn}),UnusedValueWithoutDrop:Ee.struct("UnusedValueWithoutDrop",{resultIdx:Ee.u16(),secondaryIdx:Ee.u16()}),InvalidPublicFunctionReturnType:Ee.struct("InvalidPublicFunctionReturnType",{idx:Ee.u16()}),InvalidTransferObject:null,EffectsTooLarge:Ee.struct("EffectsTooLarge",{currentSize:Ee.u64(),maxSize:Ee.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Ee.struct("PackageUpgradeError",{upgradeError:Xt}),WrittenObjectsTooLarge:Ee.struct("WrittenObjectsTooLarge",{currentSize:Ee.u64(),maxSize:Ee.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Ee.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Ee.vector(yt)}),AddressDeniedForCoin:Ee.struct("AddressDeniedForCoin",{address:yt,coinType:Ee.string()}),CoinTypeGlobalPause:Ee.struct("CoinTypeGlobalPause",{coinType:Ee.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),sn=Ee.enum("ExecutionStatus",{Success:null,Failed:Ee.struct("ExecutionFailed",{error:rn,command:Ee.option(Ee.u64())})}),an=Ee.struct("GasCostSummary",{computationCost:Ee.u64(),storageCost:Ee.u64(),storageRebate:Ee.u64(),nonRefundableStorageFee:Ee.u64()}),on=Ee.struct("TransactionEffectsV1",{status:sn,executedEpoch:Ee.u64(),gasUsed:an,modifiedAtVersions:Ee.vector(Ee.tuple([yt,Ee.u64()])),sharedObjects:Ee.vector(wt),transactionDigest:vt,created:Ee.vector(Ee.tuple([wt,Ot])),mutated:Ee.vector(Ee.tuple([wt,Ot])),unwrapped:Ee.vector(Ee.tuple([wt,Ot])),deleted:Ee.vector(wt),unwrappedThenDeleted:Ee.vector(wt),wrapped:Ee.vector(wt),gasObject:Ee.tuple([wt,Ot]),eventsDigest:Ee.option(vt),dependencies:Ee.vector(vt)}),un=Ee.tuple([Ee.u64(),vt]),cn=Ee.enum("ObjectIn",{NotExist:null,Exist:Ee.tuple([un,Ot])}),ln=Ee.enum("ObjectOut",{NotExist:null,ObjectWrite:Ee.tuple([vt,Ot]),PackageWrite:un}),dn=Ee.enum("IDOperation",{None:null,Created:null,Deleted:null}),hn=Ee.struct("EffectsObjectChange",{inputState:cn,outputState:ln,idOperation:dn}),pn=Ee.enum("UnchangedSharedKind",{ReadOnlyRoot:un,MutateDeleted:Ee.u64(),ReadDeleted:Ee.u64(),Cancelled:Ee.u64(),PerEpochConfig:null}),fn=Ee.struct("TransactionEffectsV2",{status:sn,executedEpoch:Ee.u64(),gasUsed:an,transactionDigest:vt,gasObjectIndex:Ee.option(Ee.u32()),eventsDigest:Ee.option(vt),dependencies:Ee.vector(vt),lamportVersion:Ee.u64(),changedObjects:Ee.vector(Ee.tuple([yt,hn])),unchangedSharedObjects:Ee.vector(Ee.tuple([yt,pn])),auxDataDigest:Ee.option(vt)}),mn=Ee.enum("TransactionEffects",{V1:on,V2:fn});function gn(e){switch(e){case"u8":return Ee.u8();case"u16":return Ee.u16();case"u32":return Ee.u32();case"u64":return Ee.u64();case"u128":return Ee.u128();case"u256":return Ee.u256();case"bool":return Ee.bool();case"string":return Ee.string();case"id":case"address":return yt}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[e,n]=t.slice(1);return"vector"===e?Ee.vector(gn(n)):Ee.option(gn(n))}throw new Error(`Invalid Pure type name: ${e}`)}const yn={...Ee,U8:Ee.u8(),U16:Ee.u16(),U32:Ee.u32(),U64:Ee.u64(),U128:Ee.u128(),U256:Ee.u256(),ULEB128:Ee.uleb128(),Bool:Ee.bool(),String:Ee.string(),Address:yt,AppId:Vt,Argument:jt,CallArg:kt,Command:Tt,CompressedSignature:qt,GasData:Dt,Intent:Ft,IntentMessage:zt,IntentScope:Rt,IntentVersion:Ut,MultiSig:Zt,MultiSigPkMap:Wt,MultiSigPublicKey:Gt,ObjectArg:Mt,ObjectDigest:vt,Owner:Ot,PasskeyAuthenticator:Yt,ProgrammableMoveCall:It,ProgrammableTransaction:Ct,PublicKey:Lt,SenderSignedData:Ht,SenderSignedTransaction:Kt,SharedObjectRef:bt,StructTag:$t,SuiObjectRef:wt,TransactionData:Bt,TransactionDataV1:Pt,TransactionEffects:mn,TransactionExpiration:Nt,TransactionKind:_t,TypeTag:Et};function vn(e,t,n){const r=yn.Address.serialize(e).toBytes(),i=yn.TypeTag.serialize(t).toBytes(),s=yn.u64().serialize(n.length).toBytes(),a=pt.create({dkLen:32});return a.update(new Uint8Array([240])),a.update(r),a.update(s),a.update(n),a.update(i),`0x${Z(a.digest().slice(0,32))}`}const wn="1.45.2",bn={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class Mn extends Error{}class On extends Mn{constructor(e,t){super(e),this.code=t,this.type=bn[t]??"ServerError"}}class kn extends Mn{constructor(e,t,n){super(e),this.status=t,this.statusText=n}}var Sn,En,jn,In,Tn,xn,Cn,_n,Nn,An=e=>{throw TypeError(e)},$n=(e,t,n)=>t.has(e)||An("Cannot "+n),Dn=(e,t,n)=>($n(e,t,"read from private field"),n?n.call(e):t.get(e)),Pn=(e,t,n)=>t.has(e)?An("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Bn=(e,t,n,r)=>($n(e,t,"write to private field"),t.set(e,n),n),Rn=(e,t,n)=>($n(e,t,"access private method"),n);const Un={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class Vn{constructor(e,t={}){if(Pn(this,Cn),Pn(this,Sn,0),Pn(this,En,0),Pn(this,jn,null),Pn(this,In,null),Pn(this,Tn,new Set),Pn(this,xn,new Map),this.endpoint=e,this.options={...Un,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t,n){const r=await Rn(this,Cn,_n).call(this);return new Promise((i,s)=>{Bn(this,Sn,Dn(this,Sn)+1),Dn(this,xn).set(Dn(this,Sn),{resolve:i,reject:s,timeout:setTimeout(()=>{Dn(this,xn).delete(Dn(this,Sn)),s(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n?.addEventListener("abort",()=>{Dn(this,xn).delete(Dn(this,Sn)),s(n.reason)}),r.send(JSON.stringify({jsonrpc:"2.0",id:Dn(this,Sn),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new On(e.message,e.code);return t})}async subscribe(e){const t=new Fn(e);return Dn(this,Tn).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}Sn=new WeakMap,En=new WeakMap,jn=new WeakMap,In=new WeakMap,Tn=new WeakMap,xn=new WeakMap,Cn=new WeakSet,_n=function(){return Dn(this,In)||Bn(this,In,new Promise(e=>{Dn(this,jn)?.close(),Bn(this,jn,new this.options.WebSocketConstructor(this.endpoint)),Dn(this,jn).addEventListener("open",()=>{Bn(this,En,0),e(Dn(this,jn))}),Dn(this,jn).addEventListener("close",()=>{var e,t,n;(e=this,t=En,{set _(n){Bn(e,t,n)},get _(){return Dn(e,t,n)}})._++,Dn(this,En)<=this.options.maxReconnects&&setTimeout(()=>{Rn(this,Cn,Nn).call(this)},this.options.reconnectTimeout)}),Dn(this,jn).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(n){return}if("id"in t&&null!=t.id&&Dn(this,xn).has(t.id)){const{resolve:e,timeout:n}=Dn(this,xn).get(t.id);clearTimeout(n),e(t)}else if("params"in t){const{params:e}=t;Dn(this,Tn).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),Dn(this,In)},Nn=async function(){return Dn(this,jn)?.close(),Bn(this,In,null),Promise.allSettled([...Dn(this,Tn)].map(e=>e.subscribe(this)))};class Fn{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=t)}}var zn,qn,Ln,Wn,Gn,Zn=e=>{throw TypeError(e)},Jn=(e,t,n)=>t.has(e)||Zn("Cannot "+n),Kn=(e,t,n)=>(Jn(e,t,"read from private field"),n?n.call(e):t.get(e)),Hn=(e,t,n)=>t.has(e)?Zn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Yn=(e,t,n,r)=>(Jn(e,t,"write to private field"),t.set(e,n),n);class Xn{constructor(e){Hn(this,Wn),Hn(this,zn,0),Hn(this,qn),Hn(this,Ln),Yn(this,qn,e)}fetch(e,t){const n=Kn(this,qn).fetch??fetch;if(!n)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return n(e,t)}async request(e){Yn(this,zn,Kn(this,zn)+1);const t=await this.fetch(Kn(this,qn).rpc?.url??Kn(this,qn).url,{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":wn,"Client-Target-Api-Version":"1.62.0","Client-Request-Method":e.method,...Kn(this,qn).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:Kn(this,zn),method:e.method,params:e.params})});if(!t.ok)throw new kn(`Unexpected status code: ${t.status}`,t.status,t.statusText);const n=await t.json();if("error"in n&&null!=n.error)throw new On(n.error.message,n.error.code);return n.result}async subscribe(e){const t=await(n=this,r=Wn,i=Gn,Jn(n,r,"access private method"),i).call(this).subscribe(e);var n,r,i;return e.signal&&(e.signal.throwIfAborted(),e.signal.addEventListener("abort",()=>{t()})),async()=>!!(await t())}}function Qn(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}zn=new WeakMap,qn=new WeakMap,Ln=new WeakMap,Wn=new WeakSet,Gn=function(){if(!Kn(this,Ln)){const e=Kn(this,qn).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");Yn(this,Ln,new Vn(Kn(this,qn).websocket?.url??Kn(this,qn).url,{WebSocketConstructor:e,...Kn(this,qn).websocket}))}return Kn(this,Ln)};var er,tr,nr=e=>{throw TypeError(e)},rr=(e,t,n)=>t.has(e)||nr("Cannot "+n),ir=(e,t,n)=>(rr(e,t,"read from private field"),t.get(e)),sr=(e,t,n)=>t.has(e)?nr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ar=(e,t,n,r)=>(rr(e,t,"write to private field"),t.set(e,n),n);er=new WeakMap,tr=new WeakMap;let or=class e{constructor({prefix:e,cache:t}={}){sr(this,er),sr(this,tr),ar(this,er,e??[]),ar(this,tr,t??new Map)}read(e,t){const n=[ir(this,er),...e].join(":");if(ir(this,tr).has(n))return ir(this,tr).get(n);const r=t();return ir(this,tr).set(n,r),"object"==typeof r&&null!==r&&"then"in r?Promise.resolve(r).then(e=>(ir(this,tr).set(n,e),e)).catch(e=>{throw ir(this,tr).delete(n),e}):r}readSync(e,t){const n=[ir(this,er),...e].join(":");if(ir(this,tr).has(n))return ir(this,tr).get(n);const r=t();return ir(this,tr).set(n,r),r}clear(e){const t=[...ir(this,er),...e??[]].join(":");if(t)for(const n of ir(this,tr).keys())n.startsWith(t)&&ir(this,tr).delete(n);else ir(this,tr).clear()}scope(t){return new e({prefix:[...ir(this,er),...Array.isArray(t)?t:[t]],cache:ir(this,tr)})}};class ur{constructor({network:e,base:t,cache:n=t?.cache??new or}){this.network=e,this.base=t??this,this.cache=n}$extend(...e){return Object.create(this,Object.fromEntries(e.map(e=>[e.name,{value:e.register(this)}])))}}function cr(e){return{lang:e?.lang??undefined,message:e?.message,abortEarly:e?.abortEarly??undefined,abortPipeEarly:e?.abortPipeEarly??undefined}}function lr(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function dr(e,t,n,r,i){const s=i&&"input"in i?i.input:n.value,a=i?.expected??e.expects??null,o=i?.received??lr(s),u={kind:e.kind,type:e.type,input:s,expected:a,received:o,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c="schema"===e.kind,l=i?.message??e.message??(e.reference,void u.lang)??(c?void u.lang:null)??r.message??void u.lang;void 0!==l&&(u.message="function"==typeof l?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function hr(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},cr())}}function pr(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function fr(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var mr=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function gr(e,t){return{kind:"validation",type:"check",reference:gr,async:!1,expects:null,requirement:e,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&dr(this,"input",e,t),e}}}function yr(e){return{kind:"validation",type:"integer",reference:yr,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&dr(this,"integer",e,t),e}}}function vr(e){return{kind:"transformation",type:"transform",reference:vr,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function wr(e,t,n){return"function"==typeof e.fallback?e.fallback(t,n):e.fallback}function br(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function Mr(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Or(e,t){return{kind:"schema",type:"array",reference:Or,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return hr(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let r=0;r<n.length;r++){const i=n[r],s=this.item["~run"]({value:i},t);if(s.issues){const a={type:"array",origin:"value",input:n,key:r,value:i};for(const t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else dr(this,"type",e,t);return e}}}function kr(e){return{kind:"schema",type:"bigint",reference:kr,expects:"bigint",async:!1,message:e,get"~standard"(){return hr(this)},"~run"(e,t){return"bigint"==typeof e.value?e.typed=!0:dr(this,"type",e,t),e}}}function Sr(e){return{kind:"schema",type:"boolean",reference:Sr,expects:"boolean",async:!1,message:e,get"~standard"(){return hr(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:dr(this,"type",e,t),e}}}function Er(e){return{kind:"schema",type:"lazy",reference:Er,expects:"unknown",async:!1,getter:e,get"~standard"(){return hr(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function jr(e,t){return{kind:"schema",type:"literal",reference:jr,expects:lr(e),async:!1,literal:e,message:t,get"~standard"(){return hr(this)},"~run"(e,t){return e.value===this.literal?e.typed=!0:dr(this,"type",e,t),e}}}function Ir(e,t){return{kind:"schema",type:"nullable",reference:Ir,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return hr(this)},"~run"(e,t){return null===e.value&&(void 0!==this.default&&(e.value=br(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function Tr(e,t){return{kind:"schema",type:"nullish",reference:Tr,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return hr(this)},"~run"(e,t){return null!==e.value&&void 0!==e.value||(void 0!==this.default&&(e.value=br(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped["~run"](e,t):(e.typed=!0,e)}}}function xr(e){return{kind:"schema",type:"number",reference:xr,expects:"number",async:!1,message:e,get"~standard"(){return hr(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?dr(this,"type",e,t):e.typed=!0,e}}}function Cr(e,t){return{kind:"schema",type:"object",reference:Cr,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return hr(this)},"~run"(e,t){const n=e.value;if(n&&"object"==typeof n){e.typed=!0,e.value={};for(const r in this.entries){const i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){const s=r in n?n[r]:br(i),a=i["~run"]({value:s},t);if(a.issues){const i={type:"object",origin:"value",input:n,key:r,value:s};for(const t of a.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value[r]=a.value}else if(void 0!==i.fallback)e.value[r]=wr(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(dr(this,"key",e,t,{input:void 0,expected:`"${r}"`,path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}}else dr(this,"type",e,t);return e}}}function _r(e,t){return{kind:"schema",type:"optional",reference:_r,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return hr(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=br(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function Nr(e,t,n){return{kind:"schema",type:"record",reference:Nr,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return hr(this)},"~run"(e,t){const n=e.value;if(n&&"object"==typeof n){e.typed=!0,e.value={};for(const r in n)if(pr(n,r)){const i=n[r],s=this.key["~run"]({value:r},t);if(s.issues){const a={type:"object",origin:"key",input:n,key:r,value:i};for(const t of s.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const a=this.value["~run"]({value:i},t);if(a.issues){const s={type:"object",origin:"value",input:n,key:r,value:i};for(const t of a.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}s.typed&&a.typed||(e.typed=!1),s.typed&&(e.value[s.value]=a.value)}}else dr(this,"type",e,t);return e}}}function Ar(e){return{kind:"schema",type:"string",reference:Ar,expects:"string",async:!1,message:e,get"~standard"(){return hr(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:dr(this,"type",e,t),e}}}function $r(e,t){return{kind:"schema",type:"tuple",reference:$r,expects:"Array",async:!1,items:e,message:t,get"~standard"(){return hr(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let r=0;r<this.items.length;r++){const i=n[r],s=this.items[r]["~run"]({value:i},t);if(s.issues){const a={type:"array",origin:"value",input:n,key:r,value:i};for(const t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else dr(this,"type",e,t);return e}}}function Dr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Pr(e,t){return{kind:"schema",type:"union",reference:Pr,expects:fr(e.map(e=>e.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return hr(this)},"~run"(e,t){let n,r,i;for(const s of this.options){const a=s["~run"]({value:e.value},t);if(a.typed){if(!a.issues){n=a;break}r?r.push(a):r=[a]}else i?i.push(a):i=[a]}if(n)return n;if(r){if(1===r.length)return r[0];dr(this,"type",e,t,{issues:Dr(r)}),e.typed=!0}else{if(1===i?.length)return i[0];dr(this,"type",e,t,{issues:Dr(i)})}return e}}}function Br(){return{kind:"schema",type:"unknown",reference:Br,expects:"unknown",async:!1,get"~standard"(){return hr(this)},"~run":e=>(e.typed=!0,e)}}function Rr(e,t,n){const r=e["~run"]({value:t},cr(n));if(r.issues)throw new mr(r.issues);return r.value}function Ur(...e){return{...e[0],pipe:e,get"~standard"(){return hr(this)},"~run"(t,n){for(const r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}function Vr(e){return Ur(Pr(Object.entries(e).map(([e,t])=>Cr({[e]:t}))),vr(e=>({...e,$kind:Object.keys(e)[0]})))}const Fr=Ur(Ar(),vr(e=>Be(e)),gr(Ae)),zr=Fr,qr=Ar(),Lr=Ur(Pr([Ar(),Ur(xr(),yr())]),gr(e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Wr=Cr({objectId:Fr,version:Lr,digest:Ar()}),Gr=Ur(Pr([Cr({GasCoin:jr(!0)}),Cr({Input:Ur(xr(),yr()),type:_r(jr("pure"))}),Cr({Input:Ur(xr(),yr()),type:_r(jr("object"))}),Cr({Result:Ur(xr(),yr())}),Cr({NestedResult:$r([Ur(xr(),yr()),Ur(xr(),yr())])})]),vr(e=>({...e,$kind:Object.keys(e)[0]}))),Zr=Cr({budget:Ir(Lr),price:Ir(Lr),owner:Ir(Fr),payment:Ir(Or(Wr))}),Jr=Pr([jr("address"),jr("bool"),jr("u8"),jr("u16"),jr("u32"),jr("u64"),jr("u128"),jr("u256"),Cr({vector:Er(()=>Jr)}),Cr({datatype:Cr({package:Ar(),module:Ar(),type:Ar(),typeParameters:Or(Er(()=>Jr))})}),Cr({typeParameter:Ur(xr(),yr())})]),Kr=Cr({ref:Ir(Pr([jr("&"),jr("&mut")])),body:Jr}),Hr=Cr({package:zr,module:Ar(),function:Ar(),typeArguments:Or(Ar()),arguments:Or(Gr),_argumentTypes:_r(Ir(Or(Kr)))}),Yr=Cr({name:Ar(),inputs:Nr(Ar(),Pr([Gr,Or(Gr)])),data:Nr(Ar(),Br())}),Xr=Vr({MoveCall:Hr,TransferObjects:Cr({objects:Or(Gr),address:Gr}),SplitCoins:Cr({coin:Gr,amounts:Or(Gr)}),MergeCoins:Cr({destination:Gr,sources:Or(Gr)}),Publish:Cr({modules:Or(qr),dependencies:Or(zr)}),MakeMoveVec:Cr({type:Ir(Ar()),elements:Or(Gr)}),Upgrade:Cr({modules:Or(qr),dependencies:Or(zr),package:zr,ticket:Gr}),$Intent:Yr}),Qr=Vr({ImmOrOwnedObject:Wr,SharedObject:Cr({objectId:zr,initialSharedVersion:Lr,mutable:Sr()}),Receiving:Wr}),ei=Vr({Object:Qr,Pure:Cr({bytes:qr}),UnresolvedPure:Cr({value:Br()}),UnresolvedObject:Cr({objectId:zr,version:_r(Ir(Lr)),digest:_r(Ir(Ar())),initialSharedVersion:_r(Ir(Lr)),mutable:_r(Ir(Sr()))})}),ti=Vr({Object:Qr,Pure:Cr({bytes:qr})}),ni=Vr({None:jr(!0),Epoch:Lr}),ri=Cr({version:jr(2),sender:Tr(Fr),expiration:Tr(ni),gasData:Zr,inputs:Or(ei),commands:Or(Xr)}),ii={MoveCall(e){const[t,n="",r=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:n,function:r,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects:(e,t)=>({$kind:"TransferObjects",TransferObjects:{objects:e.map(e=>Rr(Gr,e)),address:Rr(Gr,t)}}),SplitCoins:(e,t)=>({$kind:"SplitCoins",SplitCoins:{coin:Rr(Gr,e),amounts:t.map(e=>Rr(Gr,e))}}),MergeCoins:(e,t)=>({$kind:"MergeCoins",MergeCoins:{destination:Rr(Gr,e),sources:t.map(e=>Rr(Gr,e))}}),Publish:({modules:e,dependencies:t})=>({$kind:"Publish",Publish:{modules:e.map(e=>"string"==typeof e?e:W(new Uint8Array(e))),dependencies:t.map(e=>Re(e))}}),Upgrade:({modules:e,dependencies:t,package:n,ticket:r})=>({$kind:"Upgrade",Upgrade:{modules:e.map(e=>"string"==typeof e?e:W(new Uint8Array(e))),dependencies:t.map(e=>Re(e)),package:n,ticket:Rr(Gr,r)}}),MakeMoveVec:({type:e,elements:t})=>({$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map(e=>Rr(Gr,e))}}),Intent:({name:e,inputs:t={},data:n={}})=>({$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map(([e,t])=>[e,Array.isArray(t)?t.map(e=>Rr(Gr,e)):Rr(Gr,t)])),data:n}})},si=Cr({digest:Ar(),objectId:Ar(),version:Pr([Ur(xr(),yr()),Ar(),kr()])}),ai=Vr({ImmOrOwned:si,Shared:Cr({objectId:zr,initialSharedVersion:Lr,mutable:Sr()}),Receiving:si}),oi=Vr({Object:ai,Pure:Or(Ur(xr(),yr()))});function ui(e){const t=e.inputs.map((e,t)=>{if(e.Object)return{kind:"Input",index:t,value:{Object:e.Object.ImmOrOwnedObject?{ImmOrOwned:e.Object.ImmOrOwnedObject}:e.Object.Receiving?{Receiving:{digest:e.Object.Receiving.digest,version:e.Object.Receiving.version,objectId:e.Object.Receiving.objectId}}:{Shared:{mutable:e.Object.SharedObject.mutable,initialSharedVersion:e.Object.SharedObject.initialSharedVersion,objectId:e.Object.SharedObject.objectId}}},type:"object"};if(e.Pure)return{kind:"Input",index:t,value:{Pure:Array.from(q(e.Pure.bytes))},type:"pure"};if(e.UnresolvedPure)return{kind:"Input",type:"pure",index:t,value:e.UnresolvedPure.value};if(e.UnresolvedObject)return{kind:"Input",type:"object",index:t,value:e.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:e.sender??void 0,expiration:"Epoch"===e.expiration?.$kind?{Epoch:Number(e.expiration.Epoch)}:e.expiration?{None:!0}:null,gasConfig:{owner:e.gasData.owner??void 0,budget:e.gasData.budget??void 0,price:e.gasData.price??void 0,payment:e.gasData.payment??void 0},inputs:t,transactions:e.commands.map(e=>{if(e.MakeMoveVec)return{kind:"MakeMoveVec",type:null===e.MakeMoveVec.type?{None:!0}:{Some:gt.parseFromStr(e.MakeMoveVec.type)},objects:e.MakeMoveVec.elements.map(e=>ci(e,t))};if(e.MergeCoins)return{kind:"MergeCoins",destination:ci(e.MergeCoins.destination,t),sources:e.MergeCoins.sources.map(e=>ci(e,t))};if(e.MoveCall)return{kind:"MoveCall",target:`${e.MoveCall.package}::${e.MoveCall.module}::${e.MoveCall.function}`,typeArguments:e.MoveCall.typeArguments,arguments:e.MoveCall.arguments.map(e=>ci(e,t))};if(e.Publish)return{kind:"Publish",modules:e.Publish.modules.map(e=>Array.from(q(e))),dependencies:e.Publish.dependencies};if(e.SplitCoins)return{kind:"SplitCoins",coin:ci(e.SplitCoins.coin,t),amounts:e.SplitCoins.amounts.map(e=>ci(e,t))};if(e.TransferObjects)return{kind:"TransferObjects",objects:e.TransferObjects.objects.map(e=>ci(e,t)),address:ci(e.TransferObjects.address,t)};if(e.Upgrade)return{kind:"Upgrade",modules:e.Upgrade.modules.map(e=>Array.from(q(e))),dependencies:e.Upgrade.dependencies,packageId:e.Upgrade.package,ticket:ci(e.Upgrade.ticket,t)};throw new Error(`Unknown transaction ${Object.keys(e)}`)})}}function ci(e,t){if("GasCoin"===e.$kind)return{kind:"GasCoin"};if("Result"===e.$kind)return{kind:"Result",index:e.Result};if("NestedResult"===e.$kind)return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if("Input"===e.$kind)return t[e.Input];throw new Error(`Invalid argument ${Object.keys(e)}`)}function li(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}function di(e){return Pr(Object.entries(e).map(([e,t])=>Cr({[e]:t})))}const hi=di({GasCoin:jr(!0),Input:Ur(xr(),yr()),Result:Ur(xr(),yr()),NestedResult:$r([Ur(xr(),yr()),Ur(xr(),yr())])}),pi=Cr({budget:Ir(Lr),price:Ir(Lr),owner:Ir(Fr),payment:Ir(Or(Wr))}),fi=Cr({package:zr,module:Ar(),function:Ar(),typeArguments:Or(Ar()),arguments:Or(hi)}),mi=Cr({name:Ar(),inputs:Nr(Ar(),Pr([hi,Or(hi)])),data:Nr(Ar(),Br())}),gi=di({MoveCall:fi,TransferObjects:Cr({objects:Or(hi),address:hi}),SplitCoins:Cr({coin:hi,amounts:Or(hi)}),MergeCoins:Cr({destination:hi,sources:Or(hi)}),Publish:Cr({modules:Or(qr),dependencies:Or(zr)}),MakeMoveVec:Cr({type:Ir(Ar()),elements:Or(hi)}),Upgrade:Cr({modules:Or(qr),dependencies:Or(zr),package:zr,ticket:hi}),$Intent:mi}),yi=di({ImmOrOwnedObject:Wr,SharedObject:Cr({objectId:zr,initialSharedVersion:Lr,mutable:Sr()}),Receiving:Wr}),vi=di({Object:yi,Pure:Cr({bytes:qr}),UnresolvedPure:Cr({value:Br()}),UnresolvedObject:Cr({objectId:zr,version:_r(Ir(Lr)),digest:_r(Ir(Ar())),initialSharedVersion:_r(Ir(Lr)),mutable:_r(Ir(Sr()))})}),wi=di({None:jr(!0),Epoch:Lr}),bi=Cr({version:jr(2),sender:Tr(Fr),expiration:Tr(wi),gasData:pi,inputs:Or(vi),commands:Or(gi),digest:_r(Ir(Ar()))});const Mi={Pure:function(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?W(e):e.toBase64()}}},ObjectRef:({objectId:e,digest:t,version:n})=>({$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:n,objectId:Be(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:n})=>({$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:n,objectId:Be(e)}}}),ReceivingRef:({objectId:e,digest:t,version:n})=>({$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:n,objectId:Be(e)}}})};function Oi(e){if("string"==typeof e)switch(e){case"address":return yn.Address;case"bool":return yn.Bool;case"u8":return yn.U8;case"u16":return yn.U16;case"u32":return yn.U32;case"u64":return yn.U64;case"u128":return yn.U128;case"u256":return yn.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e){if("u8"===e.vector)return yn.byteVector().transform({input:e=>"string"==typeof e?(new TextEncoder).encode(e):e,output:e=>e});const t=Oi(e.vector);return t?yn.vector(t):null}if("datatype"in e){const t=Be(e.datatype.package);if(t===Be("0x1")){if("ascii"===e.datatype.module&&"String"===e.datatype.type)return yn.String;if("string"===e.datatype.module&&"String"===e.datatype.type)return yn.String;if("option"===e.datatype.module&&"Option"===e.datatype.type){const t=Oi(e.datatype.typeParameters[0]);return t?yn.vector(t):null}}if(t===Be("0x2")&&"object"===e.datatype.module&&"ID"===e.datatype.type)return yn.Address}return null}function ki(e){if("string"==typeof e)switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:ki(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(ki)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(e)}`)}const Si=5e10;function Ei(e){return async function(t,n,r){return await async function(e,t){const{inputs:n,commands:r}=e,i=[],s=new Set;r.forEach(t=>{if(t.MoveCall){if(t.MoveCall._argumentTypes)return;if(t.MoveCall.arguments.map(t=>"Input"===t.$kind?e.inputs[t.Input]:null).some(e=>e?.UnresolvedPure||e?.UnresolvedObject&&"boolean"!=typeof e?.UnresolvedObject.mutable)){const e=`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`;s.add(e),i.push(t.MoveCall)}}});const a=new Map;s.size>0&&await Promise.all([...s].map(async e=>{const[n,r,i]=e.split("::"),s=await t.getNormalizedMoveFunction({package:n,module:r,function:i});a.set(e,s.parameters.map(e=>function(e){return"object"==typeof e&&"Reference"in e?{ref:"&",body:ki(e.Reference)}:"object"==typeof e&&"MutableReference"in e?{ref:"&mut",body:ki(e.MutableReference)}:{ref:null,body:ki(e)}}(e)))}));i.length&&await Promise.all(i.map(async e=>{const t=a.get(`${e.package}::${e.module}::${e.function}`);if(!t)return;const n=t.length>0&&function(e){const t="object"==typeof e.body&&"datatype"in e.body?e.body.datatype:null;return!!t&&Be(t.package)===Be("0x2")&&"tx_context"===t.module&&"TxContext"===t.type}(t.at(-1))?t.slice(0,t.length-1):t;e._argumentTypes=n}));r.forEach(e=>{if(!e.MoveCall)return;const t=e.MoveCall,r=`${t.package}::${t.module}::${t.function}`,i=t._argumentTypes;if(i){if(i.length!==e.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${r}`);i.forEach((e,r)=>{const i=t.arguments[r];if("Input"!==i.$kind)return;const s=n[i.Input];if(!s.UnresolvedPure&&!s.UnresolvedObject)return;const a=s.UnresolvedPure?.value??s.UnresolvedObject?.objectId,o=Oi(e.body);if(o)return i.type="pure",void(n[n.indexOf(s)]=Mi.Pure(o.serialize(a)));if("string"!=typeof a)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);i.type="object";const u=s.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:a}}:s;n[i.Input]=u})}})}(t,e),await async function(e,t){const n=e.inputs.filter(e=>e.UnresolvedObject&&!(e.UnresolvedObject.version||e.UnresolvedObject?.initialSharedVersion)),r=[...new Set(n.map(e=>Re(e.UnresolvedObject.objectId)))],i=r.length?J(r,50):[],s=(await Promise.all(i.map(e=>t.multiGetObjects({ids:e,options:{showOwner:!0}})))).flat(),a=new Map(r.map((e,t)=>[e,s[t]])),o=Array.from(a).filter(([e,t])=>t.error).map(([e,t])=>JSON.stringify(t.error));if(o.length)throw new Error(`The following input objects are invalid: ${o.join(", ")}`);const u=s.map(e=>{if(e.error||!e.data)throw new Error(`Failed to fetch object: ${e.error}`);const t=e.data.owner,n=t&&"object"==typeof t?"Shared"in t?t.Shared.initial_shared_version:"ConsensusAddressOwner"in t?t.ConsensusAddressOwner.start_version:null:null;return{objectId:e.data.objectId,digest:e.data.digest,version:e.data.version,initialSharedVersion:n}}),c=new Map(r.map((e,t)=>[e,u[t]]));for(const[l,d]of e.inputs.entries()){if(!d.UnresolvedObject)continue;let t;const n=Be(d.UnresolvedObject.objectId),r=c.get(n);d.UnresolvedObject.initialSharedVersion??r?.initialSharedVersion?t=Mi.SharedObjectRef({objectId:n,initialSharedVersion:d.UnresolvedObject.initialSharedVersion||r?.initialSharedVersion,mutable:d.UnresolvedObject.mutable||ji(e,l)}):Ii(e,l)&&(t=Mi.ReceivingRef({objectId:n,digest:d.UnresolvedObject.digest??r?.digest,version:d.UnresolvedObject.version??r?.version})),e.inputs[e.inputs.indexOf(d)]=t??Mi.ObjectRef({objectId:n,digest:d.UnresolvedObject.digest??r?.digest,version:d.UnresolvedObject.version??r?.version})}}(t,e),n.onlyTransactionKind||(await async function(e,t){e.gasConfig.price||(e.gasConfig.price=String(await t.getReferenceGasPrice()))}(t,e),await async function(e,t){if(e.gasConfig.budget)return;const n=await t.dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(Si),payment:[]}}})});if("success"!==n.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${n.effects.status.error}`,{cause:n});const r=1000n*BigInt(e.gasConfig.price||1n),i=BigInt(n.effects.gasUsed.computationCost)+r,s=i+BigInt(n.effects.gasUsed.storageCost)-BigInt(n.effects.gasUsed.storageRebate);e.gasConfig.budget=String(s>i?s:i)}(t,e),await async function(e,t){if(!e.gasConfig.payment){const n=(await t.getCoins({owner:e.gasConfig.owner||e.sender,coinType:Ue})).data.filter(t=>!e.inputs.find(e=>!!e.Object?.ImmOrOwnedObject&&t.coinObjectId===e.Object.ImmOrOwnedObject.objectId)).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");e.gasConfig.payment=n.map(e=>Rr(Wr,e))}}(t,e)),await r()}}function ji(e,t){let n=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const r=t.MoveCall.arguments.indexOf(e);n="&"!==t.MoveCall._argumentTypes[r].ref||n}"MakeMoveVec"!==t.$kind&&"MergeCoins"!==t.$kind&&"SplitCoins"!==t.$kind&&"TransferObjects"!==t.$kind||(n=!0)}),n}function Ii(e,t){let n=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const r=t.MoveCall.arguments.indexOf(e);n=function(e){if("object"!=typeof e.body||!("datatype"in e.body))return!1;return"0x2"===e.body.datatype.package&&"transfer"===e.body.datatype.module&&"Receiving"===e.body.datatype.type}(t.MoveCall._argumentTypes[r])||n}}),n}function Ti(e,t){return!!e.inputs.some(e=>e.UnresolvedObject||e.UnresolvedPure)||!(t.onlyTransactionKind||e.gasConfig.price&&e.gasConfig.budget&&e.gasConfig.payment)}async function xi(e,t,n){if(function(e){for(const t of e.commands)switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(t=>{Ni(t,yn.U64,e)});break;case"TransferObjects":Ni(t.TransferObjects.address,yn.Address,e)}}(e),!Ti(e,t))return await Ci(e),n();const r=_i(t);return(r.core?.resolveTransactionPlugin()??Ei(r))(e,t,async()=>{await Ci(e),await n()})}function Ci(e){e.inputs.forEach((e,t)=>{if("Object"!==e.$kind&&"Pure"!==e.$kind)throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function _i(e){if(!e.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}function Ni(e,t,n){if("Input"!==e.$kind)return;const r=n.inputs[e.Input];"UnresolvedPure"===r.$kind&&(n.inputs[e.Input]=Mi.Pure(t.serialize(r.UnresolvedPure.value)))}function Ai(e){function t(t,n){if("string"==typeof t)return e(gn(t).serialize(n));if(t instanceof Uint8Array||ye(t))return e(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=t=>e(yn.U8.serialize(t)),t.u16=t=>e(yn.U16.serialize(t)),t.u32=t=>e(yn.U32.serialize(t)),t.u64=t=>e(yn.U64.serialize(t)),t.u128=t=>e(yn.U128.serialize(t)),t.u256=t=>e(yn.U256.serialize(t)),t.bool=t=>e(yn.Bool.serialize(t)),t.string=t=>e(yn.String.serialize(t)),t.address=t=>e(yn.Address.serialize(t)),t.id=t.address,t.vector=(t,n)=>e(yn.vector(gn(t)).serialize(n)),t.option=(t,n)=>e(yn.option(gn(t)).serialize(n)),t}function $i(e){return"string"==typeof e?Be(e):e.Object?e.Object.ImmOrOwnedObject?Be(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?Be(e.Object.Receiving.objectId):Be(e.Object.SharedObject.objectId):e.UnresolvedObject?Be(e.UnresolvedObject.objectId):void 0}function Di(e,t,n){const r=e=>{switch(e.$kind){case"Input":{const n=t.get(e.Input);if(void 0===n)throw new Error(`Input ${e.Input} not found in input mapping`);return{...e,Input:n}}case"Result":{const t=n.get(e.Result);return void 0!==t?{...e,Result:t}:e}case"NestedResult":{const t=n.get(e.NestedResult[0]);return void 0!==t?{...e,NestedResult:[t,e.NestedResult[1]]}:e}default:return e}};switch(e.$kind){case"MoveCall":e.MoveCall.arguments=e.MoveCall.arguments.map(r);break;case"TransferObjects":e.TransferObjects.objects=e.TransferObjects.objects.map(r),e.TransferObjects.address=r(e.TransferObjects.address);break;case"SplitCoins":e.SplitCoins.coin=r(e.SplitCoins.coin),e.SplitCoins.amounts=e.SplitCoins.amounts.map(r);break;case"MergeCoins":e.MergeCoins.destination=r(e.MergeCoins.destination),e.MergeCoins.sources=e.MergeCoins.sources.map(r);break;case"MakeMoveVec":e.MakeMoveVec.elements=e.MakeMoveVec.elements.map(r);break;case"Upgrade":e.Upgrade.ticket=r(e.Upgrade.ticket);break;case"$Intent":{const t=e.$Intent.inputs;e.$Intent.inputs={};for(const[n,i]of Object.entries(t))e.$Intent.inputs[n]=Array.isArray(i)?i.map(r):r(i);break}}}function Pi(e){return Be(e).replace("0x","")}class Bi{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const t=yn.TransactionKind.parse(e).ProgrammableTransaction;if(!t)throw new Error("Unable to deserialize from bytes.");return Bi.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:t.inputs,commands:t.commands})}static fromBytes(e){const t=yn.TransactionData.parse(e),n=t?.V1,r=n.kind.ProgrammableTransaction;if(!n||!r)throw new Error("Unable to deserialize from bytes.");return Bi.restore({version:2,sender:n.sender,expiration:n.expiration,gasData:n.gasData,inputs:r.inputs,commands:r.commands})}static restore(e){return 2===e.version?new Bi(Rr(ri,e)):new Bi(Rr(ri,function(e){return Rr(ri,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:e.gasConfig.budget?.toString()??null,price:e.gasConfig.price?.toString()??null,payment:e.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:e.inputs.map(e=>{if("Input"===e.kind){if(Mr(oi,e.value)){const t=Rr(oi,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:W(new Uint8Array(t.Pure))}}}return"object"===e.type?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:e.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?gt.tagToString(e.type.Some):null,elements:e.objects.map(e=>li(e))}};case"MergeCoins":return{MergeCoins:{destination:li(e.destination),sources:e.sources.map(e=>li(e))}};case"MoveCall":{const[t,n,r]=e.target.split("::");return{MoveCall:{package:t,module:n,function:r,typeArguments:e.typeArguments,arguments:e.arguments.map(e=>li(e))}}}case"Publish":return{Publish:{modules:e.modules.map(e=>W(Uint8Array.from(e))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:li(e.coin),amounts:e.amounts.map(e=>li(e))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(e=>li(e)),address:li(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(e=>W(Uint8Array.from(e))),dependencies:e.dependencies,package:e.packageId,ticket:li(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}(e)))}static getDigestFromBytes(e){const t=function(e,t){const n=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);return r.set(n),r.set(t,n.length),pt(r,{dkLen:32})}("TransactionData",e);return F(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:n}={}){const r=this.inputs,i=this.commands,s={ProgrammableTransaction:{inputs:r,commands:i}};if(n)return yn.TransactionKind.serialize(s,{maxSize:e}).toBytes();const a=t?.expiration??this.expiration,o=t?.sender??this.sender,u={...this.gasData,...t?.gasConfig,...t?.gasData};if(!o)throw new Error("Missing transaction sender");if(!u.budget)throw new Error("Missing gas budget");if(!u.payment)throw new Error("Missing gas payment");if(!u.price)throw new Error("Missing gas price");const c={sender:Pi(o),expiration:a||{None:!0},gasData:{payment:u.payment,owner:Pi(this.gasData.owner??o),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:r,commands:i}}};return yn.TransactionData.serialize({V1:c},{maxSize:e}).toBytes()}addInput(e,t){const n=this.inputs.length;return this.inputs.push(t),{Input:n,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((n,r)=>("Input"===n.$kind&&n.Input===e&&t(n,r),n))}mapCommandArguments(e,t){const n=this.commands[e];switch(n.$kind){case"MoveCall":n.MoveCall.arguments=n.MoveCall.arguments.map(r=>t(r,n,e));break;case"TransferObjects":n.TransferObjects.objects=n.TransferObjects.objects.map(r=>t(r,n,e)),n.TransferObjects.address=t(n.TransferObjects.address,n,e);break;case"SplitCoins":n.SplitCoins.coin=t(n.SplitCoins.coin,n,e),n.SplitCoins.amounts=n.SplitCoins.amounts.map(r=>t(r,n,e));break;case"MergeCoins":n.MergeCoins.destination=t(n.MergeCoins.destination,n,e),n.MergeCoins.sources=n.MergeCoins.sources.map(r=>t(r,n,e));break;case"MakeMoveVec":n.MakeMoveVec.elements=n.MakeMoveVec.elements.map(r=>t(r,n,e));break;case"Upgrade":n.Upgrade.ticket=t(n.Upgrade.ticket,n,e);break;case"$Intent":const r=n.$Intent.inputs;n.$Intent.inputs={};for(const[i,s]of Object.entries(r))n.$Intent.inputs[i]=Array.isArray(s)?s.map(r=>t(r,n,e)):t(s,n,e);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${n.$kind}`)}}mapArguments(e){for(const t of this.commands.keys())this.mapCommandArguments(t,e)}replaceCommand(e,t,n=e){if(!Array.isArray(t))return void(this.commands[e]=t);const r=t.length-1;this.commands.splice(e,1,...structuredClone(t)),this.mapArguments((i,s,a)=>{if(a<e+t.length)return i;if("number"!=typeof n&&("Result"===i.$kind&&i.Result===e||"NestedResult"===i.$kind&&i.NestedResult[0]===e)){if("NestedResult"in i&&0!==i.NestedResult[1])throw new Error(`Cannot replace command ${e} with a specific result type: NestedResult[${e}, ${i.NestedResult[1]}] references a nested element that cannot be mapped to the replacement result`);return Rr(Gr,structuredClone(n))}switch(i.$kind){case"Result":i.Result===e&&"number"==typeof n&&(i.Result=n),i.Result>e&&(i.Result+=r);break;case"NestedResult":if(i.NestedResult[0]===e&&"number"==typeof n)return{$kind:"NestedResult",NestedResult:[n,i.NestedResult[1]]};i.NestedResult[0]>e&&(i.NestedResult[0]+=r)}return i})}replaceCommandWithTransaction(e,t,n){if("Result"!==n.$kind&&"NestedResult"!==n.$kind)throw new Error("Result must be of kind Result or NestedResult");this.insertTransaction(e,t),this.replaceCommand(e+t.commands.length,[],"Result"in n?{NestedResult:[n.Result+e,0]}:{NestedResult:[n.NestedResult[0]+e,n.NestedResult[1]]})}insertTransaction(e,t){const n=new Map,r=new Map;for(let a=0;a<t.inputs.length;a++){const e=t.inputs[a],r=$i(e);let i=-1;if(void 0!==r&&(i=this.inputs.findIndex(e=>$i(e)===r),-1!==i&&this.inputs[i].Object?.SharedObject&&e.Object?.SharedObject&&(this.inputs[i].Object.SharedObject.mutable=this.inputs[i].Object.SharedObject.mutable||e.Object.SharedObject.mutable)),-1!==i)n.set(a,i);else{const t=this.inputs.length;this.inputs.push(e),n.set(a,t)}}for(let a=0;a<t.commands.length;a++)r.set(a,e+a);const i=[];for(let a=0;a<t.commands.length;a++){const e=structuredClone(t.commands[a]);Di(e,n,r),i.push(e)}this.commands.splice(e,0,...i);const s=i.length;s>0&&this.mapArguments((t,n,r)=>{if(r>=e&&r<e+i.length)return t;switch(t.$kind){case"Result":t.Result>=e&&(t.Result+=s);break;case"NestedResult":t.NestedResult[0]>=e&&(t.NestedResult[0]+=s)}return t})}getDigest(){const e=this.build({onlyTransactionKind:!1});return Bi.getDigestFromBytes(e)}snapshot(){return Rr(ri,this)}shallowClone(){return new Bi({version:this.version,sender:this.sender,expiration:this.expiration,gasData:{...this.gasData},inputs:[...this.inputs],commands:[...this.commands]})}applyResolvedData(e){this.sender||(this.sender=e.sender??null),this.expiration||(this.expiration=e.expiration??null),this.gasData.budget||(this.gasData.budget=e.gasData.budget),this.gasData.owner||(this.gasData.owner=e.gasData.owner??null),this.gasData.payment||(this.gasData.payment=e.gasData.payment),this.gasData.price||(this.gasData.price=e.gasData.price);for(let t=0;t<this.inputs.length;t++){const n=this.inputs[t],r=e.inputs[t];switch(n.$kind){case"UnresolvedPure":if("Pure"!==r.$kind)throw new Error(`Expected input at index ${t} to resolve to a Pure argument, but got ${JSON.stringify(r)}`);this.inputs[t]=r;break;case"UnresolvedObject":if("Object"!==r.$kind)throw new Error(`Expected input at index ${t} to resolve to an Object argument, but got ${JSON.stringify(r)}`);if("ImmOrOwnedObject"===r.Object.$kind||"Receiving"===r.Object.$kind){const e=n.UnresolvedObject,i=r.Object.ImmOrOwnedObject??r.Object.Receiving;if(Be(e.objectId)!==Be(i.objectId)||null!=e.version&&e.version!==i.version||null!=e.digest&&e.digest!==i.digest||null!=e.mutable||null!=e.initialSharedVersion)throw new Error(`Input at index ${t} did not match unresolved object. ${JSON.stringify(e)} is not compatible with ${JSON.stringify(i)}`)}else{if("SharedObject"!==r.Object.$kind)throw new Error(`Input at index ${t} resolved to an unexpected Object kind: ${JSON.stringify(r.Object)}`);{const e=n.UnresolvedObject,i=r.Object.SharedObject;if(Be(e.objectId)!==Be(i.objectId)||null!=e.initialSharedVersion&&e.initialSharedVersion!==i.initialSharedVersion||null!=e.mutable&&e.mutable!==i.mutable||null!=e.version||null!=e.digest)throw new Error(`Input at index ${t} did not match unresolved object. ${JSON.stringify(e)} is not compatible with ${JSON.stringify(i)}`)}}this.inputs[t]=r}}}}var Ri,Ui,Vi,Fi,zi,qi,Li,Wi,Gi,Zi,Ji=e=>{throw TypeError(e)},Ki=(e,t,n)=>t.has(e)||Ji("Cannot "+n),Hi=(e,t,n)=>(Ki(e,t,"read from private field"),n?n.call(e):t.get(e)),Yi=(e,t,n)=>t.has(e)?Ji("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xi=(e,t,n,r)=>(Ki(e,t,"write to private field"),t.set(e,n),n),Qi=(e,t,n)=>(Ki(e,t,"access private method"),n);const es={"Mvr-Source":`@mysten/sui@${wn}`};class ts{constructor({cache:e,url:t,pageSize:n=50,overrides:r}){Yi(this,zi),Yi(this,Ri),Yi(this,Ui),Yi(this,Vi),Yi(this,Fi),Xi(this,Ri,e),Xi(this,Ui,t),Xi(this,Vi,n),Xi(this,Fi,{packages:r?.packages,types:r?.types}),function(e){if(e?.packages)for(const[t,n]of Object.entries(e.packages)){if(!Ce(t))throw new Error(`Invalid package name: ${t}`);if(!Ae(Be(n)))throw new Error(`Invalid package ID: ${n}`)}if(e?.types)for(const[t,n]of Object.entries(e.types)){if(De(t).typeParams.length>0)throw new Error("Type overrides must be first-level only. If you want to supply generic types, just pass each type individually.");if(!Ae(De(n).address))throw new Error(`Invalid type: ${n}`)}}(Hi(this,Fi))}async resolvePackage({package:e}){if(!is(e))return{package:e};return{package:await Hi(this,zi,qi).load(e)}}async resolveType({type:e}){if(!is(e))return{type:e};const t=[...ns(e)],n=await Hi(this,zi,Li).loadMany(t),r={};for(let i=0;i<t.length;i++){const e=n[i];if(e instanceof Error)throw e;r[t[i]]=e}return{type:rs(e,r)}}async resolve({types:e=[],packages:t=[]}){const n=new Set;for(const c of e??[])ns(c,n);const r=[...n],[i,s]=await Promise.all([r.length>0?Hi(this,zi,Li).loadMany(r):[],t.length>0?Hi(this,zi,qi).loadMany(t):[]]),a={...Hi(this,Fi)?.types};for(const[c,l]of r.entries()){const e=i[c];if(e instanceof Error)throw e;a[l]=e}const o={};for(const c of e??[]){const e=rs(c,a);o[c]={type:e}}const u={};for(const[c,l]of(t??[]).entries()){const e=Hi(this,Fi)?.packages?.[l]??s[c];if(e instanceof Error)throw e;u[l]={package:e}}return{types:o,packages:u}}}function ns(e,t=new Set){if("string"==typeof e&&!is(e))return t;const n=ss(e)?e:De(e);is(n.address)&&t.add(`${n.address}::${n.module}::${n.name}`);for(const r of n.typeParams)ns(r,t);return t}function rs(e,t){const n=ss(e)?e:De(e),r=`${n.address}::${n.module}::${n.name}`,i=t[r];return Pe({...n,address:i?i.split("::")[0]:n.address,typeParams:n.typeParams.map(e=>rs(e,t))})}function is(e){return e.includes("/")||e.includes("@")||e.includes(".sui")}function ss(e){return"object"==typeof e&&"address"in e&&"module"in e&&"name"in e&&"typeParams"in e}function as(e){const t=new Set;for(const n of e)if(is(n)){if(!_e(n))throw new Error(`Invalid type with names: ${n}`);t.add(n)}return t}Ri=new WeakMap,Ui=new WeakMap,Vi=new WeakMap,Fi=new WeakMap,zi=new WeakSet,qi=function(){return Hi(this,Ri).readSync(["#mvrPackageDataLoader",Hi(this,Ui)??""],()=>{const e=new K(async e=>{if(!Hi(this,Ui))throw new Error(`MVR Api URL is not set for the current client (resolving ${e.join(", ")})`);const t=await Qi(this,zi,Wi).call(this,e);return e.map(e=>t[e]??new Error(`Failed to resolve package: ${e}`))}),t=Hi(this,Fi)?.packages;if(t)for(const[n,r]of Object.entries(t))e.prime(n,r);return e})},Li=function(){return Hi(this,Ri).readSync(["#mvrTypeDataLoader",Hi(this,Ui)??""],()=>{const e=new K(async e=>{if(!Hi(this,Ui))throw new Error(`MVR Api URL is not set for the current client (resolving ${e.join(", ")})`);const t=await Qi(this,zi,Gi).call(this,e);return e.map(e=>t[e]??new Error(`Failed to resolve type: ${e}`))}),t=Hi(this,Fi)?.types;if(t)for(const[n,r]of Object.entries(t))e.prime(n,r);return e})},Wi=async function(e){if(0===e.length)return{};const t=J(e,Hi(this,Vi)),n={};return await Promise.all(t.map(async e=>{const t=await Qi(this,zi,Zi).call(this,"/v1/resolution/bulk",{names:e});if(t?.resolution)for(const r of Object.keys(t?.resolution)){const e=t.resolution[r]?.package_id;e&&(n[r]=e)}})),n},Gi=async function(e){if(0===e.length)return{};const t=J(e,Hi(this,Vi)),n={};return await Promise.all(t.map(async e=>{const t=await Qi(this,zi,Zi).call(this,"/v1/struct-definition/bulk",{types:e});if(t?.resolution)for(const r of Object.keys(t?.resolution)){const e=t.resolution[r]?.type_tag;e&&(n[r]=e)}})),n},Zi=async function(e,t){if(!Hi(this,Ui))throw new Error("MVR Api URL is not set for the current client");const n=await fetch(`${Hi(this,Ui)}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...es},body:JSON.stringify(t)});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(`Failed to resolve types: ${e?.message}`)}return n.json()};const os=e=>async(e,t,n)=>{const r=function(e){const t=new Set,n=new Set;for(const r of e.commands)switch(r.$kind){case"MakeMoveVec":r.MakeMoveVec.type&&as([r.MakeMoveVec.type]).forEach(e=>{n.add(e)});break;case"MoveCall":const e=r.MoveCall,i=e.package.split("::")[0];if(is(i)){if(!Ce(i))throw new Error(`Invalid package name: ${i}`);t.add(i)}as(e.typeArguments??[]).forEach(e=>{n.add(e)})}return{packages:[...t],types:[...n]}}(e);if(0===r.types.length&&0===r.packages.length)return n();const i=await function(e){if(!e.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}(t).core.mvr.resolve({types:r.types,packages:r.packages});!function(e,t){for(const n of e.commands){if(n.MakeMoveVec?.type){if(!is(n.MakeMoveVec.type))continue;if(!t.types[n.MakeMoveVec.type])throw new Error(`No resolution found for type: ${n.MakeMoveVec.type}`);n.MakeMoveVec.type=t.types[n.MakeMoveVec.type].type}const e=n.MoveCall;if(!e)continue;const r=e.package.split("::"),i=r[0];if(is(i)&&!t.packages[i])throw new Error(`No address found for package: ${i}`);is(i)&&(r[0]=t.packages[i].package,e.package=r.join("::"));const s=e.typeArguments;if(s){for(let e=0;e<s.length;e++)if(is(s[e])){if(!t.types[s[e]])throw new Error(`No resolution found for type: ${s[e]}`);s[e]=t.types[s[e]].type}e.typeArguments=s}}}(e,i),await n()};var us,cs,ls,ds,hs,ps,fs,ms,gs,ys,vs,ws,bs,Ms,Os,ks,Ss,Es,js,Is=e=>{throw TypeError(e)},Ts=(e,t,n)=>t.has(e)||Is("Cannot "+n),xs=(e,t,n)=>(Ts(e,t,"read from private field"),n?n.call(e):t.get(e)),Cs=(e,t,n)=>t.has(e)?Is("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_s=(e,t,n,r)=>(Ts(e,t,"write to private field"),t.set(e,n),n),Ns=(e,t,n)=>(Ts(e,t,"access private method"),n);function As(e,t=1/0){const n=[],r=t=>n[t]??(n[t]={$kind:"NestedResult",get NestedResult(){return["function"==typeof e?e():e,t]}});return new Proxy({$kind:"Result",get Result(){return"function"==typeof e?e():e}},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,n){if(n in e)return Reflect.get(e,n);if(n===Symbol.iterator)return function*(){let e=0;for(;e<t;)yield r(e),e++};if("symbol"==typeof n)return;const i=parseInt(n,10);return Number.isNaN(i)||i<0?void 0:r(i)}})}const $s=Symbol.for("@mysten/transaction");function Ds(e){return!!e&&"object"==typeof e&&!0===e[$s]}const Ps={buildPlugins:new Map,serializationPlugins:new Map},Bs=Symbol.for("@mysten/transaction/registry");function Rs(){try{const e=globalThis;return e[Bs]||(e[Bs]=Ps),e[Bs]}catch{return Ps}}const Us=class e{constructor(){Cs(this,ys),Cs(this,us),Cs(this,cs),Cs(this,ls,new Map),Cs(this,ds,[]),Cs(this,hs,[]),Cs(this,ps,new Set),Cs(this,fs,new Set),Cs(this,ms,new Map),Cs(this,gs),this.object=function(e){function t(t){return e(t)}return t.system=e=>{const n=e?.mutable;return t(void 0!==n?Mi.SharedObjectRef({objectId:"0x5",initialSharedVersion:1,mutable:n}):{$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x5",initialSharedVersion:1}})},t.clock=()=>t(Mi.SharedObjectRef({objectId:"0x6",initialSharedVersion:1,mutable:!1})),t.random=()=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x8",mutable:!1}}),t.denyList=e=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x403",mutable:e?.mutable}}),t.option=({type:e,value:t})=>n=>n.moveCall({typeArguments:[e],target:"0x1::option::"+(null===t?"none":"some"),arguments:null===t?[]:[n.object(t)]}),t}(e=>{if("function"==typeof e)return this.object(this.add(e));if("object"==typeof e&&Mr(Gr,e))return e;const t=$i(e),n=xs(this,gs).inputs.find(e=>t===$i(e));return n?.Object?.SharedObject&&"object"==typeof e&&e.Object?.SharedObject&&(n.Object.SharedObject.mutable=n.Object.SharedObject.mutable||e.Object.SharedObject.mutable),n?{$kind:"Input",Input:xs(this,gs).inputs.indexOf(n),type:"object"}:Ns(this,ys,bs).call(this,"object","string"==typeof e?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Be(e)}}:e)});const e=Rs();_s(this,gs,new Bi),_s(this,cs,[...e.buildPlugins.values()]),_s(this,us,[...e.serializationPlugins.values()])}static fromKind(t){const n=new e;return _s(n,gs,Bi.fromKindBytes("string"==typeof t?q(t):t)),_s(n,ds,xs(n,gs).inputs.slice()),_s(n,hs,xs(n,gs).commands.slice()),_s(n,ps,new Set(xs(n,hs).map((e,t)=>t))),n}static from(t){const n=new e;return Ds(t)?_s(n,gs,Bi.restore(t.getData())):"string"==typeof t&&t.startsWith("{")?_s(n,gs,Bi.restore(JSON.parse(t))):_s(n,gs,Bi.fromBytes("string"==typeof t?q(t):t)),_s(n,ds,xs(n,gs).inputs.slice()),_s(n,hs,xs(n,gs).commands.slice()),_s(n,ps,new Set(xs(n,hs).map((e,t)=>t))),n}static registerGlobalSerializationPlugin(e,t){Rs().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){Rs().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){Rs().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){Rs().buildPlugins.delete(e)}addSerializationPlugin(e){xs(this,us).push(e)}addBuildPlugin(e){xs(this,cs).push(e)}addIntentResolver(e,t){if(xs(this,ls).has(e)&&xs(this,ls).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);xs(this,ls).set(e,t)}setSender(e){xs(this,gs).sender=e}setSenderIfNotSet(e){xs(this,gs).sender||(xs(this,gs).sender=e)}setExpiration(e){xs(this,gs).expiration=e?Rr(ni,e):null}setGasPrice(e){xs(this,gs).gasConfig.price=String(e)}setGasBudget(e){xs(this,gs).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){null==xs(this,gs).gasData.budget&&(xs(this,gs).gasConfig.budget=String(e))}setGasOwner(e){xs(this,gs).gasConfig.owner=e}setGasPayment(e){xs(this,gs).gasConfig.payment=e.map(e=>Rr(Wr,e))}get blockData(){return ui(xs(this,gs).snapshot())}getData(){return xs(this,gs).snapshot()}get[$s](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:Ai(e=>ye(e)?Ns(this,ys,bs).call(this,"pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):Ns(this,ys,bs).call(this,"pure",Mr(ti,e)?Rr(ti,e):e instanceof Uint8Array?Mi.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(Mi.ObjectRef(...e))}receivingRef(...e){return this.object(Mi.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Mi.SharedObjectRef(...e))}add(e){if("function"==typeof e){if(xs(this,ms).has(e))return xs(this,ms).get(e);const t=Ns(this,ys,vs).call(this),n=e(t);if(!n||"object"!=typeof n||!("then"in n))return _s(this,ps,xs(t,ps)),xs(this,ms).set(e,n),n;const r=Ns(this,ys,ws).call(this,{$kind:"$Intent",$Intent:{name:"AsyncTransactionThunk",inputs:{},data:{resultIndex:xs(this,gs).commands.length,result:null}}});xs(this,fs).add(Promise.resolve(n).then(e=>{r.$Intent.data.result=e}));const i=As(()=>r.$Intent.data.resultIndex);return xs(this,ms).set(e,i),i}return Ns(this,ys,ws).call(this,e),As(xs(this,gs).commands.length-1)}splitCoins(e,t){const n=ii.SplitCoins("string"==typeof e?this.object(e):Ns(this,ys,Os).call(this,e),t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):Ns(this,ys,Ms).call(this,e)));return Ns(this,ys,ws).call(this,n),As(xs(this,gs).commands.length-1,t.length)}mergeCoins(e,t){return this.add(ii.MergeCoins(this.object(e),t.map(e=>this.object(e))))}publish({modules:e,dependencies:t}){return this.add(ii.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:n,ticket:r}){return this.add(ii.Upgrade({modules:e,dependencies:t,package:n,ticket:this.object(r)}))}moveCall({arguments:e,...t}){return this.add(ii.MoveCall({...t,arguments:e?.map(e=>Ns(this,ys,Ms).call(this,e))}))}transferObjects(e,t){return this.add(ii.TransferObjects(e.map(e=>this.object(e)),"string"==typeof t?this.pure.address(t):Ns(this,ys,Ms).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(ii.MakeMoveVec({type:e,elements:t.map(e=>this.object(e))}))}serialize(){return JSON.stringify(ui(xs(this,gs).snapshot()))}async toJSON(e={}){await this.prepareForSerialization(e);const t=this.isFullyResolved();return JSON.stringify(Rr(bi,t?{...xs(this,gs).snapshot(),digest:xs(this,gs).getDigest()}:xs(this,gs).snapshot()),(e,t)=>"bigint"==typeof t?t.toString():t,2)}async sign(e){const{signer:t,...n}=e,r=await this.build(n);return t.signTransaction(r)}isFullyResolved(){return!!xs(this,gs).sender&&(!(xs(this,fs).size>0)&&(!xs(this,gs).commands.some(e=>e.$Intent)&&!Ti(xs(this,gs),{})))}async build(e={}){return await this.prepareForSerialization(e),await Ns(this,ys,ks).call(this,e),xs(this,gs).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await this.prepareForSerialization(e),await Ns(this,ys,ks).call(this,e),xs(this,gs).getDigest()}async prepareForSerialization(e){await Ns(this,ys,Es).call(this),Ns(this,ys,js).call(this);const t=new Set;for(const r of xs(this,gs).commands)r.$Intent&&t.add(r.$Intent.name);const n=[...xs(this,us)];for(const r of t)if(!e.supportedIntents?.includes(r)){if(!xs(this,ls).has(r))throw new Error(`Missing intent resolver for ${r}`);n.push(xs(this,ls).get(r))}n.push(os()),await Ns(this,ys,Ss).call(this,n,e)}};us=new WeakMap,cs=new WeakMap,ls=new WeakMap,ds=new WeakMap,hs=new WeakMap,ps=new WeakMap,fs=new WeakMap,ms=new WeakMap,gs=new WeakMap,ys=new WeakSet,vs=function(){const e=new Us;return _s(e,gs,xs(this,gs)),_s(e,us,xs(this,us)),_s(e,cs,xs(this,cs)),_s(e,ls,xs(this,ls)),_s(e,fs,xs(this,fs)),_s(e,ps,new Set(xs(this,ps))),_s(e,ms,xs(this,ms)),xs(this,ds).push(xs(e,ds)),xs(this,hs).push(xs(e,hs)),e},ws=function(e){const t=xs(this,gs).commands.length;return xs(this,hs).push(e),xs(this,ps).add(t),xs(this,gs).commands.push(e),xs(this,gs).mapCommandArguments(t,e=>{if("Result"===e.$kind&&!xs(this,ps).has(e.Result))throw new Error(`Result { Result: ${e.Result} } is not available to use in the current transaction`);if("NestedResult"===e.$kind&&!xs(this,ps).has(e.NestedResult[0]))throw new Error(`Result { NestedResult: [${e.NestedResult[0]}, ${e.NestedResult[1]}] } is not available to use in the current transaction`);if("Input"===e.$kind&&e.Input>=xs(this,gs).inputs.length)throw new Error(`Input { Input: ${e.Input} } references an input that does not exist in the current transaction`);return e}),e},bs=function(e,t){return xs(this,ds).push(t),xs(this,gs).addInput(e,t)},Ms=function(e){return ye(e)?this.pure(e):Ns(this,ys,Os).call(this,e)},Os=function(e){if("function"==typeof e){const t=this.add(e);return"function"==typeof t?Ns(this,ys,Os).call(this,t):Rr(Gr,t)}return Rr(Gr,e)},ks=async function(e){if(!e.onlyTransactionKind&&!xs(this,gs).sender)throw new Error("Missing transaction sender");await Ns(this,ys,Ss).call(this,[...xs(this,cs),xi],e)},Ss=async function(e,t){try{const n=r=>{if(r>=e.length)return()=>{};const i=e[r];return async()=>{const e=n(r+1);let s=!1,a=!1;if(await i(xs(this,gs),t,async()=>{if(s)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);s=!0,await e(),a=!0}),!s)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await n(0)()}finally{_s(this,ds,xs(this,gs).inputs.slice()),_s(this,hs,xs(this,gs).commands.slice()),_s(this,ps,new Set(xs(this,hs).map((e,t)=>t)))}},Es=async function(){for(;xs(this,fs).size>0;){const e=Promise.all(xs(this,fs));xs(this,fs).clear(),xs(this,fs).add(e),await e,xs(this,fs).delete(e)}},js=function(){const e=xs(this,gs).commands,t=xs(this,gs).inputs,n=xs(this,hs).flat(1/0),r=xs(this,ds).flat(1/0);if(n.length!==e.length)throw new Error("Unexpected number of commands found in transaction data");if(r.length!==t.length)throw new Error("Unexpected number of inputs found in transaction data");const i=n.filter(e=>"AsyncTransactionThunk"!==e.$Intent?.name);function s(t){const n=e[t];if("AsyncTransactionThunk"===n.$Intent?.name){const e=n.$Intent.data.result;if(null==e)throw new Error("AsyncTransactionThunk has not been resolved");return s(e.Result)}const r=i.indexOf(n);if(-1===r)throw new Error("Unable to find original index for command");return r}xs(this,gs).commands=i,xs(this,gs).inputs=r,_s(this,hs,i),_s(this,ds,r),_s(this,ps,new Set(i.map((e,t)=>t))),xs(this,gs).mapArguments(e=>{if("Input"===e.$kind){const n=r.indexOf(t[e.Input]);if(-1===n)throw new Error("Input has not been resolved");return{...e,Input:n}}if("Result"===e.$kind){const t=s(e.Result);return{...e,Result:t}}if("NestedResult"===e.$kind){const t=s(e.NestedResult[0]);return{...e,NestedResult:[t,e.NestedResult[1]]}}return e});for(const[a,o]of e.entries())if("AsyncTransactionThunk"===o.$Intent?.name)try{o.$Intent.data.resultIndex=s(a)}catch{}};let Vs=Us;const Fs={mainnet:"https://mainnet.mvr.mystenlabs.com",testnet:"https://testnet.mvr.mystenlabs.com"};class zs extends ur{constructor(e){super(e),this.core=this,this.mvr=new ts({cache:this.cache.scope("core.mvr"),url:e.mvr?.url??Fs[this.network],pageSize:e.mvr?.pageSize,overrides:e.mvr?.overrides})}async getObject(e){const{objectId:t}=e,{objects:[n]}=await this.getObjects({objectIds:[t],signal:e.signal});if(n instanceof Error)throw n;return{object:n}}async getDynamicField(e){const t=gt.parseFromStr((await this.core.mvr.resolveType({type:e.name.type})).type),n=vn(e.parentId,t,e.name.bcs),{objects:[r]}=await this.getObjects({objectIds:[n],signal:e.signal});if(r instanceof Error)throw r;const i=De(r.type),s=await r.content;return{dynamicField:{id:r.id,digest:r.digest,version:r.version,type:r.type,previousTransaction:r.previousTransaction,name:{type:"string"==typeof i.typeParams[0]?i.typeParams[0]:Pe(i.typeParams[0]),bcs:e.name.bcs},value:{type:"string"==typeof i.typeParams[1]?i.typeParams[1]:Pe(i.typeParams[1]),bcs:s.slice(32+e.name.bcs.length)}}}}async waitForTransaction({signal:e,timeout:t=6e4,...n}){const r=e?AbortSignal.any([AbortSignal.timeout(t),e]):AbortSignal.timeout(t),i=new Promise((e,t)=>{r.addEventListener("abort",()=>t(r.reason))});for(i.catch(()=>{});;){r.throwIfAborted();try{return await this.getTransaction({...n,signal:r})}catch{await Promise.race([new Promise(e=>setTimeout(e,2e3)),i])}}}}class qs extends Error{}class Ls extends qs{constructor(e,t){super(t),this.code=e}static fromResponse(e,t){switch(e.code){case"notExists":return new Ls(e.code,`Object ${e.object_id} does not exist`);case"dynamicFieldNotFound":return new Ls(e.code,`Dynamic field not found for object ${e.parent_object_id}`);case"deleted":return new Ls(e.code,`Object ${e.object_id} has been deleted`);case"displayError":return new Ls(e.code,`Display error: ${e.error}`);default:return new Ls(e.code,"Unknown error while loading object"+(t?` ${t}`:""))}}}function Ws(e){return{...Bi.fromBytes(e).snapshot(),bcs:e}}function Gs(e){const t=yn.TransactionEffects.parse(e);switch(t.$kind){case"V1":return function(){throw new Error("V1 effects are not supported yet")}(t.V1);case"V2":return function({bytes:e,effects:t}){const n=t.changedObjects.map(([e,n])=>({id:e,inputState:"Exist"===n.inputState.$kind?"Exists":"DoesNotExist",inputVersion:n.inputState.Exist?.[0][0]??null,inputDigest:n.inputState.Exist?.[0][1]??null,inputOwner:n.inputState.Exist?.[1]??null,outputState:"NotExist"===n.outputState.$kind?"DoesNotExist":n.outputState.$kind,outputVersion:"PackageWrite"===n.outputState.$kind?n.outputState.PackageWrite?.[0]:n.outputState.ObjectWrite?t.lamportVersion:null,outputDigest:"PackageWrite"===n.outputState.$kind?n.outputState.PackageWrite?.[1]:n.outputState.ObjectWrite?.[0]??null,outputOwner:n.outputState.ObjectWrite?n.outputState.ObjectWrite[1]:null,idOperation:n.idOperation.$kind}));return{bcs:e,digest:t.transactionDigest,version:2,status:"Success"===t.status.$kind?{success:!0,error:null}:{success:!1,error:t.status.Failed.error.$kind},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:null===t.gasObjectIndex?null:n[t.gasObjectIndex]??null,eventsDigest:t.eventsDigest,dependencies:t.dependencies,lamportVersion:t.lamportVersion,changedObjects:n,unchangedConsensusObjects:t.unchangedSharedObjects.map(([e,t])=>({kind:"MutateDeleted"===t.$kind?"MutateConsensusStreamEnded":"ReadDeleted"===t.$kind?"ReadConsensusStreamEnded":t.$kind,objectId:e,version:"ReadOnlyRoot"===t.$kind?t.ReadOnlyRoot[0]:t[t.$kind],digest:"ReadOnlyRoot"===t.$kind?t.ReadOnlyRoot[1]:null})),auxiliaryDataDigest:t.auxDataDigest}}({bytes:e,effects:t.V2});default:throw new Error(`Unknown transaction effects version: ${t.$kind}`)}}var Zs,Js=e=>{throw TypeError(e)},Ks=(e,t,n)=>t.has(e)||Js("Cannot "+n),Hs=(e,t,n)=>(Ks(e,t,"read from private field"),n?n.call(e):t.get(e));class Ys extends zs{constructor({jsonRpcClient:e,mvr:t}){var n,r,i;super({network:e.network,base:e,mvr:t}),n=this,(r=Zs).has(n)?Js("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,i),((e,t,n)=>{Ks(e,t,"write to private field"),t.set(e,n)})(this,Zs,e)}async getObjects(e){const t=J(e.objectIds,50),n=[];for(const r of t){const t=await Hs(this,Zs).multiGetObjects({ids:r,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},signal:e.signal});for(const[e,i]of t.entries())i.error?n.push(Ls.fromResponse(i.error,r[e])):n.push(Xs(i.data))}return{objects:n}}async getOwnedObjects(e){const t=await Hs(this,Zs).getOwnedObjects({owner:e.address,limit:e.limit,cursor:e.cursor,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},filter:e.type?{StructType:e.type}:null,signal:e.signal});return{objects:t.data.map(e=>{if(e.error)throw Ls.fromResponse(e.error);return Xs(e.data)}),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getCoins(e){const t=await Hs(this,Zs).getCoins({owner:e.address,coinType:e.coinType,limit:e.limit,cursor:e.cursor,signal:e.signal});return{objects:t.data.map(t=>({id:t.coinObjectId,version:t.version,digest:t.digest,balance:t.balance,type:`0x2::coin::Coin<${t.coinType}>`,content:Promise.resolve(ra.serialize({id:t.coinObjectId,balance:{value:t.balance}}).toBytes()),owner:{$kind:"ObjectOwner",ObjectOwner:e.address},previousTransaction:t.previousTransaction})),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getBalance(e){const t=await Hs(this,Zs).getBalance({owner:e.address,coinType:e.coinType,signal:e.signal});return{balance:{coinType:t.coinType,balance:t.totalBalance}}}async getAllBalances(e){return{balances:(await Hs(this,Zs).getAllBalances({owner:e.address,signal:e.signal})).map(e=>({coinType:e.coinType,balance:e.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(e){return{transaction:ta(await Hs(this,Zs).getTransactionBlock({digest:e.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0,showEffects:!0,showBalanceChanges:!0},signal:e.signal}))}}async executeTransaction(e){return{transaction:ta(await Hs(this,Zs).executeTransactionBlock({transactionBlock:e.transaction,signature:e.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0,showEffects:!0,showBalanceChanges:!0},signal:e.signal}))}}async dryRunTransaction(e){const t=Vs.from(e.transaction),n=await Hs(this,Zs).dryRunTransactionBlock({transactionBlock:e.transaction,signal:e.signal}),{effects:r,objectTypes:i}=function({bytes:e,effects:t,objectChanges:n}){const r=[],i=[],s={};return n?.forEach(e=>{switch(e.type){case"published":r.push({id:e.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:null,idOperation:"Created"});break;case"transferred":r.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:e.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:e.sender},outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:Qs(e.recipient),idOperation:"None"}),s[e.objectId]=e.objectType;break;case"mutated":r.push({id:e.objectId,inputState:"Exists",inputVersion:e.previousVersion,inputDigest:null,inputOwner:Qs(e.owner),outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:Qs(e.owner),idOperation:"None"}),s[e.objectId]=e.objectType;break;case"deleted":r.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:t.deleted?.find(t=>t.objectId===e.objectId)?.digest??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted"}),s[e.objectId]=e.objectType;break;case"wrapped":r.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:e.sender},outputState:"ObjectWrite",outputVersion:e.version,outputDigest:t.wrapped?.find(t=>t.objectId===e.objectId)?.digest??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:e.sender},idOperation:"None"}),s[e.objectId]=e.objectType;break;case"created":r.push({id:e.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:Qs(e.owner),idOperation:"Created"}),s[e.objectId]=e.objectType}}),{objectTypes:s,effects:{bcs:e??null,digest:t.transactionDigest,version:2,status:"success"===t.status.status?{success:!0,error:null}:{success:!1,error:t.status.error},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:{id:t.gasObject?.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:t.gasObject.reference.version,outputDigest:t.gasObject.reference.digest,outputOwner:Qs(t.gasObject.owner),idOperation:"None"},eventsDigest:t.eventsDigest??null,dependencies:t.dependencies??[],lamportVersion:t.gasObject.reference.version,changedObjects:r,unchangedConsensusObjects:i,auxiliaryDataDigest:null}}}({effects:n.effects,objectChanges:n.objectChanges});return{transaction:{digest:await t.getDigest(),epoch:null,effects:r,objectTypes:Promise.resolve(i),signatures:[],transaction:Ws(e.transaction),balanceChanges:n.balanceChanges.map(e=>({coinType:e.coinType,address:ea(e.owner),amount:e.amount}))}}}async getReferenceGasPrice(e){const t=await Hs(this,Zs).getReferenceGasPrice({signal:e?.signal});return{referenceGasPrice:String(t)}}async getDynamicFields(e){const t=await Hs(this,Zs).getDynamicFields({parentId:e.parentId,limit:e.limit,cursor:e.cursor});return{dynamicFields:t.data.map(e=>({id:e.objectId,type:e.objectType,name:{type:e.name.type,bcs:q(e.bcsName)}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor}}async verifyZkLoginSignature(e){const t=await Hs(this,Zs).verifyZkLoginSignature({bytes:e.bytes,signature:e.signature,intentScope:e.intentScope,author:e.author});return{success:t.success,errors:t.errors}}async defaultNameServiceName(e){return{data:{name:(await Hs(this,Zs).resolveNameServiceNames(e)).data[0]}}}resolveTransactionPlugin(){return Ei(Hs(this,Zs))}async getMoveFunction(e){const t=await Hs(this,Zs).getNormalizedMoveFunction({package:(await this.mvr.resolvePackage({package:e.packageId})).package,module:e.moduleName,function:e.name});return{function:{packageId:Be(e.packageId),moduleName:e.moduleName,name:e.name,visibility:aa(t.visibility),isEntry:t.isEntry,typeParameters:t.typeParameters.map(e=>{return{isPhantom:!1,constraints:(t=e,t.abilities.map(e=>{switch(e){case"Copy":return"copy";case"Drop":return"drop";case"Store":return"store";case"Key":return"key";default:return"unknown"}}))};var t}),parameters:t.parameters.map(e=>ia(e)),returns:t.return.map(e=>ia(e))}}}}function Xs(e){return{id:e.objectId,version:e.version,digest:e.digest,type:e.type,content:Promise.resolve("moveObject"===e.bcs?.dataType?q(e.bcs.bcsBytes):new Uint8Array),owner:Qs(e.owner),previousTransaction:e.previousTransaction??null}}function Qs(e){if("Immutable"===e)return{$kind:"Immutable",Immutable:!0};if("ConsensusAddressOwner"in e)return{$kind:"ConsensusAddressOwner",ConsensusAddressOwner:{owner:e.ConsensusAddressOwner.owner,startVersion:e.ConsensusAddressOwner.start_version}};if("AddressOwner"in e)return{$kind:"AddressOwner",AddressOwner:e.AddressOwner};if("ObjectOwner"in e)return{$kind:"ObjectOwner",ObjectOwner:e.ObjectOwner};if("Shared"in e)return{$kind:"Shared",Shared:{initialSharedVersion:e.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(e)}`)}function ea(e){if("Immutable"===e)return null;if("ConsensusAddressOwner"in e)return e.ConsensusAddressOwner.owner;if("AddressOwner"in e)return e.AddressOwner;if("ObjectOwner"in e)return e.ObjectOwner;if("Shared"in e)return null;throw new Error(`Unknown owner type: ${JSON.stringify(e)}`)}function ta(e){const t=yn.SenderSignedData.parse(q(e.rawTransaction))[0],n={};e.objectChanges?.forEach(e=>{"published"!==e.type&&(n[e.objectId]=e.objectType)});const r=yn.TransactionData.serialize(t.intentMessage.value).toBytes(),i=Bi.restore({version:2,sender:t.intentMessage.value.V1.sender,expiration:t.intentMessage.value.V1.expiration,gasData:t.intentMessage.value.V1.gasData,inputs:t.intentMessage.value.V1.kind.ProgrammableTransaction.inputs,commands:t.intentMessage.value.V1.kind.ProgrammableTransaction.commands});return{digest:e.digest,epoch:e.effects?.executedEpoch??null,effects:Gs(new Uint8Array(e.rawEffects)),objectTypes:Promise.resolve(n),transaction:{...i,bcs:r},signatures:t.txSignatures,balanceChanges:e.balanceChanges?.map(e=>({coinType:e.coinType,address:ea(e.owner),amount:e.amount}))??[]}}Zs=new WeakMap;const na=yn.struct("Balance",{value:yn.u64()}),ra=yn.struct("Coin",{id:yn.Address,balance:na});function ia(e){if("string"!=typeof e){if("Reference"in e)return{reference:"immutable",body:sa(e.Reference)};if("MutableReference"in e)return{reference:"mutable",body:sa(e.MutableReference)}}return{reference:null,body:sa(e)}}function sa(e){switch(e){case"Address":return{$kind:"address"};case"Bool":return{$kind:"bool"};case"U8":return{$kind:"u8"};case"U16":return{$kind:"u16"};case"U32":return{$kind:"u32"};case"U64":return{$kind:"u64"};case"U128":return{$kind:"u128"};case"U256":return{$kind:"u256"}}if("string"==typeof e)throw new Error(`Unknown type: ${e}`);if("Vector"in e)return{$kind:"vector",vector:sa(e.Vector)};if("Struct"in e)return{$kind:"datatype",datatype:{typeName:`${Be(e.Struct.address)}::${e.Struct.module}::${e.Struct.name}`,typeParameters:e.Struct.typeArguments.map(e=>sa(e))}};if("TypeParameter"in e)return{$kind:"typeParameter",index:e.TypeParameter};throw new Error(`Unknown type: ${JSON.stringify(e)}`)}function aa(e){switch(e){case"Public":return"public";case"Private":return"private";case"Friend":return"friend";default:return"unknown"}}const oa=Symbol.for("@mysten/SuiClient");class ua extends ur{constructor(e){super({network:e.network??"unknown"}),this.jsonRpc=this,this.transport=e.transport??new Xn({url:e.url}),this.core=new Ys({jsonRpcClient:this,mvr:e.mvr})}get[oa](){return!0}async getRpcApiVersion({signal:e}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:e})).info.version}async getCoins({coinType:e,owner:t,cursor:n,limit:r,signal:i}){if(!t||!Ae(Be(t)))throw new Error("Invalid Sui address");return e&&is(e)&&(e=(await this.core.mvr.resolveType({type:e})).type),await this.transport.request({method:"suix_getCoins",params:[t,e,n,r],signal:i})}async getAllCoins(e){if(!e.owner||!Ae(Be(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit],signal:e.signal})}async getBalance({owner:e,coinType:t,signal:n}){if(!e||!Ae(Be(e)))throw new Error("Invalid Sui address");return t&&is(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getBalance",params:[e,t],signal:n})}async getAllBalances(e){if(!e.owner||!Ae(Be(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner],signal:e.signal})}async getCoinMetadata({coinType:e,signal:t}){return e&&is(e)&&(e=(await this.core.mvr.resolveType({type:e})).type),await this.transport.request({method:"suix_getCoinMetadata",params:[e],signal:t})}async getTotalSupply({coinType:e,signal:t}){return e&&is(e)&&(e=(await this.core.mvr.resolveType({type:e})).type),await this.transport.request({method:"suix_getTotalSupply",params:[e],signal:t})}async call(e,t,{signal:n}={}){return await this.transport.request({method:e,params:t,signal:n})}async getMoveFunctionArgTypes({package:e,module:t,function:n,signal:r}){return e&&Ce(e)&&(e=(await this.core.mvr.resolvePackage({package:e})).package),await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e,t,n],signal:r})}async getNormalizedMoveModulesByPackage({package:e,signal:t}){return e&&Ce(e)&&(e=(await this.core.mvr.resolvePackage({package:e})).package),await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e],signal:t})}async getNormalizedMoveModule({package:e,module:t,signal:n}){return e&&Ce(e)&&(e=(await this.core.mvr.resolvePackage({package:e})).package),await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e,t],signal:n})}async getNormalizedMoveFunction({package:e,module:t,function:n,signal:r}){return e&&Ce(e)&&(e=(await this.core.mvr.resolvePackage({package:e})).package),await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e,t,n],signal:r})}async getNormalizedMoveStruct({package:e,module:t,struct:n,signal:r}){return e&&Ce(e)&&(e=(await this.core.mvr.resolvePackage({package:e})).package),await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e,t,n],signal:r})}async getOwnedObjects(e){if(!e.owner||!Ae(Be(e.owner)))throw new Error("Invalid Sui address");const t=e.filter?{...e.filter}:void 0;return t&&"MoveModule"in t&&Ce(t.MoveModule.package)?t.MoveModule={module:t.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:t.MoveModule.package})).package}:t&&"StructType"in t&&is(t.StructType)&&(t.StructType=(await this.core.mvr.resolveType({type:t.StructType})).type),await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:t,options:e.options},e.cursor,e.limit],signal:e.signal})}async getObject(e){if(!e.id||!$e(Re(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options],signal:e.signal})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options],signal:e.signal})}async multiGetObjects(e){e.ids.forEach(e=>{if(!e||!$e(Re(e)))throw new Error(`Invalid Sui Object id ${e}`)});if(e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options],signal:e.signal})}async queryTransactionBlocks({filter:e,options:t,cursor:n,limit:r,order:i,signal:s}){return e&&"MoveFunction"in e&&Ce(e.MoveFunction.package)&&(e={...e,MoveFunction:{package:(await this.core.mvr.resolvePackage({package:e.MoveFunction.package})).package}}),await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e,options:t},n,r,"descending"===(i||"descending")],signal:s})}async getTransactionBlock(e){if(!Ne(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options],signal:e.signal})}async multiGetTransactionBlocks(e){e.digests.forEach(e=>{if(!Ne(e))throw new Error(`Invalid Transaction digest ${e}`)});if(e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options],signal:e.signal})}async executeTransactionBlock({transactionBlock:e,signature:t,options:n,requestType:r,signal:i}){const s=await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e?e:W(e),Array.isArray(t)?t:[t],n],signal:i});if("WaitForLocalExecution"===r)try{await this.waitForTransaction({digest:s.digest})}catch{}return s}async signAndExecuteTransaction({transaction:e,signer:t,...n}){let r;e instanceof Uint8Array?r=e:(e.setSenderIfNotSet(t.toSuiAddress()),r=await e.build({client:this}));const{signature:i,bytes:s}=await t.signTransaction(r);return this.executeTransactionBlock({transactionBlock:s,signature:i,...n})}async getTotalTransactionBlocks({signal:e}={}){const t=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:e});return BigInt(t)}async getReferenceGasPrice({signal:e}={}){const t=await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:e});return BigInt(t)}async getStakes(e){if(!e.owner||!Ae(Be(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner],signal:e.signal})}async getStakesByIds(e){return e.stakedSuiIds.forEach(e=>{if(!e||!$e(Re(e)))throw new Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds],signal:e.signal})}async getLatestSuiSystemState({signal:e}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:e})}async queryEvents({query:e,cursor:t,limit:n,order:r,signal:i}){return e&&"MoveEventType"in e&&is(e.MoveEventType)&&(e={...e,MoveEventType:(await this.core.mvr.resolveType({type:e.MoveEventType})).type}),e&&"MoveEventModule"in e&&Ce(e.MoveEventModule.package)&&(e={...e,MoveEventModule:{module:e.MoveEventModule.module,package:(await this.core.mvr.resolvePackage({package:e.MoveEventModule.package})).package}}),"MoveModule"in e&&Ce(e.MoveModule.package)&&(e={...e,MoveModule:{module:e.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:e.MoveModule.package})).package}}),await this.transport.request({method:"suix_queryEvents",params:[e,t,n,"descending"===(r||"descending")],signal:i})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async devInspectTransactionBlock(e){let t;if(Ds(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=W(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=W(e.transactionBlock)}return e.signal?.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch],signal:e.signal})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:W(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!$e(Re(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit],signal:e.signal})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name],signal:e.signal})}async getLatestCheckpointSequenceNumber({signal:e}={}){const t=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:e});return String(t)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id],signal:e.signal})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder],signal:e.signal})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch],signal:e?.signal})}async getNetworkMetrics({signal:e}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:e})}async getAddressMetrics({signal:e}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:e})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder],signal:e?.signal})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder],signal:e?.signal})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder],signal:e?.signal})}async getMoveCallMetrics({signal:e}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:e})}async getCurrentEpoch({signal:e}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:e})}async getValidatorsApy({signal:e}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:e})}async getChainIdentifier({signal:e}={}){const t=await this.getCheckpoint({id:"0",signal:e});return Z(z(t.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name],signal:e.signal})}async resolveNameServiceNames({format:e="dot",...t}){const{nextCursor:n,hasNextPage:r,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit],signal:t.signal});return{hasNextPage:r,nextCursor:n,data:i.map(t=>function(e,t="at"){const n=e.toLowerCase();let r;if(n.includes("@")){if(!je.test(n))throw new Error(`Invalid SuiNS name ${e}`);const[t,i]=n.split("@");r=[...t?t.split("."):[],i]}else{if(!Ie.test(n))throw new Error(`Invalid SuiNS name ${e}`);r=n.split(".").slice(0,-1)}return"dot"===t?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}(t,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version],signal:e?.signal})}async verifyZkLoginSignature(e){return await this.transport.request({method:"sui_verifyZkLoginSignature",params:[e.bytes,e.signature,e.intentScope,e.author],signal:e.signal})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:n=2e3,...r}){const i=AbortSignal.timeout(t),s=new Promise((e,t)=>{i.addEventListener("abort",()=>t(i.reason))});for(s.catch(()=>{});!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(r)}catch{await Promise.race([new Promise(e=>setTimeout(e,n)),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function ca(e,t){if(!Boolean(e))throw new Error(t)}const la={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},da=new Set(Object.keys(la));function ha(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&da.has(t)}var pa,fa,ma,ga;function ya(e){return 9===e||32===e}(fa=pa||(pa={})).QUERY="query",fa.MUTATION="mutation",fa.SUBSCRIPTION="subscription",(ga=ma||(ma={})).NAME="Name",ga.DOCUMENT="Document",ga.OPERATION_DEFINITION="OperationDefinition",ga.VARIABLE_DEFINITION="VariableDefinition",ga.SELECTION_SET="SelectionSet",ga.FIELD="Field",ga.ARGUMENT="Argument",ga.FRAGMENT_SPREAD="FragmentSpread",ga.INLINE_FRAGMENT="InlineFragment",ga.FRAGMENT_DEFINITION="FragmentDefinition",ga.VARIABLE="Variable",ga.INT="IntValue",ga.FLOAT="FloatValue",ga.STRING="StringValue",ga.BOOLEAN="BooleanValue",ga.NULL="NullValue",ga.ENUM="EnumValue",ga.LIST="ListValue",ga.OBJECT="ObjectValue",ga.OBJECT_FIELD="ObjectField",ga.DIRECTIVE="Directive",ga.NAMED_TYPE="NamedType",ga.LIST_TYPE="ListType",ga.NON_NULL_TYPE="NonNullType",ga.SCHEMA_DEFINITION="SchemaDefinition",ga.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",ga.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",ga.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",ga.FIELD_DEFINITION="FieldDefinition",ga.INPUT_VALUE_DEFINITION="InputValueDefinition",ga.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",ga.UNION_TYPE_DEFINITION="UnionTypeDefinition",ga.ENUM_TYPE_DEFINITION="EnumTypeDefinition",ga.ENUM_VALUE_DEFINITION="EnumValueDefinition",ga.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",ga.DIRECTIVE_DEFINITION="DirectiveDefinition",ga.SCHEMA_EXTENSION="SchemaExtension",ga.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",ga.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",ga.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",ga.UNION_TYPE_EXTENSION="UnionTypeExtension",ga.ENUM_TYPE_EXTENSION="EnumTypeExtension",ga.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",ga.TYPE_COORDINATE="TypeCoordinate",ga.MEMBER_COORDINATE="MemberCoordinate",ga.ARGUMENT_COORDINATE="ArgumentCoordinate",ga.DIRECTIVE_COORDINATE="DirectiveCoordinate",ga.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate";function va(e){return wa(e,[])}function wa(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:wa(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let s=0;s<n;++s)i.push(wa(e[s],t));1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`);return"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map(([e,n])=>e+": "+wa(n,t));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}const ba=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Ma(e){return Oa[e.charCodeAt(0)]}const Oa=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ka=Object.freeze({});function Sa(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Ea(e){return function(e,t,n=la){const r=new Map;for(const y of Object.values(ma))r.set(y,Sa(t,y));let i,s,a,o=Array.isArray(e),u=[e],c=-1,l=[],d=e;const h=[],p=[];do{c++;const e=c===u.length,y=e&&0!==l.length;if(e){if(s=0===p.length?void 0:h[h.length-1],d=a,a=p.pop(),y)if(o){d=d.slice();let e=0;for(const[t,n]of l){const r=t-e;null===n?(d.splice(r,1),e++):d[r]=n}}else{d={...d};for(const[e,t]of l)d[e]=t}c=i.index,u=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(a){if(s=o?c:u[c],d=a[s],null==d)continue;h.push(s)}let v;if(!Array.isArray(d)){var f,m;ha(d)||ca(!1,`Invalid AST Node: ${va(d)}.`);const n=e?null===(f=r.get(d.kind))||void 0===f?void 0:f.leave:null===(m=r.get(d.kind))||void 0===m?void 0:m.enter;if(v=null==n?void 0:n.call(t,d,s,a,h,p),v===ka)break;if(!1===v){if(!e){h.pop();continue}}else if(void 0!==v&&(l.push([s,v]),!e)){if(!ha(v)){h.pop();continue}d=v}}var g;void 0===v&&y&&l.push([s,d]),e?h.pop():(i={inArray:o,index:c,keys:u,edits:l,prev:i},o=Array.isArray(d),u=o?d:null!==(g=n[d.kind])&&void 0!==g?g:[],c=-1,l=[],a&&p.push(a),a=d)}while(void 0!==i);return 0!==l.length?l[l.length-1][1]:e}(e,ja)}const ja={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ia(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=_a(e.variableDefinitions)?xa("(\n",Ia(e.variableDefinitions,"\n"),"\n)"):xa("(",Ia(e.variableDefinitions,", "),")"),n=xa("",e.description,"\n")+Ia([e.operation,Ia([e.name,t]),Ia(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r,description:i})=>xa("",i,"\n")+e+": "+t+xa(" = ",n)+xa(" ",Ia(r," "))},SelectionSet:{leave:({selections:e})=>Ta(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const s=xa("",e,": ")+t;let a=s+xa("(",Ia(n,", "),")");return a.length>80&&(a=s+xa("(\n",Ca(Ia(n,"\n")),"\n)")),Ia([a,Ia(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+xa(" ",Ia(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Ia(["...",xa("on ",e),Ia(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i,description:s})=>xa("",s,"\n")+`fragment ${e}${xa("(",Ia(n,", "),")")} on ${t} ${xa("",Ia(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e){const t=e.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),r=1===n.length,i=n.length>1&&n.slice(1).every(e=>0===e.length||ya(e.charCodeAt(0))),s=t.endsWith('\\"""'),a=e.endsWith('"')&&!s,o=e.endsWith("\\"),u=a||o,c=!r||e.length>70||u||i||s;let l="";const d=r&&ya(e.charCodeAt(0));return(c&&!d||i)&&(l+="\n"),l+=t,(c||u)&&(l+="\n"),'"""'+l+'"""'}(e):`"${e.replace(ba,Ma)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ia(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ia(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+xa("(",Ia(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>xa("",e,"\n")+Ia(["schema",Ia(t," "),Ta(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>xa("",e,"\n")+Ia(["scalar",t,Ia(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>xa("",e,"\n")+Ia(["type",t,xa("implements ",Ia(n," & ")),Ia(r," "),Ta(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>xa("",e,"\n")+t+(_a(n)?xa("(\n",Ca(Ia(n,"\n")),"\n)"):xa("(",Ia(n,", "),")"))+": "+r+xa(" ",Ia(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>xa("",e,"\n")+Ia([t+": "+n,xa("= ",r),Ia(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>xa("",e,"\n")+Ia(["interface",t,xa("implements ",Ia(n," & ")),Ia(r," "),Ta(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>xa("",e,"\n")+Ia(["union",t,Ia(n," "),xa("= ",Ia(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>xa("",e,"\n")+Ia(["enum",t,Ia(n," "),Ta(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>xa("",e,"\n")+Ia([t,Ia(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>xa("",e,"\n")+Ia(["input",t,Ia(n," "),Ta(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>xa("",e,"\n")+"directive @"+t+(_a(n)?xa("(\n",Ca(Ia(n,"\n")),"\n)"):xa("(",Ia(n,", "),")"))+(r?" repeatable":"")+" on "+Ia(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ia(["extend schema",Ia(e," "),Ta(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ia(["extend scalar",e,Ia(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ia(["extend type",e,xa("implements ",Ia(t," & ")),Ia(n," "),Ta(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ia(["extend interface",e,xa("implements ",Ia(t," & ")),Ia(n," "),Ta(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Ia(["extend union",e,Ia(t," "),xa("= ",Ia(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Ia(["extend enum",e,Ia(t," "),Ta(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Ia(["extend input",e,Ia(t," "),Ta(n)]," ")},TypeCoordinate:{leave:({name:e})=>e},MemberCoordinate:{leave:({name:e,memberName:t})=>Ia([e,xa(".",t)])},ArgumentCoordinate:{leave:({name:e,fieldName:t,argumentName:n})=>Ia([e,xa(".",t),xa("(",n,":)")])},DirectiveCoordinate:{leave:({name:e})=>Ia(["@",e])},DirectiveArgumentCoordinate:{leave:({name:e,argumentName:t})=>Ia(["@",e,xa("(",t,":)")])}};function Ia(e,t=""){var n;return null!==(n=null==e?void 0:e.filter(e=>e).join(t))&&void 0!==n?n:""}function Ta(e){return xa("{\n",Ca(Ia(e,"\n")),"\n}")}function xa(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Ca(e){return xa("  ",e.replace(/\n/g,"\n  "))}function _a(e){var t;return null!==(t=null==e?void 0:e.some(e=>e.includes("\n")))&&void 0!==t&&t}var Na=(e=>(e.PersonalMessage="PERSONAL_MESSAGE",e.TransactionData="TRANSACTION_DATA",e))(Na||{});class Aa extends String{constructor(e,t){super(e),this.value=e,this.__meta__=t}toString(){return this.value}}new Aa("\n    fragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}\n    ",{fragmentName:"OBJECT_OWNER_FIELDS"}),new Aa("\n    fragment OBJECT_FIELDS on Object {\n  address\n  digest\n  version\n  asMoveObject {\n    contents {\n      bcs\n      type {\n        repr\n      }\n    }\n  }\n  owner {\n    ...OBJECT_OWNER_FIELDS\n  }\n  previousTransaction {\n    digest\n  }\n}\n    fragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}",{fragmentName:"OBJECT_FIELDS"}),new Aa("\n    fragment MOVE_OBJECT_FIELDS on MoveObject {\n  address\n  digest\n  version\n  contents {\n    bcs\n    type {\n      repr\n    }\n  }\n  owner {\n    ...OBJECT_OWNER_FIELDS\n  }\n  previousTransaction {\n    digest\n  }\n}\n    fragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}",{fragmentName:"MOVE_OBJECT_FIELDS"}),new Aa("\n    fragment TRANSACTION_FIELDS on Transaction {\n  digest\n  transactionBcs\n  signatures {\n    signatureBytes\n  }\n  effects {\n    effectsBcs\n    epoch {\n      epochId\n    }\n    unchangedConsensusObjects {\n      nodes {\n        __typename\n        ... on ConsensusObjectRead {\n          object {\n            asMoveObject {\n              address\n              contents {\n                type {\n                  repr\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    objectChanges {\n      nodes {\n        address\n        inputState {\n          version\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n        outputState {\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n      }\n    }\n    balanceChanges(first: 50) {\n      pageInfo {\n        hasNextPage\n      }\n      nodes {\n        owner {\n          address\n        }\n        coinType {\n          repr\n        }\n        amount\n      }\n    }\n  }\n}\n    ",{fragmentName:"TRANSACTION_FIELDS"});const $a=new Aa("\n    query getAllBalances($owner: SuiAddress!, $limit: Int, $cursor: String) {\n  address(address: $owner) {\n    balances(first: $limit, after: $cursor) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      nodes {\n        coinType {\n          repr\n        }\n        totalBalance\n      }\n    }\n  }\n}\n    "),Da=new Aa('\n    query getBalance($owner: SuiAddress!, $coinType: String! = "0x2::sui::SUI") {\n  address(address: $owner) {\n    balance(coinType: $coinType) {\n      coinType {\n        repr\n      }\n      totalBalance\n    }\n  }\n}\n    '),Pa=new Aa('\n    query getCoins($owner: SuiAddress!, $first: Int, $cursor: String, $type: String! = "0x2::coin::Coin<0x2::sui::SUI>") {\n  address(address: $owner) {\n    address\n    objects(first: $first, after: $cursor, filter: {type: $type}) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      nodes {\n        owner {\n          ...OBJECT_OWNER_FIELDS\n        }\n        contents {\n          bcs\n          json\n          type {\n            repr\n          }\n        }\n        address\n        version\n        digest\n        previousTransaction {\n          digest\n        }\n      }\n    }\n  }\n}\n    fragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}'),Ba=new Aa("\n    query getDynamicFields($parentId: SuiAddress!, $first: Int, $cursor: String) {\n  address(address: $parentId) {\n    dynamicFields(first: $first, after: $cursor) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      nodes {\n        name {\n          bcs\n          type {\n            repr\n          }\n        }\n        value {\n          __typename\n          ... on MoveValue {\n            type {\n              repr\n            }\n          }\n          ... on MoveObject {\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    "),Ra=new Aa("\n    query getMoveFunction($package: SuiAddress!, $module: String!, $function: String!) {\n  package(address: $package) {\n    module(name: $module) {\n      function(name: $function) {\n        name\n        visibility\n        isEntry\n        typeParameters {\n          constraints\n        }\n        parameters {\n          signature\n        }\n        return {\n          signature\n        }\n      }\n    }\n  }\n}\n    "),Ua=new Aa("\n    query getReferenceGasPrice {\n  epoch {\n    referenceGasPrice\n  }\n}\n    "),Va=new Aa("\n    query defaultSuinsName($address: SuiAddress!) {\n  address(address: $address) {\n    defaultSuinsName\n  }\n}\n    "),Fa=new Aa("\n    query getOwnedObjects($owner: SuiAddress!, $limit: Int, $cursor: String, $filter: ObjectFilter) {\n  address(address: $owner) {\n    objects(first: $limit, after: $cursor, filter: $filter) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      nodes {\n        ...MOVE_OBJECT_FIELDS\n      }\n    }\n  }\n}\n    fragment MOVE_OBJECT_FIELDS on MoveObject {\n  address\n  digest\n  version\n  contents {\n    bcs\n    type {\n      repr\n    }\n  }\n  owner {\n    ...OBJECT_OWNER_FIELDS\n  }\n  previousTransaction {\n    digest\n  }\n}\nfragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}"),za=new Aa("\n    query multiGetObjects($objectKeys: [ObjectKey!]!) {\n  multiGetObjects(keys: $objectKeys) {\n    ...OBJECT_FIELDS\n  }\n}\n    fragment OBJECT_FIELDS on Object {\n  address\n  digest\n  version\n  asMoveObject {\n    contents {\n      bcs\n      type {\n        repr\n      }\n    }\n  }\n  owner {\n    ...OBJECT_OWNER_FIELDS\n  }\n  previousTransaction {\n    digest\n  }\n}\nfragment OBJECT_OWNER_FIELDS on Owner {\n  __typename\n  ... on AddressOwner {\n    address {\n      address\n    }\n  }\n  ... on ObjectOwner {\n    address {\n      address\n    }\n  }\n  ... on Shared {\n    initialSharedVersion\n  }\n  ... on ConsensusAddressOwner {\n    startVersion\n    address {\n      address\n    }\n  }\n}"),qa=new Aa("\n    query simulateTransaction($transaction: JSON!) {\n  simulateTransaction(transaction: $transaction) {\n    error\n    effects {\n      transaction {\n        ...TRANSACTION_FIELDS\n      }\n    }\n  }\n}\n    fragment TRANSACTION_FIELDS on Transaction {\n  digest\n  transactionBcs\n  signatures {\n    signatureBytes\n  }\n  effects {\n    effectsBcs\n    epoch {\n      epochId\n    }\n    unchangedConsensusObjects {\n      nodes {\n        __typename\n        ... on ConsensusObjectRead {\n          object {\n            asMoveObject {\n              address\n              contents {\n                type {\n                  repr\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    objectChanges {\n      nodes {\n        address\n        inputState {\n          version\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n        outputState {\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n      }\n    }\n    balanceChanges(first: 50) {\n      pageInfo {\n        hasNextPage\n      }\n      nodes {\n        owner {\n          address\n        }\n        coinType {\n          repr\n        }\n        amount\n      }\n    }\n  }\n}"),La=new Aa("\n    mutation executeTransaction($transactionDataBcs: Base64!, $signatures: [Base64!]!) {\n  executeTransaction(\n    transactionDataBcs: $transactionDataBcs\n    signatures: $signatures\n  ) {\n    errors\n    effects {\n      transaction {\n        ...TRANSACTION_FIELDS\n      }\n    }\n  }\n}\n    fragment TRANSACTION_FIELDS on Transaction {\n  digest\n  transactionBcs\n  signatures {\n    signatureBytes\n  }\n  effects {\n    effectsBcs\n    epoch {\n      epochId\n    }\n    unchangedConsensusObjects {\n      nodes {\n        __typename\n        ... on ConsensusObjectRead {\n          object {\n            asMoveObject {\n              address\n              contents {\n                type {\n                  repr\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    objectChanges {\n      nodes {\n        address\n        inputState {\n          version\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n        outputState {\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n      }\n    }\n    balanceChanges(first: 50) {\n      pageInfo {\n        hasNextPage\n      }\n      nodes {\n        owner {\n          address\n        }\n        coinType {\n          repr\n        }\n        amount\n      }\n    }\n  }\n}"),Wa=new Aa("\n    query getTransactionBlock($digest: String!) {\n  transaction(digest: $digest) {\n    ...TRANSACTION_FIELDS\n  }\n}\n    fragment TRANSACTION_FIELDS on Transaction {\n  digest\n  transactionBcs\n  signatures {\n    signatureBytes\n  }\n  effects {\n    effectsBcs\n    epoch {\n      epochId\n    }\n    unchangedConsensusObjects {\n      nodes {\n        __typename\n        ... on ConsensusObjectRead {\n          object {\n            asMoveObject {\n              address\n              contents {\n                type {\n                  repr\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    objectChanges {\n      nodes {\n        address\n        inputState {\n          version\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n        outputState {\n          asMoveObject {\n            address\n            contents {\n              type {\n                repr\n              }\n            }\n          }\n        }\n      }\n    }\n    balanceChanges(first: 50) {\n      pageInfo {\n        hasNextPage\n      }\n      nodes {\n        owner {\n          address\n        }\n        coinType {\n          repr\n        }\n        amount\n      }\n    }\n  }\n}"),Ga=new Aa("\n    query verifyZkLoginSignature($bytes: Base64!, $signature: Base64!, $intentScope: ZkLoginIntentScope!, $author: SuiAddress!) {\n  verifyZkLoginSignature(\n    bytes: $bytes\n    signature: $signature\n    intentScope: $intentScope\n    author: $author\n  ) {\n    success\n    error\n  }\n}\n    ");var Za,Ja,Ka,Ha=e=>{throw TypeError(e)},Ya=(e,t,n)=>t.has(e)||Ha("Cannot "+n),Xa=(e,t,n)=>t.has(e)?Ha("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Qa=(e,t,n)=>(Ya(e,t,"access private method"),n);class eo extends zs{constructor({graphqlClient:e,mvr:t}){var n,r,i;super({network:e.network,base:e,mvr:t}),Xa(this,Ja),Xa(this,Za),i=e,Ya(n=this,r=Za,"write to private field"),r.set(n,i)}async getObjects(e){const t=J(e.objectIds,50),n=[];for(const r of t){const e=await Qa(this,Ja,Ka).call(this,{query:za,variables:{objectKeys:r.map(e=>({address:e}))}},e=>e.multiGetObjects);n.push(...r.map(e=>Be(e)).map(t=>e.find(e=>e?.address===t)??new Ls("notFound",`Object ${t} not found`)).map(e=>e instanceof Ls?e:{id:e.address,version:e.version?.toString(),digest:e.digest,owner:no(e.owner),type:e.asMoveObject?.contents?.type?.repr,content:Promise.resolve(e.asMoveObject?.contents?.bcs?q(e.asMoveObject.contents.bcs):new Uint8Array),previousTransaction:e.previousTransaction?.digest??null}))}return{objects:n}}async getOwnedObjects(e){const t=await Qa(this,Ja,Ka).call(this,{query:Fa,variables:{owner:e.address,limit:e.limit,cursor:e.cursor,filter:e.type?{type:(await this.mvr.resolveType({type:e.type})).type}:void 0}},e=>e.address?.objects);return{objects:t.nodes.map(e=>({id:e.address,version:e.version?.toString(),digest:e.digest,owner:no(e.owner),type:e.contents?.type?.repr,content:Promise.resolve(e.contents?.bcs?q(e.contents.bcs):new Uint8Array),previousTransaction:e.previousTransaction?.digest??null})),hasNextPage:t.pageInfo.hasNextPage,cursor:t.pageInfo.endCursor??null}}async getCoins(e){const t=await Qa(this,Ja,Ka).call(this,{query:Pa,variables:{owner:e.address,cursor:e.cursor,first:e.limit,type:`0x2::coin::Coin<${(await this.mvr.resolveType({type:e.coinType})).type}>`}},e=>e.address?.objects);return{cursor:t.pageInfo.endCursor??null,hasNextPage:t.pageInfo.hasNextPage,objects:t.nodes.map(e=>({id:e.address,version:e.version?.toString(),digest:e.digest,owner:no(e.owner),type:e.contents?.type?.repr,balance:e.contents?.json?.balance,content:Promise.resolve(e.contents?.bcs?q(e.contents.bcs):new Uint8Array),previousTransaction:e.previousTransaction?.digest??null}))}}async getBalance(e){const t=await Qa(this,Ja,Ka).call(this,{query:Da,variables:{owner:e.address,type:(await this.mvr.resolveType({type:e.coinType})).type}},e=>e.address?.balance);return{balance:{coinType:t.coinType?.repr,balance:t.totalBalance}}}async getAllBalances(e){const t=await Qa(this,Ja,Ka).call(this,{query:$a,variables:{owner:e.address}},e=>e.address?.balances);return{cursor:t.pageInfo.endCursor??null,hasNextPage:t.pageInfo.hasNextPage,balances:t.nodes.map(e=>({coinType:e.coinType?.repr,balance:e.totalBalance}))}}async getTransaction(e){return{transaction:ro(await Qa(this,Ja,Ka).call(this,{query:Wa,variables:{digest:e.digest}},e=>e.transaction))}}async executeTransaction(e){const t=await Qa(this,Ja,Ka).call(this,{query:La,variables:{transactionDataBcs:W(e.transaction),signatures:e.signatures}},e=>e.executeTransaction);if(t.errors){if(1===t.errors.length)throw new Error(t.errors[0]);throw new AggregateError(t.errors.map(e=>new Error(e)))}return{transaction:ro(t.effects?.transaction)}}async dryRunTransaction(e){const t=await Qa(this,Ja,Ka).call(this,{query:qa,variables:{transaction:{bcs:{value:W(e.transaction)}}}},e=>e.simulateTransaction);if(t.error)throw new Error(t.error);return{transaction:ro(t.effects?.transaction)}}async getReferenceGasPrice(){return{referenceGasPrice:await Qa(this,Ja,Ka).call(this,{query:Ua},e=>e.epoch?.referenceGasPrice)}}async getDynamicFields(e){const t=await Qa(this,Ja,Ka).call(this,{query:Ba,variables:{parentId:e.parentId}},e=>e.address?.dynamicFields);return{dynamicFields:t.nodes.map(t=>{const n="MoveObject"===t.value?.__typename?t.value.contents?.type?.repr:t.value?.type?.repr;return{id:vn(e.parentId,t.name?.type?.repr,q(t.name?.bcs)),type:Pe("MoveObject"===t.value?.__typename?`0x2::dynamic_field::Field<0x2::dynamic_object_field::Wrapper<${t.name?.type?.repr}>,0x2::object::ID>`:`0x2::dynamic_field::Field<${t.name?.type?.repr},${n}>`),name:{type:t.name?.type?.repr,bcs:q(t.name?.bcs)},valueType:n}}),cursor:t.pageInfo.endCursor??null,hasNextPage:t.pageInfo.hasNextPage}}async verifyZkLoginSignature(e){const t="TransactionData"===e.intentScope?Na.TransactionData:Na.PersonalMessage,n=await Qa(this,Ja,Ka).call(this,{query:Ga,variables:{bytes:e.bytes,signature:e.signature,intentScope:t,author:e.author}},e=>e.verifyZkLoginSignature);return{success:n.success??!1,errors:n.error?[n.error]:[]}}async defaultNameServiceName(e){return{data:{name:await Qa(this,Ja,Ka).call(this,{query:Va,signal:e.signal,variables:{address:e.address}},e=>e.address?.defaultSuinsName??null)}}}async getMoveFunction(e){const t=await Qa(this,Ja,Ka).call(this,{query:Ra,variables:{package:(await this.mvr.resolvePackage({package:e.packageId})).package,module:e.moduleName,function:e.name}},e=>e.package?.module?.function);let n="unknown";switch(t.visibility){case"PUBLIC":n="public";break;case"PRIVATE":n="private";break;case"FRIEND":n="friend"}return{function:{packageId:Be(e.packageId),moduleName:e.moduleName,name:t.name,visibility:n,isEntry:t.isEntry??!1,typeParameters:t.typeParameters?.map(({constraints:e})=>({isPhantom:!1,constraints:e.map(e=>{switch(e){case"COPY":return"copy";case"DROP":return"drop";case"STORE":return"store";case"KEY":return"key";default:return"unknown"}})??[]}))??[],parameters:t.parameters?.map(e=>io(e.signature))??[],returns:t.return?.map(({signature:e})=>io(e))??[]}}}resolveTransactionPlugin(){throw new Error("GraphQL client does not support transaction resolution yet")}}Za=new WeakMap,Ja=new WeakSet,Ka=async function(e,t){const{data:n,errors:r}=await(i=this,s=Za,Ya(i,s,"read from private field"),a?a.call(i):s.get(i)).query(e);var i,s,a;!function(e){if(!e||0===e.length)return;const t=e.map(e=>new to(e));if(1===t.length)throw t[0];throw new AggregateError(t)}(r);const o=n&&(t?t(n):n);if(null==o)throw new Error("Missing response data");return o};class to extends Error{constructor(e){super(e.message),this.locations=e.locations}}function no(e){switch(e.__typename){case"AddressOwner":return{$kind:"AddressOwner",AddressOwner:e.address?.address};case"ConsensusAddressOwner":return{$kind:"ConsensusAddressOwner",ConsensusAddressOwner:{owner:e?.address?.address,startVersion:String(e.startVersion)}};case"ObjectOwner":return{$kind:"ObjectOwner",ObjectOwner:e.address?.address};case"Immutable":return{$kind:"Immutable",Immutable:!0};case"Shared":return{$kind:"Shared",Shared:{initialSharedVersion:String(e.initialSharedVersion)}}}}function ro(e){const t={};if(e.effects?.unchangedConsensusObjects?.nodes.forEach(e=>{if("ConsensusObjectRead"===e.__typename){const n=e.object?.asMoveObject?.contents?.type?.repr,r=e.object?.asMoveObject?.address;n&&r&&(t[r]=n)}}),e.effects?.objectChanges?.nodes.forEach(e=>{const n=e.address,r=e.inputState?.asMoveObject?.contents?.type?.repr??e.outputState?.asMoveObject?.contents?.type?.repr;n&&r&&(t[n]=r)}),e.effects?.balanceChanges?.pageInfo.hasNextPage)throw new Error("Pagination for balance changes is not supported");return{digest:e.digest,effects:Gs(q(e.effects?.effectsBcs)),epoch:e.effects?.epoch?.epochId?.toString()??null,objectTypes:Promise.resolve(t),transaction:Ws(q(e.transactionBcs)),signatures:e.signatures.map(e=>e.signatureBytes),balanceChanges:e.effects?.balanceChanges?.nodes.map(e=>({coinType:e?.coinType?.repr,address:e.owner?.address,amount:e.amount}))??[]}}function io(e){let t=null;return"&"===e.ref?t="immutable":"&mut"===e.ref&&(t="mutable"),{reference:t,body:so(e.body)}}function so(e){switch(e){case"address":return{$kind:"address"};case"bool":return{$kind:"bool"};case"u8":return{$kind:"u8"};case"u16":return{$kind:"u16"};case"u32":return{$kind:"u32"};case"u64":return{$kind:"u64"};case"u128":return{$kind:"u128"};case"u256":return{$kind:"u256"}}if("string"==typeof e)throw new Error(`Unknown type: ${e}`);if("vector"in e)return{$kind:"vector",vector:so(e.vector)};if("datatype"in e)return{$kind:"datatype",datatype:{typeName:`${Be(e.datatype.package)}::${e.datatype.module}::${e.datatype.type}`,typeParameters:e.datatype.typeParameters.map(e=>so(e))}};if("typeParameter"in e)return{$kind:"typeParameter",index:e.typeParameter};throw new Error(`Unknown type: ${JSON.stringify(e)}`)}var ao,oo,uo,co,lo=e=>{throw TypeError(e)},ho=(e,t,n)=>t.has(e)||lo("Cannot "+n),po=(e,t,n)=>(ho(e,t,"read from private field"),n?n.call(e):t.get(e)),fo=(e,t,n)=>t.has(e)?lo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),mo=(e,t,n,r)=>(ho(e,t,"write to private field"),t.set(e,n),n);class go extends Error{}class yo extends ur{constructor({url:e,fetch:t=fetch,headers:n={},queries:r={},network:i="unknown",mvr:s}){super({network:i}),fo(this,ao),fo(this,oo),fo(this,uo),fo(this,co),mo(this,ao,e),mo(this,oo,r),mo(this,uo,n),mo(this,co,(...e)=>t(...e)),this.core=new eo({graphqlClient:this,mvr:s})}async query(e){const t=await po(this,co).call(this,po(this,ao),{method:"POST",headers:{"Content-Type":"application/json",...po(this,uo)},body:JSON.stringify({query:"string"==typeof e.query||e.query instanceof String?String(e.query):Ea(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName}),signal:e.signal});if(!t.ok)throw new go(`GraphQL request failed: ${t.statusText} (${t.status})`);return await t.json()}async execute(e,t){return this.query({...t,query:po(this,oo)[e]})}}ao=new WeakMap,oo=new WeakMap,uo=new WeakMap,co=new WeakMap;const vo="CoinWithBalance",wo=Pe("0x2::sui::SUI");function bo({type:e=wo,balance:t,useGasCoin:n=!0}){let r=null;return i=>{if(r)return r;i.addIntentResolver(vo,Oo);const s="gas"===e?e:Pe(e);return r=i.add(ii.Intent({name:vo,inputs:{},data:{type:s===wo&&n?"gas":s,balance:BigInt(t)}})),r}}const Mo=Cr({type:Ar(),balance:kr()});async function Oo(e,t,n){const r=new Set,i=new Map;if(!e.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const c of e.commands)if("$Intent"===c.$kind&&c.$Intent.name===vo){const{type:e,balance:t}=Rr(Mo,c.$Intent.data);"gas"!==e&&t>0n&&r.add(e),i.set(e,(i.get(e)??0n)+t)}const s=new Set;for(const c of e.inputs)c.Object?.ImmOrOwnedObject&&s.add(c.Object.ImmOrOwnedObject.objectId),c.UnresolvedObject?.objectId&&s.add(c.UnresolvedObject.objectId);const a=new Map,o=function(e){const t=_i(e);if(!t.jsonRpc)throw new Error("CoinWithBalance intent currently only works with SuiClient");return t}(t);await Promise.all([...r].map(async t=>{a.set(t,await async function({coinType:e,balance:t,client:n,owner:r,usedIds:i}){let s=t;const a=[];return o();async function o(t=null){const{data:u,hasNextPage:c,nextCursor:l}=await n.getCoins({owner:r,coinType:e,cursor:t}),d=u.sort((e,t)=>Number(BigInt(t.balance)-BigInt(e.balance)));for(const e of d){if(i.has(e.coinObjectId))continue;const t=BigInt(e.balance);if(a.push(e),s-=t,s<=0)return a}if(c)return o(l);throw new Error(`Not enough coins of type ${e} to satisfy requested balance`)}}({coinType:t,balance:i.get(t),client:o,owner:e.sender,usedIds:s}))}));const u=new Map;u.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[c,l]of e.commands.entries()){if("$Intent"!==l.$kind||l.$Intent.name!==vo)continue;const{type:t,balance:n}=l.$Intent.data;if(0n===n&&"gas"!==t){e.replaceCommand(c,ii.MoveCall({target:"0x2::coin::zero",typeArguments:[t]}));continue}const r=[];if(!u.has(t)){const[n,...i]=a.get(t).map(t=>e.addInput("object",Mi.ObjectRef({objectId:t.coinObjectId,digest:t.digest,version:t.version})));i.length>0&&r.push(ii.MergeCoins(n,i)),u.set(t,n)}r.push(ii.SplitCoins(u.get(t),[e.addInput("pure",Mi.Pure(yn.u64().serialize(n)))])),e.replaceCommand(c,r),e.mapArguments(e=>"Result"===e.$kind&&e.Result===c?{$kind:"NestedResult",NestedResult:[c+r.length-1,0]}:e)}return n()}var ko,So,Eo="Document",jo="FragmentDefinition";class Io extends Error{constructor(e,t,n,r,i,s,a){super(e),this.name="GraphQLError",this.message=e,i&&(this.path=i),t&&(this.nodes=Array.isArray(t)?t:[t]),n&&(this.source=n),r&&(this.positions=r),s&&(this.originalError=s);var o=a;if(!o&&s){var u=s.extensions;u&&"object"==typeof u&&(o=u)}this.extensions=o||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}function To(e){return new Io(`Syntax Error: Unexpected token at ${So} in ${e}`)}function xo(e){if(e.lastIndex=So,e.test(ko))return ko.slice(So,So=e.lastIndex)}var Co=/ +(?=[^\s])/y;function _o(e){for(var t=e.split("\n"),n="",r=0,i=0,s=t.length-1,a=0;a<t.length;a++)Co.lastIndex=0,Co.test(t[a])&&(a&&(!r||Co.lastIndex<r)&&(r=Co.lastIndex),i=i||a,s=a);for(var o=i;o<=s;o++)o!==i&&(n+="\n"),n+=t[o].slice(r).replace(/\\"""/g,'"""');return n}function No(){for(var e=0|ko.charCodeAt(So++);9===e||10===e||13===e||32===e||35===e||44===e||65279===e;e=0|ko.charCodeAt(So++))if(35===e)for(;(e=0|ko.charCodeAt(So++))&&10!==e&&13!==e;);So--}function Ao(){for(var e=So,t=0|ko.charCodeAt(So++);t>=48&&t<=57||t>=65&&t<=90||95===t||t>=97&&t<=122;t=0|ko.charCodeAt(So++));if(e===So-1)throw To("Name");var n=ko.slice(e,--So);return No(),n}function $o(){return{kind:"Name",value:Ao()}}var Do=/(?:"""|(?:[\s\S]*?[^\\])""")/y,Po=/(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;function Bo(e){var t;switch(ko.charCodeAt(So)){case 91:So++,No();for(var n=[];93!==ko.charCodeAt(So);)n.push(Bo(e));return So++,No(),{kind:"ListValue",values:n};case 123:So++,No();for(var r=[];125!==ko.charCodeAt(So);){var i=$o();if(58!==ko.charCodeAt(So++))throw To("ObjectField");No(),r.push({kind:"ObjectField",name:i,value:Bo(e)})}return So++,No(),{kind:"ObjectValue",fields:r};case 36:if(e)throw To("Variable");return So++,{kind:"Variable",name:$o()};case 34:if(34===ko.charCodeAt(So+1)&&34===ko.charCodeAt(So+2)){if(So+=3,null==(t=xo(Do)))throw To("StringValue");return No(),{kind:"StringValue",value:_o(t.slice(0,-3)),block:!0}}var s,a=So;So++;var o=!1;for(s=0|ko.charCodeAt(So++);92===s&&(So++,o=!0)||10!==s&&13!==s&&34!==s&&s;s=0|ko.charCodeAt(So++));if(34!==s)throw To("StringValue");return t=ko.slice(a,So),No(),{kind:"StringValue",value:o?JSON.parse(t):t.slice(1,-1),block:!1};case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var u,c=So++;(u=0|ko.charCodeAt(So++))>=48&&u<=57;);var l=ko.slice(c,--So);if(46===(u=ko.charCodeAt(So))||69===u||101===u){if(null==(t=xo(Po)))throw To("FloatValue");return No(),{kind:"FloatValue",value:l+t}}return No(),{kind:"IntValue",value:l};case 110:if(117===ko.charCodeAt(So+1)&&108===ko.charCodeAt(So+2)&&108===ko.charCodeAt(So+3))return So+=4,No(),{kind:"NullValue"};break;case 116:if(114===ko.charCodeAt(So+1)&&117===ko.charCodeAt(So+2)&&101===ko.charCodeAt(So+3))return So+=4,No(),{kind:"BooleanValue",value:!0};break;case 102:if(97===ko.charCodeAt(So+1)&&108===ko.charCodeAt(So+2)&&115===ko.charCodeAt(So+3)&&101===ko.charCodeAt(So+4))return So+=5,No(),{kind:"BooleanValue",value:!1}}return{kind:"EnumValue",value:Ao()}}function Ro(e){if(40===ko.charCodeAt(So)){var t=[];So++,No();do{var n=$o();if(58!==ko.charCodeAt(So++))throw To("Argument");No(),t.push({kind:"Argument",name:n,value:Bo(e)})}while(41!==ko.charCodeAt(So));return So++,No(),t}}function Uo(e){if(64===ko.charCodeAt(So)){var t=[];do{So++,t.push({kind:"Directive",name:$o(),arguments:Ro(e)})}while(64===ko.charCodeAt(So));return t}}function Vo(){for(var e=0;91===ko.charCodeAt(So);)e++,So++,No();var t={kind:"NamedType",name:$o()};do{if(33===ko.charCodeAt(So)&&(So++,No(),t={kind:"NonNullType",type:t}),e){if(93!==ko.charCodeAt(So++))throw To("NamedType");No(),t={kind:"ListType",type:t}}}while(e--);return t}function Fo(){if(123!==ko.charCodeAt(So++))throw To("SelectionSet");return No(),zo()}function zo(){var e=[];do{if(46===ko.charCodeAt(So)){if(46!==ko.charCodeAt(++So)||46!==ko.charCodeAt(++So))throw To("SelectionSet");switch(So++,No(),ko.charCodeAt(So)){case 64:e.push({kind:"InlineFragment",typeCondition:void 0,directives:Uo(!1),selectionSet:Fo()});break;case 111:110===ko.charCodeAt(So+1)?(So+=2,No(),e.push({kind:"InlineFragment",typeCondition:{kind:"NamedType",name:$o()},directives:Uo(!1),selectionSet:Fo()})):e.push({kind:"FragmentSpread",name:$o(),directives:Uo(!1)});break;case 123:So++,No(),e.push({kind:"InlineFragment",typeCondition:void 0,directives:void 0,selectionSet:zo()});break;default:e.push({kind:"FragmentSpread",name:$o(),directives:Uo(!1)})}}else{var t=$o(),n=void 0;58===ko.charCodeAt(So)&&(So++,No(),n=t,t=$o());var r=Ro(!1),i=Uo(!1),s=void 0;123===ko.charCodeAt(So)&&(So++,No(),s=zo()),e.push({kind:"Field",alias:n,name:t,arguments:r,directives:i,selectionSet:s})}}while(125!==ko.charCodeAt(So));return So++,No(),{kind:"SelectionSet",selections:e}}function qo(){if(No(),40===ko.charCodeAt(So)){var e=[];So++,No();do{var t=void 0;if(34===ko.charCodeAt(So)&&(t=Bo(!0)),36!==ko.charCodeAt(So++))throw To("Variable");var n=$o();if(58!==ko.charCodeAt(So++))throw To("VariableDefinition");No();var r=Vo(),i=void 0;61===ko.charCodeAt(So)&&(So++,No(),i=Bo(!0)),No();var s={kind:"VariableDefinition",variable:{kind:"Variable",name:n},type:r,defaultValue:i,directives:Uo(!0)};t&&(s.description=t),e.push(s)}while(41!==ko.charCodeAt(So));return So++,No(),e}}function Lo(e){var t=$o();if(111!==ko.charCodeAt(So++)||110!==ko.charCodeAt(So++))throw To("FragmentDefinition");No();var n={kind:"FragmentDefinition",name:t,typeCondition:{kind:"NamedType",name:$o()},directives:Uo(!1),selectionSet:Fo()};return e&&(n.description=e),n}function Wo(){var e=[];do{var t=void 0;if(34===ko.charCodeAt(So)&&(t=Bo(!0)),123===ko.charCodeAt(So)){if(t)throw To("Document");So++,No(),e.push({kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:void 0,directives:void 0,selectionSet:zo()})}else{var n=Ao();switch(n){case"fragment":e.push(Lo(t));break;case"query":case"mutation":case"subscription":var r,i=void 0;40!==(r=ko.charCodeAt(So))&&64!==r&&123!==r&&(i=$o());var s={kind:"OperationDefinition",operation:n,name:i,variableDefinitions:qo(),directives:Uo(!1),selectionSet:Fo()};t&&(s.description=t),e.push(s);break;default:throw To("Document")}}}while(So<ko.length);return e}var Go=0,Zo=new Set;function Jo(){function e(e,t){var n,r,i=function(e,t){if(ko=e.body?e.body:e,So=0,No(),!t)return{kind:"Document",definitions:Wo(),loc:{start:0,end:ko.length,startToken:void 0,endToken:void 0,source:{body:ko,name:"graphql.web",locationOffset:{line:1,column:1}}}}}(e).definitions,s=new Set;for(var a of t||[])for(var o of a.definitions)o.kind!==jo||s.has(o)||(i.push(o),s.add(o));return(n=i[0].kind===jo)&&i[0].directives&&(i[0].directives=i[0].directives.filter(e=>"_unmask"!==e.name.value)),{kind:Eo,definitions:i,get loc(){if(!r&&n){var i=e+function(e){try{Go++;var t="";for(var n of e)if(!Zo.has(n)){Zo.add(n);var{loc:r}=n;r&&(t+=r.source.body)}return t}finally{0==--Go&&Zo.clear()}}(t||[]);return{start:0,end:i.length,source:{body:i,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return r},set loc(e){r=e}}}return e.scalar=function(e,t){return t},e.persisted=function(e,t){return{kind:Eo,definitions:t?t.definitions:[],documentId:e}},e}Jo();const Ko=Jo();var Ho,Yo=Object.create,Xo=Object.defineProperty,Qo=Object.getOwnPropertyDescriptor,eu=Object.getOwnPropertyNames,tu=Object.getPrototypeOf,nu=Object.prototype.hasOwnProperty,ru=(Ho=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Ho,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):Ho),iu=(e,t,n)=>(n=null!=e?Yo(tu(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of eu(t))!nu.call(e,i)&&i!==n&&Xo(e,i,{get:()=>t[i],enumerable:!(r=Qo(t,i))||r.enumerable});return e})(e&&e.__esModule?n:Xo(n,"default",{value:e,enumerable:!0}),e)),su=((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))((e,t)=>{!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:ru("buffer").Buffer}catch{}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function o(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function u(e,t,r,i){for(var s=0,a=0,o=Math.min(e.length,r),u=t;u<o;u++){var c=e.charCodeAt(u)-48;s*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),s+=a}return s}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=o(e,t,r)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=o(e,t,r)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,a=s%r,o=Math.min(s,s-a)+n,c=0,l=n;l<o;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],u=(16777215&(o<<i|s)).toString(16);s=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==s||a!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(l).toString(e);r=(f=f.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,u=a/67108864|0;n.words[0]=o;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,h=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=h;p++){var f=c-p|0;l+=(a=(i=0|e.words[f])*(s=0|t.words[p])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===s?(n<e.length&&(e[n++]=a>>24&255),r=0,s=0):(r=a>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===s?(n>=0&&(e[n--]=a>>24&255),r=0,s=0):(r=a>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return!(8191&t)&&(n+=13,t>>>=13),!(127&t)&&(n+=7,t>>>=7),!(15&t)&&(n+=4,t>>>=4),!(3&t)&&(n+=2,t>>>=2),!(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,a=0;a<r.length;a++)s=(t=(0|n.words[a])-(0|r.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<n.length;a++)s=(t=(0|n.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,s,a=e.words,o=t.words,u=n.words,c=0,l=0|a[0],d=8191&l,h=l>>>13,p=0|a[1],f=8191&p,m=p>>>13,g=0|a[2],y=8191&g,v=g>>>13,w=0|a[3],b=8191&w,M=w>>>13,O=0|a[4],k=8191&O,S=O>>>13,E=0|a[5],j=8191&E,I=E>>>13,T=0|a[6],x=8191&T,C=T>>>13,_=0|a[7],N=8191&_,A=_>>>13,$=0|a[8],D=8191&$,P=$>>>13,B=0|a[9],R=8191&B,U=B>>>13,V=0|o[0],F=8191&V,z=V>>>13,q=0|o[1],L=8191&q,W=q>>>13,G=0|o[2],Z=8191&G,J=G>>>13,K=0|o[3],H=8191&K,Y=K>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],ue=8191&oe,ce=oe>>>13,le=0|o[8],de=8191&le,he=le>>>13,pe=0|o[9],fe=8191&pe,me=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(h,F)|0))<<13)|0;c=((s=Math.imul(h,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(f,F),i=(i=Math.imul(f,z))+Math.imul(m,F)|0,s=Math.imul(m,z);var ye=(c+(r=r+Math.imul(d,L)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,L)|0))<<13)|0;c=((s=s+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(v,F)|0,s=Math.imul(v,z),r=r+Math.imul(f,L)|0,i=(i=i+Math.imul(f,W)|0)+Math.imul(m,L)|0,s=s+Math.imul(m,W)|0;var ve=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(M,F)|0,s=Math.imul(M,z),r=r+Math.imul(y,L)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(v,L)|0,s=s+Math.imul(v,W)|0,r=r+Math.imul(f,Z)|0,i=(i=i+Math.imul(f,J)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,J)|0;var we=(c+(r=r+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(h,H)|0))<<13)|0;c=((s=s+Math.imul(h,Y)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(S,F)|0,s=Math.imul(S,z),r=r+Math.imul(b,L)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(M,L)|0,s=s+Math.imul(M,W)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(f,H)|0,i=(i=i+Math.imul(f,Y)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,Y)|0;var be=(c+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(I,F)|0,s=Math.imul(I,z),r=r+Math.imul(k,L)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(S,L)|0,s=s+Math.imul(S,W)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,J)|0,r=r+Math.imul(y,H)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,H)|0,s=s+Math.imul(v,Y)|0,r=r+Math.imul(f,Q)|0,i=(i=i+Math.imul(f,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var Me=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(C,F)|0,s=Math.imul(C,z),r=r+Math.imul(j,L)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(I,L)|0,s=s+Math.imul(I,W)|0,r=r+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,H)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(M,H)|0,s=s+Math.imul(M,Y)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,ee)|0,r=r+Math.imul(f,ne)|0,i=(i=i+Math.imul(f,re)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,re)|0;var Oe=(c+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(h,se)|0))<<13)|0;c=((s=s+Math.imul(h,ae)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(A,F)|0,s=Math.imul(A,z),r=r+Math.imul(x,L)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(C,L)|0,s=s+Math.imul(C,W)|0,r=r+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,H)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,Y)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(v,ne)|0,s=s+Math.imul(v,re)|0,r=r+Math.imul(f,se)|0,i=(i=i+Math.imul(f,ae)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,ae)|0;var ke=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((s=s+Math.imul(h,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,z))+Math.imul(P,F)|0,s=Math.imul(P,z),r=r+Math.imul(N,L)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(A,L)|0,s=s+Math.imul(A,W)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,J)|0,r=r+Math.imul(j,H)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(I,H)|0,s=s+Math.imul(I,Y)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(M,ne)|0,s=s+Math.imul(M,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,ae)|0,r=r+Math.imul(f,ue)|0,i=(i=i+Math.imul(f,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Se=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(U,F)|0,s=Math.imul(U,z),r=r+Math.imul(D,L)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(P,L)|0,s=s+Math.imul(P,W)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,J)|0,r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(C,H)|0,s=s+Math.imul(C,Y)|0,r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(S,ne)|0,s=s+Math.imul(S,re)|0,r=r+Math.imul(b,se)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,ae)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,ce)|0,r=r+Math.imul(f,de)|0,i=(i=i+Math.imul(f,he)|0)+Math.imul(m,de)|0,s=s+Math.imul(m,he)|0;var Ee=(c+(r=r+Math.imul(d,fe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(h,fe)|0))<<13)|0;c=((s=s+Math.imul(h,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,L),i=(i=Math.imul(R,W))+Math.imul(U,L)|0,s=Math.imul(U,W),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,r=r+Math.imul(N,H)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,Y)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(I,ne)|0,s=s+Math.imul(I,re)|0,r=r+Math.imul(k,se)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,ae)|0,r=r+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(v,de)|0,s=s+Math.imul(v,he)|0;var je=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(R,Z),i=(i=Math.imul(R,J))+Math.imul(U,Z)|0,s=Math.imul(U,J),r=r+Math.imul(D,H)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(P,H)|0,s=s+Math.imul(P,Y)|0,r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(C,ne)|0,s=s+Math.imul(C,re)|0,r=r+Math.imul(j,se)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(S,ue)|0,s=s+Math.imul(S,ce)|0,r=r+Math.imul(b,de)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(M,de)|0,s=s+Math.imul(M,he)|0;var Ie=(c+(r=r+Math.imul(y,fe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(v,fe)|0))<<13)|0;c=((s=s+Math.imul(v,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,Y))+Math.imul(U,H)|0,s=Math.imul(U,Y),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(A,ne)|0,s=s+Math.imul(A,re)|0,r=r+Math.imul(x,se)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,ae)|0,r=r+Math.imul(j,ue)|0,i=(i=i+Math.imul(j,ce)|0)+Math.imul(I,ue)|0,s=s+Math.imul(I,ce)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(S,de)|0,s=s+Math.imul(S,he)|0;var Te=(c+(r=r+Math.imul(b,fe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(M,fe)|0))<<13)|0;c=((s=s+Math.imul(M,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(R,Q),i=(i=Math.imul(R,ee))+Math.imul(U,Q)|0,s=Math.imul(U,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(P,ne)|0,s=s+Math.imul(P,re)|0,r=r+Math.imul(N,se)|0,i=(i=i+Math.imul(N,ae)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,ae)|0,r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(C,ue)|0,s=s+Math.imul(C,ce)|0,r=r+Math.imul(j,de)|0,i=(i=i+Math.imul(j,he)|0)+Math.imul(I,de)|0,s=s+Math.imul(I,he)|0;var xe=(c+(r=r+Math.imul(k,fe)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(S,fe)|0))<<13)|0;c=((s=s+Math.imul(S,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(R,ne),i=(i=Math.imul(R,re))+Math.imul(U,ne)|0,s=Math.imul(U,re),r=r+Math.imul(D,se)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,ae)|0,r=r+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(C,de)|0,s=s+Math.imul(C,he)|0;var Ce=(c+(r=r+Math.imul(j,fe)|0)|0)+((8191&(i=(i=i+Math.imul(j,me)|0)+Math.imul(I,fe)|0))<<13)|0;c=((s=s+Math.imul(I,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(R,se),i=(i=Math.imul(R,ae))+Math.imul(U,se)|0,s=Math.imul(U,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(P,ue)|0,s=s+Math.imul(P,ce)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var _e=(c+(r=r+Math.imul(x,fe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(C,fe)|0))<<13)|0;c=((s=s+Math.imul(C,me)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,ue),i=(i=Math.imul(R,ce))+Math.imul(U,ue)|0,s=Math.imul(U,ce),r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Ne=(c+(r=r+Math.imul(N,fe)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(A,fe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(R,de),i=(i=Math.imul(R,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Ae=(c+(r=r+Math.imul(D,fe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(P,fe)|0))<<13)|0;c=((s=s+Math.imul(P,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863;var $e=(c+(r=Math.imul(R,fe))|0)+((8191&(i=(i=Math.imul(R,me))+Math.imul(U,fe)|0))<<13)|0;return c=((s=Math.imul(U,me))+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,u[0]=ge,u[1]=ye,u[2]=ve,u[3]=we,u[4]=be,u[5]=Me,u[6]=Oe,u[7]=ke,u[8]=Se,u[9]=Ee,u[10]=je,u[11]=Ie,u[12]=Te,u[13]=xe,u[14]=Ce,u[15]=_e,u[16]=Ne,u[17]=Ae,u[18]=$e,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var a=i;i=0;for(var o=67108863&r,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,d=(0|e.words[l])*(0|t.words[c]),h=67108863&d;o=67108863&(h=h+o|0),i+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[s]=o,r=a,a=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function y(e,t,n){return g(e,t,n)}Math.imul||(m=f),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?f(this,e,t):n<1024?g(this,e,t):y(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var s=n.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(n=n.mul(s));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,u=(0|this.words[t])-o<<r;this.words[t]=u|a,a=o>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0!==a)if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-s|d>>>s,l=d&o}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,s=e.length+r;this._expand(s);var a,o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+o;var u=(0|e.words[i])*t;o=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)o=(a=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&a;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),s=e,a=0|s.words[s.length-1];0!==(n=26-this._countBits(a))&&(s=s.ushln(n),r.iushln(n),a=0|s.words[s.length-1]);var o,u=r.length-s.length;if("mod"!==t){(o=new i(null)).length=u+1,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}var l=r.clone()._ishlnsubmul(s,1,u);0===l.negative&&(r=l,o&&(o.words[u]=1));for(var d=u-1;d>=0;d--){var h=67108864*(0|r.words[s.length+d])+(0|r.words[s.length+d-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(s,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(s,1,d),r.isZero()||(r.negative^=1);o&&(o.words[d]=h)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,a,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new i(1),a=new i(0),o=new i(0),u=new i(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0===(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(l),a.isub(d)),s.iushrn(1),a.iushrn(1);for(var f=0,m=1;0===(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(l),u.isub(d)),o.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o),a.isub(u)):(r.isub(t),o.isub(s),u.isub(a))}return{a:o,b:u,gcd:r.iushln(c)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,s=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var a=new i(1),o=new i(0),u=s.clone();r.cmpn(1)>0&&s.cmpn(1)>0;){for(var c=0,l=1;0===(r.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,h=1;0===(s.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(s.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);r.cmp(s)>=0?(r.isub(s),a.isub(o)):(s.isub(r),o.isub(a))}return(t=0===r.cmpn(1)?a:o).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,a=r;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},r(b,w),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(M,w),r(O,w),r(k,w),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new M;else if("p192"===e)t=new O;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return v[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var s=this.m.subn(1),a=0;!s.isZero()&&0===s.andln(1);)a++,s.iushrn(1);n(!s.isZero());var o=new i(1).toRed(this),u=o.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,s),h=this.pow(e,s.addn(1).iushrn(1)),p=this.pow(e,s),f=a;0!==p.cmp(o);){for(var m=p,g=0;0!==m.cmp(o);g++)m=m.redSqr();n(g<f);var y=this.pow(d,new i(1).iushln(f-g-1));h=h.redMul(y),d=y.redSqr(),p=p.redMul(d),f=g}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var s=n[0],a=0,o=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;(s!==n[0]&&(s=this.sqr(s)),0!==d||0!==a)?(a<<=1,a|=d,(4===++o||0===r&&0===l)&&(s=this.mul(s,n[a]),o=0,a=0)):o=0}u=26}return s},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new E(e)},r(E,S),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)}),au={REQUEST_PARAMS:"requestParams",METHOD_NAME:"methodName"},ou=(e=class extends Error{constructor(e,t,n){super(e),this.code=t,this.details=n,this.name=this.constructor.name}toJSON(){return{name:this.name,message:this.message,code:this.code,details:this.details}}toString(){return JSON.stringify(this.toJSON())}static isErrorCode(t,n){return t instanceof e&&t.code===n}},e.DETAILS_KEYS=au,e),uu=class extends ou{constructor(e,t,n){super(e,t||"UnknownError",n)}static isCommonErrorCode(e,t){return this.isErrorCode(e,t)}},cu=(e,t,n)=>{throw new uu(t,e,n)};function lu(e){return Date.parse((new Date).toString())+e}var du,hu,pu=class{constructor(e,t=0){this.overdue_time=t,this.value=e}isValid(){return null!==this.value&&(0===this.overdue_time||!(Date.parse((new Date).toString())>this.overdue_time))}},fu=9e15,mu=1e9,gu="0123456789abcdef",yu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",vu="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",wu={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-fu,maxE:fu,crypto:!1},bu=!0,Mu="[DecimalError] ",Ou=Mu+"Invalid argument: ",ku=Mu+"Precision limit exceeded",Su=Mu+"crypto unavailable",Eu="[object Decimal]",ju=Math.floor,Iu=Math.pow,Tu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Cu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nu=1e7,Au=yu.length-1,$u=vu.length-1,Du={toStringTag:Eu};function Pu(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=Zu(n)),s+=r;(n=7-(r=(a=e[t])+"").length)&&(s+=Zu(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function Bu(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ou+e)}function Ru(e,t,n,r){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=Iu(10,7-t),o=e[i]%s|0,null==r?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):a=(n<4&&o+1==s||n>3&&o+1==s/2)&&(e[i+1]/s/100|0)==Iu(10,t-2)-1||(o==s/2||0==o)&&!(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(r||n<4)&&9999==o||!r&&n>3&&4999==o):a=((r||n<4)&&o+1==s||!r&&n>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==Iu(10,t-3)-1,a}function Uu(e,t,n){for(var r,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=gu.indexOf(e.charAt(a++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Du.absoluteValue=Du.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Fu(e)},Du.ceil=function(){return Fu(new this.constructor(this),this.e+1,2)},Du.clampedTo=Du.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Ou+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Du.comparedTo=Du.cmp=function(e){var t,n,r,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,c=e.s;if(!a||!o)return u&&c?u!==c?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-c:0;if(u!==c)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,n=(r=a.length)<(i=o.length)?r:i;t<n;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Du.cosine=Du.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/nc(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=tc(e,1,t.times(i),new e(1));for(var s=n;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,rc(r,n)),r.precision=e,r.rounding=t,Fu(2==hu||3==hu?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Du.cubeRoot=Du.cbrt=function(){var e,t,n,r,i,s,a,o,u,c,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(bu=!1,(s=l.s*Iu(l.s*l,1/3))&&Math.abs(s)!=1/0?r=new d(s.toString()):(n=Pu(l.d),(s=((e=l.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Iu(n,1/3),e=ju((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?n="5e"+e:n=(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e,(r=new d(n)).s=l.s),a=(e=d.precision)+3;;)if(c=(u=(o=r).times(o).times(o)).plus(l),r=Vu(c.plus(l).times(o),c.plus(u),a+2,1),Pu(o.d).slice(0,a)===(n=Pu(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){(!+n||!+n.slice(1)&&"5"==n.charAt(0))&&(Fu(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(Fu(o,e+1,0),o.times(o).times(o).eq(l))){r=o;break}a+=4,i=1}return bu=!0,Fu(r,e,d.rounding,t)},Du.decimalPlaces=Du.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-ju(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Du.dividedBy=Du.div=function(e){return Vu(this,new this.constructor(e))},Du.dividedToIntegerBy=Du.divToInt=function(e){var t=this.constructor;return Fu(Vu(this,new t(e),0,1,1),t.precision,t.rounding)},Du.equals=Du.eq=function(e){return 0===this.cmp(e)},Du.floor=function(){return Fu(new this.constructor(this),this.e+1,3)},Du.greaterThan=Du.gt=function(e){return this.cmp(e)>0},Du.greaterThanOrEqualTo=Du.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Du.hyperbolicCosine=Du.cosh=function(){var e,t,n,r,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;n=a.precision,r=a.rounding,a.precision=n+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/nc(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=tc(a,1,s.times(t),new a(1),!0);for(var u,c=e,l=new a(8);c--;)u=s.times(s),s=o.minus(u.times(l.minus(u.times(l))));return Fu(s,a.precision=n,a.rounding=r,!0)},Du.hyperbolicSine=Du.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=tc(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=tc(s,2,i=i.times(1/nc(5,e)),i,!0);for(var a,o=new s(5),u=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(c))))}return s.precision=t,s.rounding=n,Fu(i,t,n,!0)},Du.hyperbolicTangent=Du.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Vu(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Du.inverseCosine=Du.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return-1!==n?0===n?e.isNeg()?Wu(t,r,i):new t(0):new t(NaN):e.isZero()?Wu(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))},Du.inverseHyperbolicCosine=Du.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,bu=!1,n=n.times(n).minus(1).sqrt().plus(n),bu=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Du.inverseHyperbolicSine=Du.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,bu=!1,n=n.times(n).plus(1).sqrt().plus(n),bu=!0,r.precision=e,r.rounding=t,n.ln())},Du.inverseHyperbolicTangent=Du.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Fu(new s(i),e,t,!0):(s.precision=n=r-i.e,i=Vu(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},Du.inverseSine=Du.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?((e=Wu(s,n+4,r).times(.5)).s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Du.inverseTangent=Du.atan=function(){var e,t,n,r,i,s,a,o,u,c=this,l=c.constructor,d=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&d+4<=$u)return(a=Wu(l,d+4,h).times(.25)).s=c.s,a}else{if(!c.s)return new l(NaN);if(d+4<=$u)return(a=Wu(l,d+4,h).times(.5)).s=c.s,a}for(l.precision=o=d+10,l.rounding=1,e=n=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(bu=!1,t=Math.ceil(o/7),r=1,u=c.times(c),a=new l(c),i=c;-1!==e;)if(i=i.times(u),s=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),bu=!0,Fu(a,l.precision=d,l.rounding=h,!0)},Du.isFinite=function(){return!!this.d},Du.isInteger=Du.isInt=function(){return!!this.d&&ju(this.e/7)>this.d.length-2},Du.isNaN=function(){return!this.s},Du.isNegative=Du.isNeg=function(){return this.s<0},Du.isPositive=Du.isPos=function(){return this.s>0},Du.isZero=function(){return!!this.d&&0===this.d[0]},Du.lessThan=Du.lt=function(e){return this.cmp(e)<0},Du.lessThanOrEqualTo=Du.lte=function(e){return this.cmp(e)<1},Du.logarithm=Du.log=function(e){var t,n,r,i,s,a,o,u,c=this,l=c.constructor,d=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}if(bu=!1,a=Xu(c,o=d+5),r=t?Lu(l,o+10):Xu(e,o),Ru((u=Vu(a,r,o,1)).d,i=d,h))do{if(a=Xu(c,o+=10),r=t?Lu(l,o+10):Xu(e,o),u=Vu(a,r,o,1),!s){+Pu(u.d).slice(i+1,i+15)+1==1e14&&(u=Fu(u,d+1,0));break}}while(Ru(u.d,i+=10,h));return bu=!0,Fu(u,d,h)},Du.minus=Du.sub=function(e){var t,n,r,i,s,a,o,u,c,l,d,h,p=this,f=p.constructor;if(e=new f(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new f(e.d||p.s!==e.s?p:NaN):e=new f(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,h=e.d,o=f.precision,u=f.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new f(3===u?-0:0);e=new f(p)}return bu?Fu(e,o,u):e}if(n=ju(e.e/7),l=ju(p.e/7),c=c.slice(),s=l-n){for((d=s<0)?(t=c,s=-s,a=h.length):(t=h,n=l,a=c.length),s>(r=Math.max(Math.ceil(o/7),a)+2)&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(a=h.length))&&(a=r),r=0;r<a;r++)if(c[r]!=h[r]){d=c[r]<h[r];break}s=0}for(d&&(t=c,c=h,h=t,e.s=-e.s),a=c.length,r=h.length-a;r>0;--r)c[a++]=0;for(r=h.length;r>s;){if(c[--r]<h[r]){for(i=r;i&&0===c[--i];)c[i]=Nu-1;--c[i],c[r]+=Nu}c[r]-=h[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=qu(c,n),bu?Fu(e,o,u):e):new f(3===u?-0:0)},Du.modulo=Du.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Fu(new r(n),r.precision,r.rounding):(bu=!1,9==r.modulo?(t=Vu(n,e.abs(),0,3,1)).s*=e.s:t=Vu(n,e,0,r.modulo,1),t=t.times(e),bu=!0,n.minus(t))},Du.naturalExponential=Du.exp=function(){return Yu(this)},Du.naturalLogarithm=Du.ln=function(){return Xu(this)},Du.negated=Du.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Fu(e)},Du.plus=Du.add=function(e){var t,n,r,i,s,a,o,u,c,l,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,l=e.d,o=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(d)),bu?Fu(e,o,u):e;if(s=ju(d.e/7),r=ju(e.e/7),c=c.slice(),i=s-r){for(i<0?(n=c,i=-i,a=l.length):(n=l,r=s,a=c.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=l.length)<0&&(i=a,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/Nu|0,c[i]%=Nu;for(t&&(c.unshift(t),++r),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=qu(c,r),bu?Fu(e,o,u):e},Du.precision=Du.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Ou+e);return n.d?(t=Gu(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Du.round=function(){var e=this,t=e.constructor;return Fu(new t(e),e.e+1,t.rounding)},Du.sine=Du.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:tc(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:0|n,t=t.times(1/nc(5,n)),t=tc(e,2,t,t);for(var i,s=new e(5),a=new e(16),o=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(r,rc(r,n)),r.precision=e,r.rounding=t,Fu(hu>2?n.neg():n,e,t,!0)):new r(NaN)},Du.squareRoot=Du.sqrt=function(){var e,t,n,r,i,s,a=this,o=a.d,u=a.e,c=a.s,l=a.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(bu=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=Pu(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=ju((u+1)/2)-(u<0||u%2),c==1/0?t="5e"+u:t=(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u,r=new l(t)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(s=r).plus(Vu(a,s,n+2,1)).times(.5),Pu(s.d).slice(0,n)===(t=Pu(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(Fu(r,u+1,1),e=!r.times(r).eq(a));break}if(!i&&(Fu(s,u+1,0),s.times(s).eq(a))){r=s;break}n+=4,i=1}return bu=!0,Fu(r,u,l.rounding,e)},Du.tangent=Du.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=Vu(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Fu(2==hu||4==hu?n.neg():n,e,t,!0)):new r(NaN)},Du.times=Du.mul=function(e){var t,n,r,i,s,a,o,u,c,l=this,d=l.constructor,h=l.d,p=(e=new d(e)).d;if(e.s*=l.s,!(h&&h[0]&&p&&p[0]))return new d(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(n=ju(l.e/7)+ju(e.e/7),(u=h.length)<(c=p.length)&&(s=h,h=p,p=s,a=u,u=c,c=a),s=[],r=a=u+c;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)o=s[i]+p[r]*h[i-r-1]+t,s[i--]=o%Nu|0,t=o/Nu|0;s[i]=(s[i]+t)%Nu|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=qu(s,n),bu?Fu(e,d.precision,d.rounding):e},Du.toBinary=function(e,t){return ic(this,2,e,t)},Du.toDecimalPlaces=Du.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Bu(e,0,mu),void 0===t?t=r.rounding:Bu(t,0,8),Fu(n,e+n.e+1,t))},Du.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=zu(r,!0):(Bu(e,0,mu),void 0===t?t=i.rounding:Bu(t,0,8),n=zu(r=Fu(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Du.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?n=zu(i):(Bu(e,0,mu),void 0===t?t=s.rounding:Bu(t,0,8),n=zu(r=Fu(new s(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Du.toFraction=function(e){var t,n,r,i,s,a,o,u,c,l,d,h,p=this,f=p.d,m=p.constructor;if(!f)return new m(p);if(c=n=new m(1),r=u=new m(0),a=(s=(t=new m(r)).e=Gu(f)-p.e-1)%7,t.d[0]=Iu(10,a<0?7+a:a),null==e)e=s>0?t:c;else{if(!(o=new m(e)).isInt()||o.lt(c))throw Error(Ou+o);e=o.gt(t)?s>0?t:c:o}for(bu=!1,o=new m(Pu(f)),l=m.precision,m.precision=s=7*f.length*2;d=Vu(o,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=o.minus(d.times(i)),o=i;return i=Vu(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,h=Vu(c,r,s,1).minus(p).abs().cmp(Vu(u,n,s,1).minus(p).abs())<1?[c,r]:[u,n],m.precision=l,bu=!0,h},Du.toHexadecimal=Du.toHex=function(e,t){return ic(this,16,e,t)},Du.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Bu(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(bu=!1,n=Vu(n,e,0,t,1).times(e),bu=!0,Fu(n)):(e.s=n.s,n=e),n},Du.toNumber=function(){return+this},Du.toOctal=function(e,t){return ic(this,8,e,t)},Du.toPower=Du.pow=function(e){var t,n,r,i,s,a,o=this,u=o.constructor,c=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(Iu(+o,c));if((o=new u(o)).eq(1))return o;if(r=u.precision,s=u.rounding,e.eq(1))return Fu(o,r,s);if((t=ju(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=Ju(u,o,n,r),e.s<0?new u(1).div(i):Fu(i,r,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(!(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(n=Iu(+o,c))&&isFinite(n)?new u(n+"").e:ju(c*(Math.log("0."+Pu(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(bu=!1,u.rounding=o.s=1,n=Math.min(12,(t+"").length),(i=Yu(e.times(Xu(o,r+n)),r)).d&&(Ru((i=Fu(i,r+5,1)).d,r,s)&&(t=r+10,+Pu((i=Fu(Yu(e.times(Xu(o,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Fu(i,r+1,0)))),i.s=a,bu=!0,u.rounding=s,Fu(i,r,s))},Du.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=zu(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Bu(e,1,mu),void 0===t?t=i.rounding:Bu(t,0,8),n=zu(r=Fu(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Du.toSignificantDigits=Du.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Bu(e,1,mu),void 0===t?t=n.rounding:Bu(t,0,8)),Fu(new n(this),e,t)},Du.toString=function(){var e=this,t=e.constructor,n=zu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Du.truncated=Du.trunc=function(){return Fu(new this.constructor(this),this.e+1,1)},Du.valueOf=Du.toJSON=function(){var e=this,t=e.constructor,n=zu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var Vu=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a,o,u){var c,l,d,h,p,f,m,g,y,v,w,b,M,O,k,S,E,j,I,T,x=r.constructor,C=r.s==i.s?1:-1,_=r.d,N=i.d;if(!(_&&_[0]&&N&&N[0]))return new x(r.s&&i.s&&(_?!N||_[0]!=N[0]:N)?_&&0==_[0]||!N?0*C:C/0:NaN);for(u?(p=1,l=r.e-i.e):(u=Nu,p=7,l=ju(r.e/p)-ju(i.e/p)),I=N.length,E=_.length,v=(y=new x(C)).d=[],d=0;N[d]==(_[d]||0);d++);if(N[d]>(_[d]||0)&&l--,null==s?(O=s=x.precision,a=x.rounding):O=o?s+(r.e-i.e)+1:s,O<0)v.push(1),f=!0;else{if(O=O/p+2|0,d=0,1==I){for(h=0,N=N[0],O++;(d<E||h)&&O--;d++)k=h*u+(_[d]||0),v[d]=k/N|0,h=k%N|0;f=h||d<E}else{for((h=u/(N[0]+1)|0)>1&&(N=e(N,h,u),_=e(_,h,u),I=N.length,E=_.length),S=I,b=(w=_.slice(0,I)).length;b<I;)w[b++]=0;(T=N.slice()).unshift(0),j=N[0],N[1]>=u/2&&++j;do{h=0,(c=t(N,w,I,b))<0?(M=w[0],I!=b&&(M=M*u+(w[1]||0)),(h=M/j|0)>1?(h>=u&&(h=u-1),1==(c=t(m=e(N,h,u),w,g=m.length,b=w.length))&&(h--,n(m,I<g?T:N,g,u))):(0==h&&(c=h=1),m=N.slice()),(g=m.length)<b&&m.unshift(0),n(w,m,b,u),-1==c&&((c=t(N,w,I,b=w.length))<1&&(h++,n(w,I<b?T:N,b,u))),b=w.length):0===c&&(h++,w=[0]),v[d++]=h,c&&w[0]?w[b++]=_[S]||0:(w=[_[S]],b=1)}while((S++<E||void 0!==w[0])&&O--);f=void 0!==w[0]}v[0]||v.shift()}if(1==p)y.e=l,du=f;else{for(d=1,h=v[0];h>=10;h/=10)d++;y.e=d+l*p-1,Fu(y,o?s+y.e+1:s,a,f)}return y}}();function Fu(e,t,n,r){var i,s,a,o,u,c,l,d,h,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,u=(l=d[h=0])/Iu(10,i-a-1)%10|0;else if((h=Math.ceil((s+1)/7))>=(o=d.length)){if(!r)break e;for(;o++<=h;)d.push(0);l=u=0,i=1,a=(s%=7)-7+1}else{for(l=o=d[h],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:l/Iu(10,i-a-1)%10|0}if(r=r||t<0||void 0!==d[h+1]||(a<0?l:l%Iu(10,i-a-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(s>0?a>0?l/Iu(10,i-a):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=Iu(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==s?(d.length=h,o=1,h--):(d.length=h+1,o=Iu(10,7-s),d[h]=a>0?(l/Iu(10,i-a)%Iu(10,a)|0)*o:0),c)for(;;){if(0==h){for(s=1,a=d[0];a>=10;a/=10)s++;for(a=d[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,d[0]==Nu&&(d[0]=1));break}if(d[h]+=o,d[h]!=Nu)break;d[h--]=0,o=1}for(s=d.length;0===d[--s];)d.pop()}return bu&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function zu(e,t,n){if(!e.isFinite())return Qu(e);var r,i=e.e,s=Pu(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Zu(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+Zu(-i-1)+s,n&&(r=n-a)>0&&(s+=Zu(r))):i>=a?(s+=Zu(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Zu(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Zu(r))),s}function qu(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function Lu(e,t,n){if(t>Au)throw bu=!0,n&&(e.precision=n),Error(ku);return Fu(new e(yu),t,1,!0)}function Wu(e,t,n){if(t>$u)throw Error(ku);return Fu(new e(vu),t,n,!0)}function Gu(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Zu(e){for(var t="";e--;)t+="0";return t}function Ju(e,t,n,r){var i,s=new e(1),a=Math.ceil(r/7+4);for(bu=!1;;){if(n%2&&(sc((s=s.times(t)).d,a)&&(i=!0)),0===(n=ju(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}sc((t=t.times(t)).d,a)}return bu=!0,s}function Ku(e){return 1&e.d[e.d.length-1]}function Hu(e,t,n){for(var r,i,s=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){s=i;break}((r=s.cmp(i))===n||0===r&&s.s===n)&&(s=i)}return s}function Yu(e,t){var n,r,i,s,a,o,u,c=0,l=0,d=0,h=e.constructor,p=h.rounding,f=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(bu=!1,u=f):u=t,o=new h(.03125);e.e>-2;)e=e.times(o),d+=5;for(u+=r=Math.log(Iu(2,d))/Math.LN10*2+5|0,n=s=a=new h(1),h.precision=u;;){if(s=Fu(s.times(e),u,1),n=n.times(++l),Pu((o=a.plus(Vu(s,n,u,1))).d).slice(0,u)===Pu(a.d).slice(0,u)){for(i=d;i--;)a=Fu(a.times(a),u,1);if(null!=t)return h.precision=f,a;if(!(c<3&&Ru(a.d,u-r,p,c)))return Fu(a,h.precision=f,p,bu=!0);h.precision=u+=10,n=s=o=new h(1),l=0,c++}a=o}}function Xu(e,t){var n,r,i,s,a,o,u,c,l,d,h,p=1,f=e,m=f.d,g=f.constructor,y=g.rounding,v=g.precision;if(f.s<0||!m||!m[0]||!f.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=f.s?NaN:m?0:f);if(null==t?(bu=!1,l=v):l=t,g.precision=l+=10,r=(n=Pu(m)).charAt(0),!(Math.abs(s=f.e)<15e14))return c=Lu(g,l+2,v).times(s+""),f=Xu(new g(r+"."+n.slice(1)),l-10).plus(c),g.precision=v,null==t?Fu(f,v,y,bu=!0):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Pu((f=f.times(e)).d)).charAt(0),p++;for(s=f.e,r>1?(f=new g("0."+n),s++):f=new g(r+"."+n.slice(1)),d=f,u=a=f=Vu(f.minus(1),f.plus(1),l,1),h=Fu(f.times(f),l,1),i=3;;){if(a=Fu(a.times(h),l,1),Pu((c=u.plus(Vu(a,new g(i),l,1))).d).slice(0,l)===Pu(u.d).slice(0,l)){if(u=u.times(2),0!==s&&(u=u.plus(Lu(g,l+2,v).times(s+""))),u=Vu(u,new g(p),l,1),null!=t)return g.precision=v,u;if(!Ru(u.d,l-10,y,o))return Fu(u,g.precision=v,y,bu=!0);g.precision=l+=10,c=a=f=Vu(d.minus(1),d.plus(1),l,1),h=Fu(f.times(f),l,1),i=o=1}u=c,i+=2}}function Qu(e){return String(e.s*e.s/0)}function ec(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),bu&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function tc(e,t,n,r,i){var s,a,o,u,c=e.precision,l=Math.ceil(c/7);for(bu=!1,u=n.times(n),o=new e(r);;){if(a=Vu(o.times(u),new e(t++*t++),c,1),o=i?r.plus(a):r.minus(a),r=Vu(a.times(u),new e(t++*t++),c,1),void 0!==(a=o.plus(r)).d[l]){for(s=l;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=r,r=a,a=s}return bu=!0,a.d.length=l+1,a}function nc(e,t){for(var n=e;--t;)n*=e;return n}function rc(e,t){var n,r=t.s<0,i=Wu(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return hu=r?4:1,t;if((n=t.divToInt(i)).isZero())hu=r?3:2;else{if((t=t.minus(n.times(i))).lte(s))return hu=Ku(n)?r?2:3:r?4:1,t;hu=Ku(n)?r?1:4:r?3:2}return t.minus(i).abs()}function ic(e,t,n,r){var i,s,a,o,u,c,l,d,h,p=e.constructor,f=void 0!==n;if(f?(Bu(n,1,mu),void 0===r?r=p.rounding:Bu(r,0,8)):(n=p.precision,r=p.rounding),e.isFinite()){for(f?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(l=zu(e)).indexOf("."))>=0&&(l=l.replace(".",""),(h=new p(1)).e=l.length-a,h.d=Uu(zu(h),10,i),h.e=h.d.length),s=u=(d=Uu(l,10,i)).length;0==d[--u];)d.pop();if(d[0]){if(a<0?s--:((e=new p(e)).d=d,e.e=s,d=(e=Vu(e,h,n,r,0,i)).d,s=e.e,c=du),a=d[n],o=i/2,c=c||void 0!==d[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(e.s<0?3:2)):a>o||a===o&&(4===r||c||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,c)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(u=d.length;!d[u-1];--u);for(a=0,l="";a<u;a++)l+=gu.charAt(d[a]);if(f){if(u>1)if(16==t||8==t){for(a=16==t?4:3,--u;u%a;u++)l+="0";for(u=(d=Uu(l,i,t)).length;!d[u-1];--u);for(a=1,l="1.";a<u;a++)l+=gu.charAt(d[a])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s))}else l=f?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=Qu(e);return e.s<0?"-"+l:l}function sc(e,t){if(e.length>t)return e.length=t,!0}function ac(e){return new this(e).abs()}function oc(e){return new this(e).acos()}function uc(e){return new this(e).acosh()}function cc(e,t){return new this(e).plus(t)}function lc(e){return new this(e).asin()}function dc(e){return new this(e).asinh()}function hc(e){return new this(e).atan()}function pc(e){return new this(e).atanh()}function fc(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?Wu(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=Wu(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,n=this.atan(Vu(e,t,s,1)),t=Wu(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Vu(e,t,s,1)):(n=Wu(this,s,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function mc(e){return new this(e).cbrt()}function gc(e){return Fu(e=new this(e),e.e+1,2)}function yc(e,t,n){return new this(e).clamp(t,n)}function vc(e){if(!e||"object"!=typeof e)throw Error(Mu+"Object expected");var t,n,r,i=!0===e.defaults,s=["precision",1,mu,"rounding",0,8,"toExpNeg",-fu,0,"toExpPos",0,fu,"maxE",0,fu,"minE",-fu,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=wu[n]),void 0!==(r=e[n])){if(!(ju(r)===r&&r>=s[t+1]&&r<=s[t+2]))throw Error(Ou+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=wu[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Ou+n+": "+r);if(r){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(Su);this[n]=!0}else this[n]=!1}return this}function wc(e){return new this(e).cos()}function bc(e){return new this(e).cosh()}function Mc(e,t){return new this(e).div(t)}function Oc(e){return new this(e).exp()}function kc(e){return Fu(e=new this(e),e.e+1,3)}function Sc(){var e,t,n=new this(0);for(bu=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return bu=!0,new this(1/0);n=t}return bu=!0,n.sqrt()}function Ec(e){return e instanceof Gc||e&&e.toStringTag===Eu||!1}function jc(e){return new this(e).ln()}function Ic(e,t){return new this(e).log(t)}function Tc(e){return new this(e).log(2)}function xc(e){return new this(e).log(10)}function Cc(){return Hu(this,arguments,-1)}function _c(){return Hu(this,arguments,1)}function Nc(e,t){return new this(e).mod(t)}function Ac(e,t){return new this(e).mul(t)}function $c(e,t){return new this(e).pow(t)}function Dc(e){var t,n,r,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:Bu(e,1,mu),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Su);for(t=crypto.randomBytes(r*=4);s<r;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=r/4}else for(;s<r;)o[s++]=1e7*Math.random()|0;for(e%=7,(r=o[--s])&&e&&(i=Iu(10,7-e),o[s]=(r/i|0)*i);0===o[s];s--)o.pop();if(s<0)n=0,o=[0];else{for(n=-1;0===o[0];n-=7)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=o,a}function Pc(e){return Fu(e=new this(e),e.e+1,this.rounding)}function Bc(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Rc(e){return new this(e).sin()}function Uc(e){return new this(e).sinh()}function Vc(e){return new this(e).sqrt()}function Fc(e,t){return new this(e).sub(t)}function zc(){var e=0,t=arguments,n=new this(t[e]);for(bu=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return bu=!0,Fu(n,this.precision,this.rounding)}function qc(e){return new this(e).tan()}function Lc(e){return new this(e).tanh()}function Wc(e){return Fu(e=new this(e),e.e+1,1)}Du[Symbol.for("nodejs.util.inspect.custom")]=Du.toString,Du[Symbol.toStringTag]="Decimal";var Gc=Du.constructor=function e(t){var n,r,i;function s(e){var t,n,r,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,Ec(e))return i.s=e.s,void(bu?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(bu?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):ec(i,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),_u.test(e)?ec(i,e):function(e,t){var n,r,i,s,a,o,u,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),_u.test(t))return ec(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(xu.test(t))n=16,t=t.toLowerCase();else if(Tu.test(t))n=2;else{if(!Cu.test(t))throw Error(Ou+t);n=8}for((s=t.search(/p/i))>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(o=(t=t.replace(".","")).length)-s,i=Ju(r,new r(n),s,2*s)),s=l=(c=Uu(t,n,Nu)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=qu(c,l),e.d=c,bu=!1,a&&(e=Vu(e,i,4*o)),u&&(e=e.times(Math.abs(u)<54?Iu(2,u):Gc.pow(2,u))),bu=!0,e)}(i,e);if("bigint"===r)return e<0?(e=-e,i.s=-1):i.s=1,ec(i,e.toString());throw Error(Ou+e)}if(s.prototype=Du,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=vc,s.clone=e,s.isDecimal=Ec,s.abs=ac,s.acos=oc,s.acosh=uc,s.add=cc,s.asin=lc,s.asinh=dc,s.atan=hc,s.atanh=pc,s.atan2=fc,s.cbrt=mc,s.ceil=gc,s.clamp=yc,s.cos=wc,s.cosh=bc,s.div=Mc,s.exp=Oc,s.floor=kc,s.hypot=Sc,s.ln=jc,s.log=Ic,s.log10=xc,s.log2=Tc,s.max=Cc,s.min=_c,s.mod=Nc,s.mul=Ac,s.pow=$c,s.random=Dc,s.round=Pc,s.sign=Bc,s.sin=Rc,s.sinh=Uc,s.sqrt=Vc,s.sub=Fc,s.sum=zc,s.tan=qc,s.tanh=Lc,s.trunc=Wc,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(wu);yu=new Gc(yu),vu=new Gc(vu);var Zc=Gc;function Jc(e){return Zc.isDecimal(e)?e:new Zc(void 0===e?0:e)}var Kc="0x2::sui::SUI",Hc=(t=class{static totalBalance(e,t){let n=BigInt(0);return e.forEach(e=>{t===e.coin_type&&(n+=BigInt(e.balance))}),n}static getCoinAssets(e,t){let n=[];return t.forEach(t=>{Qc(t.coin_type)===Qc(e)&&n.push(t)}),n}static isSuiCoin(e){return Xc(e).full_address===Kc}static selectCoinObjectIdGreaterThanOrEqual(e,n,r=[]){let i=t.selectCoinAssetGreaterThanOrEqual(e,n,r);return{object_array:i.selected_coins.map(e=>e.coin_object_id),remain_coins:i.remain_coins,amount_array:i.selected_coins.map(e=>e.balance.toString())}}static selectCoinAssetGreaterThanOrEqual(e,n,r=[]){let i=t.sortByBalance(e.filter(e=>!r.includes(e.coin_object_id))),s=t.calculateTotalBalance(i);if(s<n)return{selected_coins:[],remain_coins:i};if(s===n)return{selected_coins:i,remain_coins:[]};let a=BigInt(0),o=[],u=[...i];for(;a<s;){let e=n-a,t=u.findIndex(t=>t.balance>=e);if(-1!==t){o.push(u[t]),u.splice(t,1);break}let r=u.pop();r.balance>0&&(o.push(r),a+=r.balance)}return{selected_coins:t.sortByBalance(o),remain_coins:t.sortByBalance(u)}}static sortByBalance(e){return e.sort((e,t)=>e.balance<t.balance?-1:e.balance>t.balance?1:0)}static sortByBalanceDes(e){return e.sort((e,t)=>e.balance>t.balance?-1:e.balance<t.balance?0:1)}static calculateTotalBalance(e){return e.reduce((e,t)=>e+t.balance,BigInt(0))}static buildCoinForAmount(e,n,r,i,s=!0,a=!0){let o=t.getCoinAssets(i,n);if(r===BigInt(0))return this.buildZeroValueCoin(n,e,i,s);let u=t.calculateTotalBalance(o);if(u<r)throw new Error(`The amount(${u}) is Insufficient balance for ${i} , expect ${r} `);return this.buildCoin(e,n,o,r,i,s,a)}static buildCoinWithBalance(e,n,r){return e===BigInt(0)&&t.isSuiCoin(n)?r.add(bo({balance:e,useGasCoin:!1})):r.add(bo({balance:e,type:n}))}static buildVectorCoin(e,n,r,i,s,a=!0){if(t.isSuiCoin(s)){return{selected_coins:[],target_coin:e.splitCoins(e.gas,[e.pure.u64(i)]),remain_coins:n,target_coin_amount:i.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}let{original_spited_coin:o,target_coin:u,target_coin_amount:c,remain_coins:l,selected_coins:d}=this.buildSpitTargeCoin(e,i,r,a);return a?{target_coin:e.makeMoveVec({elements:[u]}),selected_coins:d,remain_coins:l,target_coin_amount:c,is_mint_zero_coin:!1,original_spited_coin:o}:{selected_coins:d,target_coin:e.makeMoveVec({elements:d.map(t=>e.object(t))}),remain_coins:l,target_coin_amount:c,is_mint_zero_coin:!1}}static buildOneCoin(e,n,r,i,s=!0){if(t.isSuiCoin(i)){if(0n===r&&n.length>1){let i=t.selectCoinObjectIdGreaterThanOrEqual(n,r);return{selected_coins:i.object_array,target_coin:e.object(i.object_array[0]),remain_coins:i.remain_coins,target_coin_amount:i.amount_array[0],is_mint_zero_coin:!1}}let i=t.selectCoinObjectIdGreaterThanOrEqual(n,r);return{selected_coins:[],target_coin:e.splitCoins(e.gas,[e.pure.u64(r)]),remain_coins:i.remain_coins,target_coin_amount:r.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}return this.buildSpitTargeCoin(e,r,n,s)}static buildSpitTargeCoin(e,n,r,i){let s,a=t.selectCoinObjectIdGreaterThanOrEqual(r,n),o=a.amount_array.reduce((e,t)=>Number(e)+Number(t),0).toString(),u=a.object_array,[c,...l]=u,d=e.object(c),h=d,p=a.amount_array.reduce((e,t)=>Number(e)+Number(t),0).toString();return l.length>0&&e.mergeCoins(d,l.map(t=>e.object(t))),i&&Number(o)>Number(n)&&(h=e.splitCoins(d,[e.pure.u64(n)]),s=d),{original_spited_coin:s,target_coin:h,target_coin_amount:p,remain_coins:a.remain_coins,selected_coins:a.object_array,is_mint_zero_coin:!1}}static buildCoin(e,t,n,r,i,s=!0,a=!0){return s?this.buildVectorCoin(e,t,n,r,i,a):this.buildOneCoin(e,n,r,i,a)}static buildZeroValueCoin(e,t,n,r=!0){let i,s=this.callMintZeroValueCoin(t,n);return i=r?t.makeMoveVec({elements:[s]}):s,{target_coin:i,remain_coins:e,selected_coins:[],is_mint_zero_coin:!0,target_coin_amount:"0"}}static buildCoinForAmountInterval(e,n,r,i,s=!0,a=!0){let o=t.getCoinAssets(i,n);if(r.amount_first===BigInt(0))return o.length>0?this.buildCoin(e,[...n],[...o],r.amount_first,i,s,a):this.buildZeroValueCoin(n,e,i,s);let u=t.calculateTotalBalance(o);if(u>=r.amount_first)return this.buildCoin(e,[...n],[...o],r.amount_first,i,s,a);if(u<r.amount_second)throw new Error(`The amount(${u}) is Insufficient balance for ${i} , expect ${r.amount_second} `);return this.buildCoin(e,[...n],[...o],r.amount_second,i,s,a)}static fromBalance(e,t,n){return n.moveCall({target:"0x2::coin::from_balance",typeArguments:[t],arguments:[e]})}static intoBalance(e,t,n){return n.moveCall({target:"0x2::coin::into_balance",typeArguments:[t],arguments:["string"==typeof e?n.object(e):e]})}static mintBalanceZero(e,t){return t.moveCall({target:"0x2::balance::zero",typeArguments:[e],arguments:[]})}static destroyBalanceZero(e,t,n){return n.moveCall({target:"0x2::balance::destroy_zero",typeArguments:[t],arguments:[e]})}static getCoinAmountObjId(e,t){let n=e.amount_coin_array.find(e=>!(e.used||!Jc(e.amount).eq(t))&&(e.used=!0,!0));return n?n.coin_object_id:cu("CoinNotFound",`Coin not found for ${t} ${e.coin_type}`)}static buildMultiCoinInput(e,n,r,i){let s=t.getCoinAssets(r,n);if(t.isSuiCoin(r)){let t=e.splitCoins(e.gas,i.map(t=>e.pure.u64(t)));return{amount_coin_array:i.map((e,n)=>({coin_object_id:t[n],amount:e.toString(),used:!1})),coin_type:r,remain_coins:s}}let a=i.reduce((e,t)=>e+t,BigInt(0)),o=t.selectCoinObjectIdGreaterThanOrEqual(s,a);if(0===o.object_array.length)return cu("InsufficientBalance",`No enough coins for ${r} expect ${a} actual ${t.calculateTotalBalance(s)}`);let[u,...c]=o.object_array;c.length>0&&e.mergeCoins(u,[...c]);let l=e.splitCoins(u,i.map(t=>e.pure.u64(t)));return{amount_coin_array:i.map((e,t)=>({coin_object_id:l[t],amount:e.toString(),used:!1})),remain_coins:o.remain_coins,coin_type:r}}},t.callMintZeroValueCoin=(e,t)=>e.moveCall({target:"0x2::coin::zero",typeArguments:[t]}),t);function Yc(e,...t){let n=Array.isArray(t[t.length-1])?t.pop():[],r=[e,...t].filter(Boolean).join("::");return n&&n.length&&(r+=`<${n.join(", ")}>`),r}function Xc(e){try{let t=e.replace(/\s/g,""),n=t.match(/(<.+>)$/)?.[0]?.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(n){t=t.slice(0,t.indexOf("<"));let e={...Xc(t),type_arguments:n.map(e=>Xc(e).source_address)};return e.type_arguments=e.type_arguments.map(e=>Hc.isSuiCoin(e)?e:Xc(e).source_address),e.source_address=Yc(e.full_address,e.type_arguments),e}let r=t.split("::"),i={full_address:t,address:t===Kc||"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"===t?"0x2":Re(r[0]),module:r[1],name:r[2],type_arguments:[],source_address:""};return i.full_address=`${i.address}::${i.module}::${i.name}`,i.source_address=Yc(i.full_address,i.type_arguments),i}catch{return{full_address:e,address:"",module:"",name:"",type_arguments:[],source_address:e}}}function Qc(e){return Xc(e).source_address}var el=(e,t=!0)=>{let n=e.split("::"),r=Re(n.shift());return t&&(r=function(e){return e.startsWith("0x")?`${e.slice(2)}`:e}(r)),`${r}::${n.join("::")}`};var tl=class{constructor(e,t,n){this._cache={},this._env="mainnet",this._client=e,this._env=n||"mainnet",this._graphQLClient=t}async fetchCoinMetadata(e){let t=`coin_metadata_${e}`,n=this.getCache(t);if(n)return n;let r=await this._client.getCoinMetadata({coinType:e});return this.updateCache(t,r),r}async fetchCoinMetadataId(e){if(!this._graphQLClient)throw new Error("graphQLClient is not set");let t=`coin_metadata_id_${e}`,n=this.getCache(t);if(n)return n;let r=Ko("\n      query coinMetadataId($coinType: String!) {\n        objects(filter: { type: $coinType }, first: 1) {\n          nodes {\n            address\n          }\n        }\n      }\n    "),i=(await this._graphQLClient.query({query:r,variables:{coinType:`0x2::coin::CoinMetadata<${e}>`}})).data?.objects.nodes[0]?.address??null;return i&&this.updateCache(t,i),i}async getSuiTransactionResponse(e){let t;try{t=await this._client.getTransactionBlock({digest:e,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{t=await this._client.getTransactionBlock({digest:e,options:{showEvents:!0,showEffects:!0}})}return t}async queryEventsByPage(e,t="all"){let n=[],r=!0,i="all"===t,s=i?null:t.cursor;do{let a=await this._client.queryEvents({query:e,cursor:s,limit:i?null:t.limit});a.data?(n=[...n,...a.data],r=a.hasNextPage,s=a.nextCursor):r=!1}while(i&&r);return{data:n,next_cursor:s,has_next_page:r}}async queryTransactionBlocksByPage(e,t="all",n="ascending"){let r=[],i=!0,s="all"===t,a=s?null:t.cursor;do{let o=await this._client.queryTransactionBlocks({filter:e,cursor:a,order:n,limit:s?null:t.limit,options:{showEvents:!0}});o.data?(r=[...r,...o.data],i=o.hasNextPage,a=o.nextCursor):i=!1}while(s&&i);return{data:r,next_cursor:a,has_next_page:i}}async getOwnedObjectsByPage(e,t,n="all"){let r=[],i=!0,s="all"===n,a=s?null:n.cursor;do{let o=await this._client.getOwnedObjects({owner:e,...t,cursor:a,limit:s?null:n.limit});o.data?(r=[...r,...o.data],i=o.hasNextPage,a=o.nextCursor):i=!1}while(s&&i);return{data:r,next_cursor:a,has_next_page:i}}async getDynamicFieldsByPage(e,t="all"){let n=[],r=!0,i="all"===t,s=i?null:t.cursor;do{let a=await this._client.getDynamicFields({parentId:e,cursor:s,limit:i?null:t.limit});a.data?(n=[...n,...a.data],r=a.hasNextPage,s=a.nextCursor):r=!1}while(i&&r);return{data:n,next_cursor:s,has_next_page:r}}async getDynamicFieldObjects(e,t,n,r,i={showContent:!0,showType:!0,showOwner:!0}){let s=t.map(t=>function(e,t,n,r){let i;switch(r){case"address":i=yn.Address.serialize(t).toBytes();break;case"u8":i=yn.u8().serialize(t).toBytes();break;case"u16":i=yn.u16().serialize(t).toBytes();break;case"u32":i=yn.u32().serialize(t).toBytes();break;case"u64":i=yn.u64().serialize(t).toBytes();break;case"u128":i=yn.u128().serialize(t).toBytes();break;case"u256":i=yn.u256().serialize(t).toBytes();break;case"string":i=yn.string().serialize(t).toBytes();break;default:throw new Error(`Unsupported value type: ${r}`)}return vn(e,n,i)}(e,t,n,r));return 0===s.length?[]:await this.batchGetObjects(s,i)}async batchGetObjects(e,t,n=50){let r=[];try{for(let i=0;i<Math.ceil(e.length/n);i++){let s=await this._client.multiGetObjects({ids:e.slice(i*n,n*(i+1)),options:t});r=[...r,...s]}}catch(i){}return r}async calculationTxGas(e){let{sender:t}=e.blockData;if(void 0===t)throw Error("sdk sender is empty");let n=await this._client.devInspectTransactionBlock({transactionBlock:e,sender:t}),{gasUsed:r}=n.effects;return Number(r.computationCost)+Number(r.storageCost)-Number(r.storageRebate)}async sendTransaction(e,t){try{return await this._client.signAndExecuteTransaction({transaction:t,signer:e,options:{showEffects:!0,showEvents:!0}})}catch(rl){}}async sendSimulationTransaction(e,t){try{return e.setSender(t),await this._client.dryRunTransactionBlock({transactionBlock:await e.build({client:this._client})})}catch(rl){throw rl}}async executeTx(e,t,n){try{if(n){let n=Be("string"==typeof e?e:e.getPublicKey().toSuiAddress()),r=await this.sendSimulationTransaction(t,n);return r.events.length>0?r.events:r}if("string"==typeof e)throw new Error("Cannot send transaction with string address - keypair required for signing");return await this.sendTransaction(e,t)}catch(r){return r}}async getOwnerCoinAssets(e,t){let n=[],r=null;for(;;){let i=await(t?this._client.getCoins({owner:e,coinType:t,cursor:r}):this._client.getAllCoins({owner:e,cursor:r}));if(i.data.forEach(e=>{BigInt(e.balance)>0&&n.push({coin_type:Xc(e.coinType).source_address,coin_object_id:e.coinObjectId,balance:BigInt(e.balance)})}),r=i.nextCursor,!i.hasNextPage)break}return n}async getOwnerCoinBalances(e,t){let n=[];return n=t?[await this._client.getBalance({owner:e,coinType:t})]:[...await this._client.getAllBalances({owner:e})],n}updateCache(e,t,n=864e5){let r=this._cache[e];r?(r.overdue_time=lu(n),r.value=t):r=new pu(t,lu(n)),this._cache[e]=r}getCache(e,t=!1){let n=this._cache[e],r=n?.isValid();if(!t&&r)return n.value;r||delete this._cache[e]}};function nl(e,t,n){let r=new tl(e,t,n);return new Proxy(r,{get(e,t,n){if(t in e)return Reflect.get(e,t,n);if(t in e._client){let n=Reflect.get(e._client,t);return"function"==typeof n?n.bind(e._client):n}throw new Error(`Property or method "${String(t)}" does not exist on FullClient or its client.`)}})}new(iu(su()).default)(1e6);var rl,il=((rl=il||{})[rl.BelowRange=0]="BelowRange",rl[rl.InRange=1]="InRange",rl[rl.AboveRange=2]="AboveRange",rl);Qn("mainnet"),Qn("testnet");var sl=iu(su()),al=new sl.default(0),ol=new sl.default(1),ul=new sl.default(2),cl=ul.pow(new sl.default(128)),ll=ul.pow(new sl.default(64)).sub(ol),dl=ul.pow(new sl.default(128)).sub(ol),hl=class{static toX64BN(e){return e.mul(new sl.default(2).pow(new sl.default(64)))}static toX64Decimal(e){return e.mul(Zc.pow(2,64))}static toX64(e){return new sl.default(e.mul(Zc.pow(2,64)).floor().toFixed())}static fromX64(e){return new Zc(e.toString()).mul(Zc.pow(2,-64))}static fromX64Decimal(e){return e.mul(Zc.pow(2,-64))}static fromX64BN(e){return e.div(new sl.default(2).pow(new sl.default(64)))}static shiftRightRoundUp(e){let t=e.shrn(64);return e.mod(ll).gt(al)&&(t=t.add(ol)),t}static divRoundUp(e,t){return e.mod(t).eq(al)?e.div(t):e.div(t).add(new sl.default(1))}static subUnderflowU128(e,t){return e.lt(t)?e.sub(t).add(dl):e.sub(t)}static checkUnsignedSub(e,t){let n=e.sub(t);if(n.isNeg())throw new Error("Unsigned integer sub overflow");return n}static checkMul(e,t,n){let r=e.mul(t);return this.isOverflow(r,n)&&cu("MultiplicationOverflow","Multiplication overflow"),r}static checkMulDivFloor(e,t,n,r){n.eq(al)&&cu("DivisionByZero","Divide by zero");let i=e.mul(t).div(n);return this.isOverflow(i,r)&&cu("MultiplicationOverflow","Multiplication div overflow"),i}static checkMulDivCeil(e,t,n,r){if(n.eq(al))throw new Error("Divide by zero");let i=e.mul(t).add(n.sub(ol)).div(n);if(this.isOverflow(i,r))throw new Error("Multiplication div overflow");return i}static checkMulDivRound(e,t,n,r){n.eq(al)&&cu("DivisionByZero","Divide by zero");let i=e.mul(t.add(n.shrn(1))).div(n);return this.isOverflow(i,r)&&cu("MultiplicationOverflow","Multiplication div overflow"),i}static checkMulShiftRight(e,t,n,r){let i=e.mul(t).div(new sl.default(2).pow(new sl.default(n)));return this.isOverflow(i,r)&&cu("MultiplicationOverflow","Multiplication shift right overflow"),i}static checkMulShiftRight64RoundUpIf(e,t,n,r){let i=e.mul(t),s=r&&i.and(ll).gt(al)?i.shrn(64).add(ol):i.shrn(64);return this.isOverflow(s,n)&&cu("MultiplicationOverflow","Multiplication shift right overflow"),s}static checkMulShiftLeft(e,t,n,r){let i=e.mul(t).shln(n);return this.isOverflow(i,r)&&cu("MultiplicationOverflow","Multiplication shift left overflow"),i}static checkDivRoundUpIf(e,t,n){return t.eq(al)&&cu("DivisionByZero","Divide by zero"),n?this.divRoundUp(e,t):e.div(t)}static isOverflow(e,t){return e.gte(ul.pow(new sl.default(t)))}static sign(e){return e.testn(127)?1:0}static is_neg(e){return 1===this.sign(e)}static abs_u128(e){return e.gt(al)?e:this.u128Neg(e.subn(1))}static u128Neg(e){return e.uxor(new sl.default("ffffffffffffffffffffffffffffffff",16))}static neg(e){return this.is_neg(e)?e.abs():this.negFrom(e)}static abs(e){return 0===this.sign(e)?e:this.u128Neg(e.sub(new sl.default(1)))}static negFrom(e){return e.eq(al)?e:this.u128Neg(e).add(new sl.default(1)).or(new sl.default(1).shln(127))}static u128ToI128(e){return e.testn(127)?cl.sub(e).neg():e}};Zc.config({precision:64,rounding:Zc.ROUND_DOWN,toExpNeg:-64,toExpPos:64}),iu(su()),iu(su()),iu(su());const pl=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,s);return s},fl=e=>e;const ml=e=>{const t=(e=>e?pl(e):pl)(e),n=e=>function(e,t=fl){const n=o.useSyncExternalStore(e.subscribe,o.useCallback(()=>t(e.getState()),[e,t]),o.useCallback(()=>t(e.getInitialState()),[e,t]));return o.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},gl=e=>e?ml(e):ml;function yl(e,t){let n;try{n=e()}catch(Ho){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const vl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>vl(e)(n),catch(e){return this}}}catch(Ho){return{then(e){return this},catch:t=>vl(t)(Ho)}}},wl=(e,t)=>(n,r,i)=>{let s={storage:yl(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const o=new Set,u=new Set;let c=s.storage;if(!c)return e((...e)=>{n(...e)},r,i);const l=()=>{const e=s.partialize({...r()});return c.setItem(s.name,{state:e,version:s.version})},d=i.setState;i.setState=(e,t)=>(d(e,t),l());const h=e((...e)=>(n(...e),l()),r,i);let p;i.getInitialState=()=>h;const f=()=>{var e,t;if(!c)return;a=!1,o.forEach(e=>{var t;return e(null!=(t=r())?t:h)});const i=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=r())?e:h))||void 0;return vl(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){const t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[i,a]=e;if(p=s.merge(a,null!=(t=r())?t:h),n(p,!0),i)return l()}).then(()=>{null==i||i(p,void 0),p=r(),a=!0,u.forEach(e=>e(p))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},s.skipHydration||f(),p||h},bl="/v3/sui/dlmm/pool_fee_total",Ml="/v3/sui/dlmm/position/history",Ol="/v3/sui/dlmm/position/pnl",kl="/v3/sui/clmm/pool_fee_total",Sl=()=>({fetchByApi:async(e,t,n,r,i)=>{const s="https://api-sui.cetus.zone",a="GET"===t?await async function(e,t,n=3e4,r=new AbortController){const i=[];let s="";if(t){for(const e in t){const n=`${e}=${t[e]}`;i.push(n)}s=`${e}?${i.join("&")}`}else s=e;const a=setTimeout(()=>{r.abort()},n);try{const e=await fetch(s,{signal:r.signal});if(clearTimeout(a),!e.ok)throw new Error("Request failed");const t=await e.json();return t?.data||t}catch(o){if(clearTimeout(a),o instanceof Error&&"AbortError"===o.name)throw new Error("request time out");throw o}}(`${r||s}${e}`,n,void 0,i instanceof AbortController?i:void 0):await async function(e,t,n=3e4,r){const i=new AbortController,s=setTimeout(()=>{i.abort()},n);try{const n=await fetch(e,{headers:r,body:JSON.stringify(t),method:"POST",signal:i.signal});if(clearTimeout(s),!n.ok)throw new Error("Request failed");return n.json()}catch(a){if(clearTimeout(s),a instanceof Error&&"AbortError"===a.name)throw new Error("request time out");throw a}}(`${r||s}${e}`,n,void 0,i instanceof Headers?i:void 0);return a}}),El=gl()(()=>({suiClient:nl(new ua({url:"https://fullnode.mainnet.sui.io:443"}),new yo({network:"mainnet",url:"https://graphql.mainnet.sui.io/graphql"}),"mainnet")}));export{kl as C,Ml as D,O as G,ou as M,Hc as R,x as S,el as Z,au as _,T as a,Sl as b,gl as c,Ol as d,$e as e,bl as f,Ae as g,Ne as i,hl as k,wl as p,El as u,Jc as z};
