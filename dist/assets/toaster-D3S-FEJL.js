import{z as e,e as t,A as s,C as r,D as o,M as n,E as i,F as a,G as c,H as l,J as u,K as d,L as p,j as g,N as f,Q as m,S as h,T as v,U as y,V as x,W as T,X as E,Y as b,c as S,Z as C,_ as R,$ as P,r as N,a0 as M,a1 as k,a2 as I,m as w,a3 as O,a4 as j,p as D,w as F,a5 as A}from"./index-ybds6jRs.js";import{c as L,a as $}from"./useSize-Dvc3rk6B.js";import{E as V,S as W}from"./v-stack-BY_1ISyr.js";import{S as U}from"./button-CYzPHx_C.js";const[G,H]=L({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),[B,_]=L({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),q=()=>(e,t)=>t.reduce((e,t)=>{const[s,r]=e,o=t;return void 0!==r[o]&&(s[o]=r[o]),delete r[o],[s,r]},[{},{...e}]);var z=e(),K=void 0!==globalThis.document?t.useLayoutEffect:t.useEffect;function Z(e){const s=e().value??e().defaultValue,r=e().isEqual??Object.is,[o]=t.useState(s),[n,i]=t.useState(o),a=void 0!==e().value,u=t.useRef(n);u.current=a?e().value:n;const d=t.useRef(u.current);K(()=>{d.current=u.current},[n,e().value]);return{initial:o,ref:u,get:function(){return a?e().value:n},set(t){(e().sync?z.flushSync:c)(()=>(t=>{const s=d.current,o=l(t)?t(s):t;e().debug,a||i(o),r(o,s)||e().onChange?.(o,s)})(t))},invoke(t,s){e().onChange?.(t,s)},hash:t=>e().hash?.(t)??String(t)}}Z.cleanup=e=>{t.useEffect(()=>e,[])},Z.ref=e=>{const s=t.useRef(e);return{get:()=>s.current,set:e=>{s.current=e}}};var J=(e,s)=>{const r=t.useRef(!1),o=t.useRef(!1);t.useEffect(()=>{if(r.current&&o.current)return s();o.current=!0},[...(e??[]).map(e=>"function"==typeof e?e():e)]),t.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function Y(e,a={}){const c=t.useMemo(()=>{const{id:e,ids:t,getRootNode:r}=a;return s({id:e,ids:t,getRootNode:r})},[a]),g=(...t)=>{e.debug},f=function(e){const t=X(e);return function(e){return t.current[e]}}(e.props?.({props:r(a),scope:c})??a),m=e.context?.({prop:f,bindable:Z,scope:c,flush:Q,getContext:()=>v,getComputed:()=>I,getRefs:()=>C,getEvent:()=>b()}),h=X(m),v={get:e=>h.current?.[e].ref.current,set(e,t){h.current?.[e].set(t)},initial:e=>h.current?.[e].initial,hash(e){const t=h.current?.[e].get();return h.current?.[e].hash(t)}},y=t.useRef(new Map),x=t.useRef(null),T=t.useRef(null),E=t.useRef({type:""}),b=()=>({...E.current,current:()=>E.current,previous:()=>T.current}),S=()=>({...w,matches:(...e)=>e.includes(w.ref.current),hasTag:t=>!!e.states[w.ref.current]?.tags?.includes(t)}),C=function(e){const s=t.useRef(e);return{get:e=>s.current[e],set(e,t){s.current[e]=t}}}(e.refs?.({prop:f,context:v})??{}),R=()=>({state:S(),context:v,event:b(),prop:f,send:D,action:P,guard:N,track:J,refs:C,computed:I,flush:Q,scope:c,choose:k}),P=t=>{const s=l(t)?t(R()):t;if(!s)return;const r=s.map(t=>{const s=e.implementations?.actions?.[t];return s||u(`[zag-js] No implementation found for action "${JSON.stringify(t)}"`),s});for(const e of r)e?.(R())},N=t=>l(t)?t(R()):e.implementations?.guards?.[t](R()),M=t=>{const s=l(t)?t(R()):t;if(!s)return;const r=s.map(t=>{const s=e.implementations?.effects?.[t];return s||u(`[zag-js] No implementation found for effect "${JSON.stringify(t)}"`),s}),o=[];for(const e of r){const t=e?.(R());t&&o.push(t)}return()=>o.forEach(e=>e?.())},k=e=>d(e).find(e=>{let t=!e.guard;return p(e.guard)?t=!!N(e.guard):l(e.guard)&&(t=e.guard(R())),t}),I=t=>{o(e.computed,()=>"[zag-js] No computed object found on machine");return(0,e.computed[t])({context:v,event:b(),prop:f,refs:C,scope:c,computed:I})},w=Z(()=>({defaultValue:e.initialState({prop:f}),onChange(t,s){if(s){const e=y.current.get(s);e?.(),y.current.delete(s)}s&&P(e.states[s]?.exit),P(x.current?.actions);const r=M(e.states[t]?.effects);if(r&&y.current.set(t,r),s===i){P(e.entry);const t=M(e.effects);t&&y.current.set(i,t)}P(e.states[t]?.entry)}})),O=t.useRef(void 0),j=t.useRef(n.NotStarted);K(()=>{queueMicrotask(()=>{const e=j.current===n.Started;j.current=n.Started,g();const t=O.current??w.initial;w.invoke(t,e?w.get():i)});const t=y.current,s=w.ref.current;return()=>{g(),O.current=s,j.current=n.Stopped,t.forEach(e=>e?.()),y.current=new Map,x.current=null,queueMicrotask(()=>{P(e.exit)})}},[]);const D=t=>{queueMicrotask(()=>{if(j.current!==n.Started)return;T.current=E.current,E.current=t;let s="ref"in w?w.ref.current:w.get();const r=e.states[s].on?.[t.type]??e.on?.[t.type],o=k(r);if(!o)return;x.current=o;const i=o.target??s;g(t.type,o.target,o.actions);const a=i!==s;a?z.flushSync(()=>w.set(i)):o.reenter&&!a?w.invoke(s,s):P(o.actions??[])})};return e.watch?.(R()),{state:S(),send:D,context:v,prop:f,scope:c,refs:C,computed:I,event:b(),getStatus:()=>j.current}}function X(e){const s=t.useRef(e);return s.current=e,s}function Q(e){queueMicrotask(()=>{z.flushSync(()=>e())})}var ee=a(e=>e);const te=e=>{const{children:s,disabled:r}=e,[o,n]=t.useState(e.container?.current),i=t.useSyncExternalStore(re,()=>!1,()=>!0),{getRootNode:a}=H();if(t.useEffect(()=>{n(()=>e.container?.current)},[e.container]),i||r)return g.jsx(g.Fragment,{children:s});const c=o??se(a);return g.jsx(g.Fragment,{children:t.Children.map(s,e=>z.createPortal(e,c))})},se=e=>{const t=e?.(),s=t.getRootNode();return f(s)?s:m(t).body},re=()=>()=>{};var oe=E("toast").parts("group","root","title","description","actionTrigger","closeTrigger").build(),ne=e=>`toast-group:${e}`,ie=(e,t)=>e.getById(`toast-group:${t}`),ae=e=>`toast:${e.id}`,ce=e=>e.getById(ae(e)),le=e=>`toast:${e.id}:title`,ue=e=>`toast:${e.id}:description`,de={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function pe(e,t){return e??de[t]??de.DEFAULT}function ge(e,t){const{prop:s,computed:r,context:o}=e,{offsets:n,gap:i}=s("store").attrs,a=o.get("heights"),c=(e=>"string"==typeof e?{left:e,right:e,bottom:e,top:e}:e)(n),l="rtl"===s("dir"),u=t.replace("-start",l?"-right":"-left").replace("-end",l?"-left":"-right"),d=u.includes("right"),p=u.includes("left"),g={position:"fixed",pointerEvents:r("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${i}px`,"--first-height":`${a[0]?.height||0}px`,"--viewport-offset-left":c.left,"--viewport-offset-right":c.right,"--viewport-offset-top":c.top,"--viewport-offset-bottom":c.bottom,zIndex:R};let f="center";if(d&&(f="flex-end"),p&&(f="flex-start"),g.alignItems=f,u.includes("top")){const e=c.top;g.top=`max(env(safe-area-inset-top, 0px), ${e})`}if(u.includes("bottom")){const e=c.bottom;g.bottom=`max(env(safe-area-inset-bottom, 0px), ${e})`}if(!u.includes("left")){const e=c.right;g.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${e})`}if(!u.includes("right")){const e=c.left;g.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${e})`}return g}function fe(e,t){const{prop:s,context:r,computed:o}=e,n=s("parent"),i=n.computed("placement"),{gap:a}=n.prop("store").attrs,[c]=i.split("-"),l=r.get("mounted"),u=r.get("remainingTime"),d=o("height"),p=o("frontmost"),g=!p,f=!s("stacked"),m=s("stacked"),h="loading"===s("type")?Number.MAX_SAFE_INTEGER:u,v=o("heightIndex")*a+o("heightBefore"),y={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${s("removeDelay")}ms`,"--duration":`${h}ms`,"--initial-height":`${d}px`,"--offset":`${v}px`,"--index":s("index"),"--z-index":o("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},x=e=>Object.assign(y,e);return"top"===c?x({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):"bottom"===c&&x({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),l&&(x({"--y":"0","--opacity":"1"}),m&&x({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||x({"--opacity":"0",pointerEvents:"none"}),g&&f&&(x({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||x({"--y":"calc(var(--sign) * 40%)"})),g&&m&&!t&&x({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),p&&!t&&x({"--y":"calc(var(--lift) * -100%)"}),y}function me(e,t){const{computed:s}=e,r={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"};var o;return s("frontmost")&&!t&&(o={height:"calc(var(--initial-height) + 80%)"},Object.assign(r,o)),r}var{guards:he,createMachine:ve}=h(),{and:ye}=he,xe=ve({props:({props:e})=>({dir:"ltr",id:T(),...e,store:e.store}),initialState:({prop:e})=>e("store").attrs.overlap?"overlap":"stack",refs:()=>({lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:x.create(),dismissableCleanup:void 0}),context:({bindable:e})=>({toasts:e(()=>({defaultValue:[],sync:!0,hash:e=>e.map(e=>e.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}),computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:s}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{s(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:ye("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore:({context:e,prop:t})=>t("store").subscribe(t=>{t.dismiss?e.set("toasts",e=>e.filter(e=>e.id!==t.id)):e.set("toasts",e=>{const s=e.findIndex(e=>e.id===t.id);return-1!==s?[...e.slice(0,s),{...e[s],...t},...e.slice(s+1)]:[t,...e]})}),trackHotKeyPress:({prop:e,send:t})=>y(document,"keydown",s=>{const{hotkey:r}=e("store").attrs;r.every(e=>s[e]||s.code===e)&&t({type:"DOC.HOTKEY"})},{capture:!0}),trackDocumentVisibility({prop:e,send:t,scope:s}){const{pauseOnPageIdle:r}=e("store").attrs;if(!r)return;const o=s.getDoc();return y(o,"visibilitychange",()=>{const e="hidden"===o.visibilityState;t({type:e?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:s,scope:r}){const o=t.get("toasts"),n=s("placement"),i=o.length>0;if(!i)return void e.get("dismissableCleanup")?.();if(i&&e.get("dismissableCleanup"))return;const a=v(()=>ie(r,n),{defer:!0});e.set("dismissableCleanup",a)},clearDismissableBranch({refs:e}){e.get("dismissableCleanup")?.()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{ie(e,t("placement"))?.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){null!=e?.id&&queueMicrotask(()=>{t.set("heights",t=>t.filter(t=>t.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){!e.get("isFocusWithin")&&t.target&&(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){e.get("lastFocusedEl")&&!e.get("isPointerWithin")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});var{not:Te}=P(),Ee=S({props:({props:e})=>(k(e,["id","type","parent","removeDelay"],"toast"),{closable:!0,...e,duration:pe(e.duration,e.type)}),initialState:({prop:e})=>"loading"===e("type")||e("duration")===1/0?"visible:persist":"visible",context:({prop:e,bindable:t})=>({remainingTime:t(()=>({defaultValue:pe(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}),refs:()=>({closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}),computed:{zIndex:({prop:e})=>{const t=e("parent").context.get("toasts"),s=t.findIndex(t=>t.id===e("id"));return t.length-s},height:({prop:e})=>{const t=e("parent").context.get("heights").find(t=>t.id===e("id"));return t?.height??0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(t=>t.id===e("id")),frontmost:({prop:e})=>0===e("index"),heightBefore:({prop:e})=>{const t=e("parent").context.get("heights"),s=t.findIndex(t=>t.id===e("id"));return t.reduce((e,t,r)=>r>=s?e:e+t.height,0)},shouldPersist:({prop:e})=>"loading"===e("type")||e("duration")===1/0},watch({track:e,prop:t,send:s}){e([()=>t("message")],()=>{const e=t("message");e&&s({type:e,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{s({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:Te("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay:({prop:e,send:t})=>M(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay")),waitForDuration({send:e,context:t,computed:s}){if(!s("shouldPersist"))return M(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick:({send:e})=>M(()=>{e({type:"SHOW",src:"timer"})},0),trackHeight({scope:e,prop:t}){let s;return N(()=>{const r=ce(e);if(!r)return;const o=new(e.getWin().MutationObserver)(()=>{const e=r.style.height;r.style.height="auto";const s=r.getBoundingClientRect().height;r.style.height=e;const o={id:t("id"),height:s};be(t("parent"),o)});o.observe(r,{childList:!0,subtree:!0,characterData:!0}),s=()=>o.disconnect()}),()=>s?.()}},guards:{isLoadingType:({prop:e})=>"loading"===e("type"),shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){N(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:s}){queueMicrotask(()=>{const r=ce(e);if(!r)return;const o=r.style.height;r.style.height="auto";const n=r.getBoundingClientRect().height;r.style.height=o,s.set("initialHeight",n);const i={id:t("id"),height:n};be(t("parent"),i)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:s}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",pe(s("duration"),s("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",e=>{const s=t.get("closeTimerStartTime"),r=Date.now()-s;return t.set("lastCloseStartTimerStartTime",Date.now()),e-r})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){e("onStatusChange")?.({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){e("onStatusChange")?.({status:"unmounted"})},invokeOnVisible({prop:e}){e("onStatusChange")?.({status:"visible"})}}}});function be(e,t){const{id:s,height:r}=t;e.context.set("heights",e=>e.find(e=>e.id===s)?e.map(e=>e.id===s?{...e,height:r}:e):[{id:s,height:r},...e])}function Se(e={}){const t=(s=e,o={placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0},{...o,...r(s)});var s,o;let n=[],i=[],a=new Set,c=[];const l=e=>(n.forEach(t=>t(e)),e),d=e=>{const s=e.id??`toast:${T()}`,r=i.find(e=>e.id===s);return a.has(s)&&a.delete(s),r?i=i.map(t=>t.id===s?l({...t,...e,id:s}):t):(e=>{i.length>=t.max?c.push(e):(l(e),i.unshift(e))})({id:s,duration:t.duration,removeDelay:t.removeDelay,type:"info",...e,stacked:!t.overlap,gap:t.gap}),s},p=e=>(a.add(e),e?(n.forEach(t=>t({id:e,dismiss:!0})),i=i.filter(t=>t.id!==e),(()=>{for(;c.length>0&&i.length<t.max;){const e=c.shift();e&&(l(e),i.unshift(e))}})()):(i.forEach(e=>{n.forEach(t=>t({id:e.id,dismiss:!0}))}),i=[],c=[]),e);return{attrs:t,subscribe:e=>(n.push(e),()=>{const t=n.indexOf(e);n.splice(t,1)}),create:d,update:(e,t)=>d({id:e,...t}),remove:p,dismiss:e=>{i=null!=e?i.map(t=>t.id===e?l({...t,message:"DISMISS"}):t):i.map(e=>l({...e,message:"DISMISS"}))},error:e=>d({...e,type:"error"}),success:e=>d({...e,type:"success"}),info:e=>d({...e,type:"info"}),warning:e=>d({...e,type:"warning"}),loading:e=>d({...e,type:"loading"}),getVisibleToasts:()=>i.filter(e=>!a.has(e.id)),getCount:()=>i.length,promise:(e,t,s={})=>{if(!t||!t.loading)return void u("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");const r=d({...s,...t.loading,promise:e,type:"loading"});let o,n=!0;const i=C(e).then(async e=>{if(o=["resolve",e],Ce(e)&&!e.ok){n=!1;const o=C(t.error,`HTTP Error! status: ${e.status}`);d({...s,...o,id:r,type:"error"})}else if(void 0!==t.success){n=!1;const o=C(t.success,e);d({...s,...o,id:r,type:"success"})}}).catch(async e=>{if(o=["reject",e],void 0!==t.error){n=!1;const o=C(t.error,e);d({...s,...o,id:r,type:"error"})}}).finally(()=>{n&&p(r),t.finally?.()});return{id:r,unwrap:()=>new Promise((e,t)=>i.then(()=>"reject"===o[0]?t(o[1]):e(o[1])).catch(t))}},pause:e=>{i=null!=e?i.map(t=>t.id===e?l({...t,message:"PAUSE"}):t):i.map(e=>l({...e,message:"PAUSE"}))},resume:e=>{i=null!=e?i.map(t=>t.id===e?l({...t,message:"RESUME"}):t):i.map(e=>l({...e,message:"RESUME"}))},isVisible:e=>!a.has(e)&&!!i.find(t=>t.id===e),isDismissed:e=>a.has(e),expand:()=>{i=i.map(e=>l({...e,stacked:!0}))},collapse:()=>{i=i.map(e=>l({...e,stacked:!1}))}}}var Ce=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Re={connect:function(e,t){const{context:s,prop:r,send:o,refs:n,computed:i}=e;return{getCount:()=>s.get("toasts").length,getToasts:()=>s.get("toasts"),getGroupProps(s={}){const{label:a="Notifications"}=s,{hotkey:c}=r("store").attrs,l=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),u=i("placement"),[d,p="center"]=u.split("-");return t.element({...oe.group.attrs,dir:r("dir"),tabIndex:-1,"aria-label":`${u} ${a} ${l}`,id:ne(u),"data-placement":u,"data-side":d,"data-align":p,"aria-live":"polite",role:"region",style:ge(e,u),onMouseEnter(){n.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:u})},onMouseMove(){n.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:u})},onMouseLeave(){n.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_LEAVE",placement:u})},onFocus(e){o({type:"REGION.FOCUS",target:e.relatedTarget})},onBlur(e){n.get("isFocusWithin")&&!b(e.currentTarget,e.relatedTarget)&&queueMicrotask(()=>o({type:"REGION.BLUR"}))}})},subscribe:e=>r("store").subscribe(()=>e(s.get("toasts")))}},machine:xe};const[Pe,Ne]=L({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),Me=t.forwardRef((e,t)=>{const s=Ne(),r=w(s.getActionTriggerProps(),e);return g.jsx($.button,{...r,ref:t})});Me.displayName="ToastActionTrigger";const ke=t.forwardRef((e,t)=>{const s=Ne(),r=w(s.getCloseTriggerProps(),e);return g.jsx($.button,{...r,ref:t})});ke.displayName="ToastCloseTrigger";const Ie=t.forwardRef((e,t)=>{const s=Ne(),r=w(s.getDescriptionProps(),e);return g.jsx($.div,{...r,ref:t})});Ie.displayName="ToastDescription";const we=t.forwardRef((e,t)=>{const s=Ne(),r=w(s.getRootProps(),e);return g.jsxs("div",{...r,ref:t,children:[g.jsx("div",{...s.getGhostBeforeProps()}),e.children,g.jsx("div",{...s.getGhostAfterProps()})]})});we.displayName="ToastRoot";const Oe=t.forwardRef((e,t)=>{const s=Ne(),r=w(s.getTitleProps(),e);return g.jsx($.div,{...r,ref:t})});Oe.displayName="ToastTitle";const je=t.forwardRef((e,s)=>{const{toaster:r,children:o,...n}=e,i=_(),a=H(),c=Y(Re.machine,{store:r,id:t.useId(),dir:i?.dir,getRootNode:a?.getRootNode}),l=Re.connect(c,ee),u=w(l.getGroupProps(),n);return g.jsx($.div,{...u,ref:s,children:l.getToasts().map((e,t)=>g.jsx(De,{value:e,parent:c,index:t,children:e=>o(e)},e.id))})});je.displayName="Toaster";const De=e=>{const t=H(),s={...e.value,parent:e.parent,index:e.index,getRootNode:t.getRootNode},r=function(e,t){const{state:s,send:r,prop:o,scope:n,context:i,computed:a}=e,c=s.hasTag("visible"),l=s.hasTag("paused"),u=i.get("mounted"),d=a("frontmost"),p=o("parent").computed("placement"),g=o("type"),f=o("stacked"),m=o("title"),h=o("description"),v=o("action"),[y,x="center"]=p.split("-");return{type:g,title:m,description:h,placement:p,visible:c,paused:l,closable:!!o("closable"),pause(){r({type:"PAUSE"})},resume(){r({type:"RESUME"})},dismiss(){r({type:"DISMISS",src:"programmatic"})},getRootProps:()=>t.element({...oe.root.attrs,dir:o("dir"),id:ae(n),"data-state":c?"open":"closed","data-type":g,"data-placement":p,"data-align":x,"data-side":y,"data-mounted":I(u),"data-paused":I(l),"data-first":I(d),"data-sibling":I(!d),"data-stack":I(f),"data-overlap":I(!f),role:"status","aria-atomic":"true","aria-describedby":h?ue(n):void 0,"aria-labelledby":m?le(n):void 0,tabIndex:0,style:fe(e,c),onKeyDown(e){e.defaultPrevented||"Escape"==e.key&&(r({type:"DISMISS",src:"keyboard"}),e.preventDefault())}}),getGhostBeforeProps:()=>t.element({"data-ghost":"before",style:me(e,c)}),getGhostAfterProps:()=>t.element({"data-ghost":"after",style:{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}),getTitleProps:()=>t.element({...oe.title.attrs,id:le(n)}),getDescriptionProps:()=>t.element({...oe.description.attrs,id:ue(n)}),getActionTriggerProps:()=>t.button({...oe.actionTrigger.attrs,type:"button",onClick(e){e.defaultPrevented||(v?.onClick?.(),r({type:"DISMISS",src:"user"}))}}),getCloseTriggerProps(){return t.button({id:(e=n,`toast${e.id}:close`),...oe.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(e){e.defaultPrevented||r({type:"DISMISS",src:"user"})}});var e}}}(Y(Ee,{...s}),ee);return g.jsx(Pe,{value:r,children:e.children(e.value)})};function Fe(e){const{key:s,recipe:r}=e,o=O();return t.useMemo(()=>{const e=r||(null!=s?o.getSlotRecipe(s):{});return o.sva(structuredClone(e))},[s,r,o])}De.displayName="ToastActor";const Ae=e=>{const{key:s,recipe:r}=e,o=(n=s||r.className||"Component").charAt(0).toUpperCase()+n.slice(1);var n;const[i,a]=j({name:`${o}StylesContext`,errorMessage:`use${o}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${o}.Root />" `}),[c,l]=j({name:`${o}ClassNameContext`,errorMessage:`use${o}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${o}.Root />" `,strict:!1}),[u,d]=j({strict:!1,name:`${o}PropsContext`,providerName:`${o}PropsContext`,defaultValue:{}});function p(e){const{unstyled:o,...n}=e,i=Fe({key:s,recipe:n.recipe||r}),[a,c]=t.useMemo(()=>i.splitVariantProps(n),[n,i]);return{styles:t.useMemo(()=>o?V:i(a),[o,a,i]),classNames:i.classNameMap,props:c}}return{StylesProvider:i,ClassNamesProvider:c,PropsProvider:u,usePropsContext:d,useRecipeResult:p,withProvider:(e,s,r)=>{const{defaultProps:o,...n}=r??{},a=D(e,{},n),l=t.forwardRef((e,n)=>{const l=d(),u=t.useMemo(()=>A(o??{},l,e),[l,e]),{styles:f,props:m,classNames:h}=p(u),v=h[s],y=g.jsx(i,{value:f,children:g.jsx(c,{value:h,children:g.jsx(a,{ref:n,...m,css:[f[s],u.css],className:F(u.className,v)})})});return r?.wrapElement?.(y,u)??y});return l.displayName=e.displayName||e.name,l},withContext:(e,s,r)=>{const o=D(e,{},r),n=t.forwardRef((e,t)=>{const{unstyled:r,...n}=e,i=a(),c=l(),u=c?.[s];return g.jsx(o,{...n,css:[!r&&s?i[s]:void 0,e.css],ref:t,className:F(e.className,u)})});return n.displayName=e.displayName||e.name,n},withRootProvider:function(e,s={}){const{defaultProps:r}=s,o=s=>{const o=d(),n=t.useMemo(()=>A(r,o,s),[o,s]),{styles:a,classNames:l,props:u}=p(n);return g.jsx(i,{value:a,children:g.jsx(c,{value:l,children:g.jsx(e,{...u})})})};return o.displayName=e.displayName||e.name,o},useStyles:a,useClassNames:l}},Le=e=>g.jsx(D.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...e,children:g.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),$e=e=>g.jsx(D.svg,{viewBox:"0 0 24 24",fill:"currentColor",...e,children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),{withProvider:Ve,withContext:We,useStyles:Ue}=Ae({key:"toast"}),Ge=D(je,{},{forwardAsChild:!0}),He=Ve(we,"root",{forwardAsChild:!0}),Be=We(ke,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:g.jsx($e,{})}}),_e=We(Oe,"title",{forwardAsChild:!0}),qe=We(Ie,"description",{forwardAsChild:!0}),ze=We(Me,"actionTrigger",{forwardAsChild:!0}),Ke={warning:Le,success:e=>g.jsx(D.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...e,children:g.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),error:Le},Ze=t.forwardRef(function(e,t){const{unstyled:s,...r}=e,o=Ne(),n=Ue(),i=Ke[o.type];return i?g.jsx(i,{ref:t,...r,css:[s?void 0:n.indicator,e.css]}):null}),Je=Se({placement:"top",pauseOnPageIdle:!0});const Ye=()=>g.jsx(te,{children:g.jsx(Ge,{toaster:Je,insetInline:{mdDown:"4"},children:e=>g.jsxs(He,{width:{md:"sm"},bg:"#000000",border:"1px solid",borderColor:"primary_text.10",children:["loading"===e.type?g.jsx(U,{size:"sm",color:"blue.solid"}):g.jsx(Ze,{color:"primary_text"}),g.jsxs(W,{gap:"1",flex:"1",maxWidth:"100%",children:[e.title&&g.jsx(_e,{color:"primary_text",children:e.title}),e.description&&g.jsx(qe,{children:e.description})]}),e.action&&g.jsx(ze,{children:e.action.label}),e.closable&&g.jsx(Be,{})]})})});export{te as P,Ye as T,H as a,_ as b,q as c,Ae as d,Fe as e,ee as n,Je as t,Y as u};
